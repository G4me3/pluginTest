{"version":3,"sources":["webpack:///./node_modules/react-mosaic-component/lib/util/assertNever.js","webpack:///./node_modules/react-mosaic-component/lib/RootDropTargets.js","webpack:///./node_modules/react-mosaic-component/lib/MosaicWindow.js","webpack:///./node_modules/lodash/defer.js","webpack:///./node_modules/lodash/_baseDelay.js","webpack:///./node_modules/mirador/dist/es/src/components/ErrorDialog.js","webpack:///./node_modules/mirador/dist/es/src/containers/ErrorDialog.js","webpack:///./node_modules/@material-ui/core/esm/AppBar/AppBar.js","webpack:///./node_modules/@material-ui/core/esm/useMediaQuery/useMediaQuery.js","webpack:///./node_modules/@material-ui/core/esm/withWidth/withWidth.js","webpack:///./node_modules/@material-ui/core/esm/Fab/Fab.js","webpack:///./node_modules/mirador/dist/es/src/components/WorkspaceAddButton.js","webpack:///./node_modules/mirador/dist/es/src/containers/WorkspaceAddButton.js","webpack:///./node_modules/mirador/dist/es/src/components/FullScreenButton.js","webpack:///./node_modules/mirador/dist/es/src/containers/FullScreenButton.js","webpack:///./node_modules/mirador/dist/es/src/components/LanguageSettings.js","webpack:///./node_modules/mirador/dist/es/src/containers/LanguageSettings.js","webpack:///./node_modules/mirador/dist/es/src/components/NestedMenu.js","webpack:///./node_modules/@material-ui/core/esm/Card/Card.js","webpack:///./node_modules/@material-ui/core/esm/CardContent/CardContent.js","webpack:///./node_modules/mirador/dist/es/src/components/icons/WorkspaceTypeElasticIcon.js","webpack:///./node_modules/mirador/dist/es/src/components/icons/WorkspaceTypeMosaicIcon.js","webpack:///./node_modules/mirador/dist/es/src/components/ScrollIndicatedDialogContent.js","webpack:///./node_modules/mirador/dist/es/src/containers/ScrollIndicatedDialogContent.js","webpack:///./node_modules/mirador/dist/es/src/components/WorkspaceSelectionDialog.js","webpack:///./node_modules/mirador/dist/es/src/containers/WorkspaceSelectionDialog.js","webpack:///./node_modules/mirador/dist/es/src/components/ChangeThemeDialog.js","webpack:///./node_modules/mirador/dist/es/src/containers/ChangeThemeDialog.js","webpack:///./node_modules/mirador/dist/es/src/components/WorkspaceMenu.js","webpack:///./node_modules/mirador/dist/es/src/containers/WorkspaceMenu.js","webpack:///./node_modules/mirador/dist/es/src/components/WorkspaceMenuButton.js","webpack:///./node_modules/mirador/dist/es/src/containers/WorkspaceMenuButton.js","webpack:///./node_modules/@material-ui/core/esm/SnackbarContent/SnackbarContent.js","webpack:///./node_modules/@material-ui/core/esm/Snackbar/Snackbar.js","webpack:///./node_modules/@material-ui/core/esm/Accordion/AccordionContext.js","webpack:///./node_modules/@material-ui/core/esm/Accordion/Accordion.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toArray.js","webpack:///./node_modules/@material-ui/core/esm/AccordionSummary/AccordionSummary.js","webpack:///./node_modules/@material-ui/core/esm/AccordionDetails/AccordionDetails.js","webpack:///./node_modules/mirador/dist/es/src/components/WorkspaceExport.js","webpack:///./node_modules/mirador/dist/es/src/containers/WorkspaceExport.js","webpack:///./node_modules/mirador/dist/es/src/components/WorkspaceImport.js","webpack:///./node_modules/mirador/dist/es/src/containers/WorkspaceImport.js","webpack:///./node_modules/mirador/dist/es/src/components/WorkspaceOptionsMenu.js","webpack:///./node_modules/mirador/dist/es/src/containers/WorkspaceOptionsMenu.js","webpack:///./node_modules/mirador/dist/es/src/components/WorkspaceOptionsButton.js","webpack:///./node_modules/mirador/dist/es/src/containers/WorkspaceOptionsButton.js","webpack:///./node_modules/mirador/dist/es/src/components/WindowList.js","webpack:///./node_modules/mirador/dist/es/src/containers/WindowList.js","webpack:///./node_modules/mirador/dist/es/src/components/WindowListButton.js","webpack:///./node_modules/mirador/dist/es/src/containers/WindowListButton.js","webpack:///./node_modules/mirador/dist/es/src/components/WorkspaceControlPanelButtons.js","webpack:///./node_modules/mirador/dist/es/src/containers/WorkspaceControlPanelButtons.js","webpack:///./node_modules/mirador/dist/es/src/components/icons/MiradorIcon.js","webpack:///./node_modules/mirador/dist/es/src/components/Branding.js","webpack:///./node_modules/mirador/dist/es/src/containers/Branding.js","webpack:///./node_modules/mirador/dist/es/src/components/WorkspaceControlPanel.js","webpack:///./node_modules/mirador/dist/es/src/containers/WorkspaceControlPanel.js","webpack:///./node_modules/@material-ui/core/esm/FormControlLabel/FormControlLabel.js","webpack:///./node_modules/mirador/dist/es/src/components/icons/ThumbnailNavigationBottomIcon.js","webpack:///./node_modules/mirador/dist/es/src/components/icons/ThumbnailNavigationRightIcon.js","webpack:///./node_modules/mirador/dist/es/src/components/WindowThumbnailSettings.js","webpack:///./node_modules/mirador/dist/es/src/containers/WindowThumbnailSettings.js","webpack:///./node_modules/mirador/dist/es/src/components/icons/BookViewIcon.js","webpack:///./node_modules/mirador/dist/es/src/components/icons/GalleryViewIcon.js","webpack:///./node_modules/mirador/dist/es/src/components/WindowViewSettings.js","webpack:///./node_modules/mirador/dist/es/src/containers/WindowViewSettings.js","webpack:///./node_modules/mirador/dist/es/src/components/WindowTopMenu.js","webpack:///./node_modules/mirador/dist/es/src/containers/WindowTopMenu.js","webpack:///./node_modules/mirador/dist/es/src/components/icons/WindowOptionsIcon.js","webpack:///./node_modules/mirador/dist/es/src/components/WindowTopMenuButton.js","webpack:///./node_modules/mirador/dist/es/src/containers/WindowTopMenuButton.js","webpack:///./node_modules/mirador/dist/es/src/components/WindowTopBarPluginArea.js","webpack:///./node_modules/mirador/dist/es/src/containers/WindowTopBarPluginArea.js","webpack:///./node_modules/mirador/dist/es/src/components/WindowTopBarPluginMenu.js","webpack:///./node_modules/mirador/dist/es/src/containers/WindowTopBarPluginMenu.js","webpack:///./node_modules/mirador/dist/es/src/components/WindowTopBarTitle.js","webpack:///./node_modules/mirador/dist/es/src/containers/WindowTopBarTitle.js","webpack:///./node_modules/mirador/dist/es/src/components/icons/WindowMaxIcon.js","webpack:///./node_modules/mirador/dist/es/src/components/icons/WindowMinIcon.js","webpack:///./node_modules/mirador/dist/es/src/components/WindowTopBar.js","webpack:///./node_modules/mirador/dist/es/src/containers/WindowTopBar.js","webpack:///./node_modules/@material-ui/core/esm/Slide/Slide.js","webpack:///./node_modules/@material-ui/core/esm/Drawer/Drawer.js","webpack:///./node_modules/mirador/dist/es/src/components/icons/CanvasIndexIcon.js","webpack:///./node_modules/mirador/dist/es/src/components/WindowSideBarButtons.js","webpack:///./node_modules/mirador/dist/es/src/containers/WindowSideBarButtons.js","webpack:///./node_modules/mirador/dist/es/src/components/WindowSideBar.js","webpack:///./node_modules/mirador/dist/es/src/containers/WindowSideBar.js","webpack:///./node_modules/@material-ui/lab/esm/internal/svg-icons/SuccessOutlined.js","webpack:///./node_modules/@material-ui/lab/esm/internal/svg-icons/ReportProblemOutlined.js","webpack:///./node_modules/@material-ui/lab/esm/internal/svg-icons/ErrorOutline.js","webpack:///./node_modules/@material-ui/lab/esm/internal/svg-icons/InfoOutlined.js","webpack:///./node_modules/@material-ui/lab/esm/Alert/Alert.js","webpack:///./node_modules/mirador/dist/es/src/components/ErrorContent.js","webpack:///./node_modules/mirador/dist/es/src/containers/ErrorContent.js","webpack:///./node_modules/mirador/dist/es/src/components/CompanionWindowFactory.js","webpack:///./node_modules/mirador/dist/es/src/containers/CompanionWindowFactory.js","webpack:///./node_modules/mirador/dist/es/src/components/CompanionArea.js","webpack:///./node_modules/mirador/dist/es/src/containers/CompanionArea.js","webpack:///./node_modules/mirador/dist/es/src/components/CollectionDialog.js","webpack:///./node_modules/mirador/dist/es/src/containers/CollectionDialog.js","webpack:///./node_modules/mirador/dist/es/src/components/PrimaryWindow.js","webpack:///./node_modules/mirador/dist/es/src/containers/PrimaryWindow.js","webpack:///./node_modules/mirador/dist/es/src/components/MinimalWindow.js","webpack:///./node_modules/mirador/dist/es/src/containers/MinimalWindow.js","webpack:///./node_modules/mirador/dist/es/src/components/AccessTokenSender.js","webpack:///./node_modules/mirador/dist/es/src/components/NewWindow.js","webpack:///./node_modules/mirador/dist/es/src/components/WindowAuthenticationBar.js","webpack:///./node_modules/mirador/dist/es/src/containers/WindowAuthenticationBar.js","webpack:///./node_modules/mirador/dist/es/src/components/IIIFAuthentication.js","webpack:///./node_modules/mirador/dist/es/src/containers/IIIFAuthentication.js","webpack:///./node_modules/mirador/dist/es/src/components/Window.js","webpack:///./node_modules/mirador/dist/es/src/containers/Window.js","webpack:///./node_modules/mirador/dist/es/src/components/MosaicRenderPreview.js","webpack:///./node_modules/mirador/dist/es/src/containers/MosaicRenderPreview.js","webpack:///./node_modules/mirador/dist/es/src/lib/MosaicLayout.js","webpack:///./node_modules/mirador/dist/es/src/components/WorkspaceMosaic.js","webpack:///./node_modules/mirador/dist/es/src/styles/react-mosaic-component.js","webpack:///./node_modules/mirador/dist/es/src/containers/WorkspaceMosaic.js","webpack:///./node_modules/mirador/dist/es/src/components/WorkspaceElasticWindow.js","webpack:///./node_modules/mirador/dist/es/src/containers/WorkspaceElasticWindow.js","webpack:///./node_modules/mirador/dist/es/src/components/WorkspaceElastic.js","webpack:///./node_modules/mirador/dist/es/src/containers/WorkspaceElastic.js","webpack:///./node_modules/mirador/dist/es/src/components/IIIFDropTarget.js","webpack:///./node_modules/mirador/dist/es/src/lib/readImageMetadata.js","webpack:///./node_modules/mirador/dist/es/src/components/Workspace.js","webpack:///./node_modules/mirador/dist/es/src/containers/Workspace.js","webpack:///./node_modules/mirador/dist/es/src/components/ManifestForm.js","webpack:///./node_modules/mirador/dist/es/src/containers/ManifestForm.js","webpack:///./node_modules/mirador/dist/es/src/components/ManifestListItemError.js","webpack:///./node_modules/mirador/dist/es/src/containers/ManifestListItemError.js","webpack:///./node_modules/mirador/dist/es/src/components/ManifestListItem.js","webpack:///./node_modules/mirador/dist/es/src/containers/ManifestListItem.js","webpack:///./node_modules/mirador/dist/es/src/components/WorkspaceAdd.js","webpack:///./node_modules/mirador/dist/es/src/containers/WorkspaceAdd.js","webpack:///./node_modules/mirador/dist/es/src/components/BackgroundPluginArea.js","webpack:///./node_modules/mirador/dist/es/src/containers/BackgroundPluginArea.js","webpack:///./node_modules/mirador/dist/es/src/components/WorkspaceArea.js","webpack:///./node_modules/mirador/dist/es/src/containers/WorkspaceArea.js","webpack:///./node_modules/react-dnd/dist/esm/common/DragPreviewImage.js","webpack:///./node_modules/react-dnd/dist/esm/common/DragSourceMonitorImpl.js","webpack:///./node_modules/react-dnd/dist/esm/common/SourceConnector.js","webpack:///./node_modules/react-dnd/dist/esm/hooks/internal/drag.js","webpack:///./node_modules/react-dnd/dist/esm/hooks/useDrag.js","webpack:///./node_modules/react-dnd/dist/esm/utils/js_utils.js","webpack:///./node_modules/react-dnd/dist/esm/decorators/utils.js","webpack:///./node_modules/react-dnd/dist/esm/decorators/disposables.js","webpack:///./node_modules/react-dnd/dist/esm/decorators/decorateHandler.js","webpack:///./node_modules/react-dnd/dist/esm/utils/isValidType.js","webpack:///./node_modules/react-dnd/dist/esm/decorators/createSourceFactory.js","webpack:///./node_modules/react-dnd/dist/esm/decorators/DragSource.js","webpack:///./node_modules/react-dnd/dist/esm/decorators/createTargetFactory.js","webpack:///./node_modules/react-dnd/dist/esm/decorators/DropTarget.js","webpack:///./node_modules/react-dnd/dist/esm/decorators/DragLayer.js","webpack:///./node_modules/react-mosaic-component/lib/contextTypes.js","webpack:///./node_modules/react-mosaic-component/lib/util/OptionalBlueprint.js","webpack:///./node_modules/react-mosaic-component/lib/util/mosaicUtilities.js","webpack:///./node_modules/react-mosaic-component/lib/buttons/MosaicButton.js","webpack:///./node_modules/react-dnd/dist/esm/common/registration.js","webpack:///./node_modules/react-mosaic-component/lib/util/mosaicUpdates.js","webpack:///./node_modules/react-mosaic-component/lib/types.js","webpack:///./node_modules/lodash/dropRight.js","webpack:///./node_modules/react-mosaic-component/lib/internalTypes.js","webpack:///./node_modules/@material-ui/icons/AddSharp.js","webpack:///./node_modules/@material-ui/icons/ExpandMoreSharp.js","webpack:///./node_modules/@material-ui/icons/ErrorOutlineSharp.js","webpack:///./node_modules/react-dnd/dist/esm/common/DropTargetMonitorImpl.js","webpack:///./node_modules/react-dnd/dist/esm/common/TargetConnector.js","webpack:///./node_modules/react-dnd/dist/esm/utils/isRef.js","webpack:///./node_modules/react-dnd/dist/esm/hooks/internal/useMonitorOutput.js","webpack:///./node_modules/@material-ui/icons/MenuSharp.js","webpack:///./node_modules/@material-ui/icons/CommentSharp.js","webpack:///./node_modules/react-mosaic-component/node_modules/uuid/lib/rng-browser.js","webpack:///./node_modules/react-mosaic-component/node_modules/uuid/lib/bytesToUuid.js","webpack:///./node_modules/react-mosaic-component/lib/util/BoundingBox.js","webpack:///./node_modules/react-mosaic-component/lib/MosaicZeroState.js","webpack:///./node_modules/react-mosaic-component/lib/MosaicDropTarget.js","webpack:///./node_modules/react-mosaic-component/lib/buttons/defaultToolbarControls.js","webpack:///./node_modules/react-mosaic-component/lib/buttons/ExpandButton.js","webpack:///./node_modules/react-mosaic-component/lib/buttons/RemoveButton.js","webpack:///./node_modules/react-mosaic-component/lib/buttons/ReplaceButton.js","webpack:///./node_modules/react-mosaic-component/lib/buttons/SplitButton.js","webpack:///./node_modules/react-mosaic-component/lib/buttons/Separator.js","webpack:///./node_modules/react-dnd/dist/esm/hooks/internal/drop.js","webpack:///./node_modules/react-dnd/dist/esm/hooks/useDrop.js","webpack:///./node_modules/react-dnd/dist/esm/utils/cloneWithRef.js","webpack:///./node_modules/react-dnd/dist/esm/common/wrapConnectorHooks.js","webpack:///./node_modules/@material-ui/icons/BookmarksSharp.js","webpack:///./node_modules/@material-ui/icons/SettingsSharp.js","webpack:///./node_modules/@material-ui/icons/ExpandLessSharp.js","webpack:///./node_modules/@material-ui/icons/CheckSharp.js","webpack:///./node_modules/@material-ui/icons/PaletteSharp.js","webpack:///./node_modules/@material-ui/icons/MoreHorizSharp.js","webpack:///./node_modules/@material-ui/icons/SaveAltSharp.js","webpack:///./node_modules/@material-ui/icons/Input.js","webpack:///./node_modules/react-copy-to-clipboard/lib/index.js","webpack:///./node_modules/react-copy-to-clipboard/lib/Component.js","webpack:///./node_modules/copy-to-clipboard/index.js","webpack:///./node_modules/toggle-selection/index.js","webpack:///./node_modules/@material-ui/icons/Close.js","webpack:///./node_modules/@material-ui/icons/FullscreenExitSharp.js","webpack:///./node_modules/@material-ui/icons/FullscreenSharp.js","webpack:///./node_modules/@material-ui/icons/InsertDriveFileSharp.js","webpack:///./node_modules/react-resize-observer/lib/ResizeObserver.js","webpack:///./node_modules/@material-ui/icons/ViewColumn.js","webpack:///./node_modules/@material-ui/icons/CropOriginalSharp.js","webpack:///./node_modules/@material-ui/icons/CropDinSharp.js","webpack:///./node_modules/@material-ui/icons/MoreVertSharp.js","webpack:///./node_modules/@material-ui/icons/LockSharp.js","webpack:///./node_modules/icomcom-react/dist/index.js","webpack:///./node_modules/@material-ui/icons/InfoSharp.js","webpack:///./node_modules/@material-ui/icons/CopyrightSharp.js","webpack:///./node_modules/@material-ui/icons/LayersSharp.js","webpack:///./node_modules/@material-ui/icons/ArrowRightSharp.js","webpack:///./node_modules/@material-ui/icons/ArrowLeftSharp.js","webpack:///./node_modules/lodash/difference.js","webpack:///./node_modules/immutability-helper/index.js","webpack:///./node_modules/lodash/drop.js","webpack:///./node_modules/lodash/take.js","webpack:///./node_modules/react-mosaic-component/lib/index.js","webpack:///./node_modules/react-mosaic-component/lib/Mosaic.js","webpack:///./node_modules/lodash/countBy.js","webpack:///./node_modules/lodash/pickBy.js","webpack:///./node_modules/lodash/_basePickBy.js","webpack:///./node_modules/react-mosaic-component/node_modules/uuid/index.js","webpack:///./node_modules/react-mosaic-component/node_modules/uuid/v1.js","webpack:///./node_modules/react-mosaic-component/node_modules/uuid/v4.js","webpack:///./node_modules/react-mosaic-component/lib/MosaicRoot.js","webpack:///./node_modules/react-mosaic-component/lib/Split.js","webpack:///./node_modules/lodash/clamp.js","webpack:///./node_modules/lodash/_baseClamp.js","webpack:///./node_modules/lodash/throttle.js"],"names":["Object","defineProperty","exports","value","assertNever","shouldBeNever","Error","JSON","stringify","extendStatics","__extends","this","d","b","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__importDefault","mod","__esModule","RootDropTargets","classnames_1","values_1","react_1","react_dnd_1","internalTypes_1","MosaicDropTarget_1","types_1","RootDropTargetsClass","_super","apply","arguments","render","default","createElement","className","props","isDragging","MosaicDropTargetPosition","map","position","MosaicDropTarget","path","key","PureComponent","DropTarget","MosaicDragType","WINDOW","_connect","monitor","getItem","getItemType","__assign","assign","t","s","i","n","length","call","MosaicWindow","SourceDropConnectedInternalMosaicWindow","SourceConnectedInternalMosaicWindow","InternalMosaicWindow","defer_1","dropRight_1","isEmpty_1","isEqual_1","defaultToolbarControls_1","Separator_1","contextTypes_1","mosaicUpdates_1","mosaicUtilities_1","OptionalBlueprint_1","_this","state","additionalControlsOpen","rootElement","renderDropTarget","split","args","_i","checkCreateNode","_a","createNode","mosaicActions","context","root","getRoot","direction","offsetWidth","offsetHeight","Promise","resolve","then","second","replaceWith","first","getAndAssertNodeAtPathExists","swap","node","setAdditionalControlsOpen","setState","getPath","connectDragSource","connectedElements","childContext","mosaicWindowActions","replaceWithNew","isOver","renderPreview","additionalControls","connectDropTarget","connectDragPreview","draggedMosaicId","MosaicWindowContext","Provider","mosaicId","ref","element","renderToolbar","children","onClick","getToolbarControls","toolbarControls","DEFAULT_CONTROLS_WITH_CREATION","DEFAULT_CONTROLS_WITHOUT_CREATION","_b","title","draggable","additionalControlButtonText","draggableAndNotRoot","connectIfDraggable","el","connectedToolbar","titleDiv","hasAdditionalControls","OptionalBlueprint","getClasses","getIconClass","Separator","defaultProps","Icon","iconSize","icon","contextType","MosaicContext","Component","dragSource","beginDrag","_monitor","component","onDragStart","hideTimer","hide","endDrag","window","clearTimeout","ownPath","dropResult","getDropResult","destinationPath","updateTree","spec","splitPercentage","$set","onDragEnd","createDragToUpdates","DragSource","connect","dragPreview","dropTarget","baseDelay","defer","baseRest","func","module","wait","TypeError","setTimeout","undefined","_classCallCheck","instance","Constructor","_defineProperties","target","descriptor","enumerable","configurable","writable","_setPrototypeOf","o","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","valueOf","e","_isNativeReflectConstruct","result","Super","_getPrototypeOf","NewTarget","_possibleConstructorReturn","self","ReferenceError","_assertThisInitialized","getPrototypeOf","_Component","subClass","superClass","_inherits","ErrorDialog","protoProps","staticProps","_this$props","error","removeError","hasError","Dialog","id","onClose","open","DialogTitle","disableTypography","Typography","variant","DialogContent","DialogContentText","noWrap","color","concat","message","DialogActions","Button","withTranslation","withPlugins","classes","_props$color","_props$position","other","Paper","square","elevation","capitalize","withStyles","theme","backgroundColorDefault","palette","type","grey","display","flexDirection","width","boxSizing","zIndex","appBar","flexShrink","positionFixed","top","left","right","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","backgroundColor","getContrastText","colorPrimary","primary","main","contrastText","colorSecondary","secondary","colorInherit","colorTransparent","name","useMediaQuery","queryInput","options","getThemeProps","query","replace","supportMatchMedia","matchMedia","_props$options","_props$options$defaul","defaultMatches","_props$options$matchM","_props$options$noSsr","noSsr","_props$options$ssrMat","ssrMatchMedia","_React$useState","matches","match","setMatch","active","queryList","updateMatch","addListener","removeListener","useEnhancedEffect","_options$withTheme","withTheme","withThemeOption","_options$noSSR","noSSR","initialWidthOption","initialWidth","WithWidth","contextTheme","useTheme","_getThemeProps","mountedState","setMountedState","widthComputed","breakpoints","keys","slice","reverse","reduce","output","up","more","_props$component","_props$disabled","disabled","_props$disableFocusRi","disableFocusRipple","focusVisibleClassName","_props$size","size","_props$variant","ButtonBase","extended","focusRipple","focusVisible","label","typography","button","minHeight","transition","transitions","duration","short","borderRadius","padding","minWidth","height","boxShadow","shadows","A100","action","disabledBackground","textDecoration","alignItems","justifyContent","dark","sizeSmall","sizeMedium","WorkspaceAddButton","setWorkspaceAddVisibility","isWorkspaceAddVisible","useExtendedFab","Tooltip","disableRipple","fab","fabPrimary","fabSecondary","margin","spacing","_ref","FullScreenButton","isFullscreenEnabled","setWorkspaceFullscreen","MiradorMenuButton","LanguageSettings","handleClick","languages","Fragment","language","MenuItem","current","locale","ListItemIcon","ListItemText","primaryTypographyProps","dispatch","afterSelect","_excluded","_objectWithoutProperties","source","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","NestedMenu","nestedMenuIsOpen","handleMenuClick","bind","otherProps","divider","_props$raised","raised","overflow","paddingBottom","ElasticWorkspaceIcon","SvgIcon","xmlns","viewBox","x1","y1","x2","gradientUnits","offset","stopOpacity","stopColor","clipPath","fill","transform","stroke","strokeWidth","opacity","x","y","fillRule","cx","cy","r","WorkspaceTypeMosaicIcon","ScrollIndicatedDialogContent","ourClassName","shadowScrollDialog","join","_defineProperty","obj","_shadowScrollDialog","background","paper","WorkspaceSelectionDialog","handleWorkspaceTypeChange","dialogElement","workspaceType","selectedListItem","querySelectorAll","focus","handleClose","updateWorkspace","_this2","_this$props2","container","onEntered","dialog","setInitialFocus","onEscapeKeyDown","MenuList","list","selected","menuItem","card","svgIcon","details","content","headline","flex","outline","media","whiteSpace","paddingTop","textAlign","ChangeThemeDialog","selectedItemRef","createRef","handleThemeChange","selectedTheme","setSelectedTheme","themeIds","dialogContent","listitem","light","hover","cursor","windowId","WorkspaceMenu","changeTheme","toggleZoom","workspaceSelection","handleMenuItemClick","handleMenuItemClose","item","event","anchorEl","currentTarget","toggleZoomControls","showZoomControls","_this3","containerId","showThemePicker","_this$state","document","querySelector","Menu","anchorOrigin","horizontal","vertical","transformOrigin","handleZoomToggleClick","PluginHook","WorkspaceMenuButton","handleMenuClose","ctrlBtn","ctrlBtnSelected","_props$role","role","emphasis","body2","flexWrap","shape","flexGrow","marginLeft","paddingLeft","marginRight","_props$anchorOrigin","_props$autoHideDurati","autoHideDuration","ClickAwayListenerProps","ContentProps","_props$disableWindowB","disableWindowBlurListener","onEnter","onEntering","onExit","onExited","onExiting","onMouseEnter","onMouseLeave","resumeHideDuration","_props$TransitionComp","TransitionComponent","Grow","_props$transitionDura","transitionDuration","enter","enteringScreen","exit","leavingScreen","TransitionProps","timerAutoHide","exited","setExited","useEventCallback","setAutoHideTimer","autoHideDurationParam","handlePause","handleResume","addEventListener","removeEventListener","ClickAwayListener","onClickAway","appear","in","createChainedFunction","timeout","top1","bottom1","bottom","top3","bottom3","right3","left3","center","snackbar","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","flip","arr","childrenProp","_props$defaultExpande","defaultExpanded","expandedProp","expanded","onChange","_props$square","Collapse","_useControlled","useControlled","controlled","_useControlled2","setExpandedState","handleChange","_React$Children$toArr","toArray","_React$Children$toArr2","arrayWithHoles","iterableToArray","unsupportedIterableToArray","nonIterableRest","summary","contextValue","toggle","rounded","shortest","marginTop","marginBottom","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","expandIcon","_props$IconButtonProp","IconButtonProps","_React$useContext","_React$useContext$dis","focused","IconButton","edge","tabIndex","disabledOpacity","WorkspaceExport","copied","onCopy","exportableState","fontSize","scroll","fullWidth","maxWidth","accordionTitle","exportedState","text","WorkspaceImport","configImportValue","handleImportConfig","preventDefault","importConfig","parse","ex","addError","toString","TextField","textField","multiline","rows","inputProps","autoFocus","textInput","helperText","cancelBtn","fontFamily","WorkspaceOptionsMenu","exportWorkspace","importWorkspace","WorkspaceOptionsButton","WindowList","menuElement","titles","windowIds","focusWindow","disableAutoFocusItem","focus2ndListIitem","ListSubheader","titleContent","WindowListButton","windowListAnchor","handleOpen","windowCount","badge","BadgeProps","badgeContent","WorkspaceControlPanelButtons","MiradorIcon","Branding","ContainerProps","align","href","rel","titleAccess","k","WorkspaceControlPanel","wide","Toolbar","disableGutters","toolbar","workspaceButtons","branding","_branding","drawer","overflowX","checked","control","disabledProp","inputRef","_props$labelPlacement","labelPlacement","muiFormControl","useFormControl","controlProps","forEach","verticalAlign","WebkitTapHighlightColor","labelPlacementStart","labelPlacementTop","labelPlacementBottom","ThumbnailNavigationBottomIcon","ThumbnailNavigationRightIcon","WindowThumbnailSettings","setWindowThumbnailPosition","thumbnailNavigationPosition","disableSticky","selectedLabel","style","borderBottom","withRef","forwardRef","BookViewIcon","GalleryViewIcon","WindowViewSettings","setWindowViewType","windowViewType","viewTypes","iconMap","book","gallery","single","PluginHookWithHeader","PluginComponents","WindowTopMenu","showThumbnailNavigationSettings","toggleDraggingEnabled","getContentAnchorEl","orientation","thumbnailNavigation","displaySettings","WindowOptionsIcon","WindowTopMenuButton","WindowTopBarPluginArea","WindowTopBarPluginMenu","menuIcon","WindowTopBarTitle","hideWindowTitle","isFetching","manifestTitle","TitleTypography","Skeleton","ownKeys","object","enumerableOnly","symbols","filter","sym","getOwnPropertyDescriptor","push","_objectSpread","getOwnPropertyDescriptors","defineProperties","h6","WindowMaxIcon","WindowMinIcon","WindowTopBar","removeWindow","toggleWindowSideBar","windowDraggable","maximizeWindow","maximized","minimizeWindow","allowClose","allowMaximize","allowFullscreen","allowTopMenuButton","allowWindowSideBar","onMouseDown","windowTopBarStyle","windowTopBarStyleDraggable","borderTop","shades","paddingRight","config","_ref2","setTranslateValue","rect","getBoundingClientRect","fakeTransform","computedStyle","getComputedStyle","getPropertyValue","offsetX","offsetY","transformValues","parseInt","innerWidth","innerHeight","getTranslateValue","webkitTransform","defaultTimeout","_props$direction","inProp","_props$timeout","Transition","childrenRef","handleOwnRef","handleRefIntermediary","useForkRef","handleRef","normalizedTransitionCallback","callback","isAppearing","handleEnter","handleEntering","transitionProps","mode","webkitTransition","easing","easeOut","handleEntered","handleExiting","handleExit","sharp","handleExited","updatePosition","handleResize","debounce","clear","nodeRef","childProps","visibility","oppositeDirection","defaultTransitionDuration","_props$anchor","anchor","anchorProp","BackdropProps","_props$elevation","_props$ModalProps","ModalProps","BackdropPropsProp","_props$open","_props$PaperProps","PaperProps","SlideProps","mounted","isHorizontal","getAnchor","docked","slidingDrawer","Modal","BackdropComponent","Backdrop","modal","overflowY","WebkitOverflowScrolling","paperAnchorLeft","paperAnchorRight","paperAnchorTop","maxHeight","paperAnchorBottom","paperAnchorDockedLeft","borderRight","paperAnchorDockedTop","paperAnchorDockedRight","borderLeft","paperAnchorDockedBottom","CanvasIndexIcon","WindowSideBarButtons","addCompanionWindow","hasAnnotations","hasAnyAnnotations","hasAnyLayers","hasCurrentLayers","hasSearchResults","hasSearchService","panels","sideBarPanel","TabButton","Tab","tab","tabSelected","onKeyUp","handleKeyUp","Tabs","flexContainer","tabsFlexContainer","indicator","tabsIndicator","indicatorColor","textColor","info","attribution","canvas","annotations","Badge","invisible","search","layers","PluginComponent","hasLayers","canvases","some","c","MiradorCanvas","imageResources","notification","annotationListUris","canvasAnnotationPages","suggestedSearches","companionWindowId","WindowSideBar","sideBarOpen","mountOnEnter","unmountOnExit","order","grow","borderInlineEnd","mixins","createSvgIcon","defaultIconMapping","success","SuccessOutlined","warning","ReportProblemOutlined","ErrorOutline","InfoOutlined","_props$closeText","closeText","_props$iconMapping","iconMapping","_props$severity","severity","getColor","getBackgroundColor","standardSuccess","standardInfo","standardWarning","standardError","outlinedSuccess","border","outlinedInfo","outlinedWarning","outlinedError","filledSuccess","fontWeight","fontWeightMedium","filledInfo","filledWarning","filledError","ErrorContent","metadata","showJsError","alert","stack","companionWindow","manifest","viewer","CompanionWindowFactory","prevProps","CompanionWindow","CompanionWindowRegistry","CompanionArea","companionAreaOpen","_this$props3","defaultPosition","oppositePosition","_this$props4","companionWindowIds","setCompanionAreaOpen","areaLayoutClass","slideDirection","toggleButton","TooltipProps","placement","collapseIcon","_toConsumableArray","isArray","_arrayLikeToArray","_arrayWithoutHoles","iter","Symbol","iterator","from","_iterableToArray","minLen","test","_unsupportedIterableToArray","_nonIterableSpread","len","arr2","CollectionDialog","hideDialog","resource","index","getLabel","getValue","String","hideCollectionDialog","collectionPath","manifestId","showCollectionDialog","m","addWindow","updateWindow","canvasId","_this$props5","dialogContainer","backdropProps","placeholder","_this$props6","collection","isMultipart","ready","forceUpdate","rights","asArray","getProperty","requiredStatement","getRequiredStatement","l","labelValuePair","values","getValues","collections","getCollections","currentFilter","getUseableLabel","startIcon","goToPreviousCollection","collectionMetadata","ManifestInfo","CollapsibleSection","LabelValueMetadata","labelValuePairs","defaultLabel","v","Link","collectionFilter","getTotalCollections","Chip","clickable","setFilter","count","getTotalManifests","selectCollection","collectionItem","getManifests","selectManifest","_getWindow","collectionManifestId","collectionId","includes","workspace","collectionDialogOn","json","AudioViewer","GalleryView","SelectCollection","WindowViewer","VideoViewer","displayName","PrimaryWindow","audioResources","isCollection","videoResources","view","isCollectionDialogVisible","primaryWindow","fallback","renderViewer","manifestoInstance","MinimalWindow","ariaLabel","AccessTokenSender","onReceiveAccessTokenMessage","handleAccessTokenMessage","url","data","messageId","attributes","src","origin","handleReceiveMessage","NewWindow","released","checkIfWindowClosed","openWindow","close","clearInterval","depWindow","features","setInterval","closed","WindowAuthenticationBar","setOpen","onSubmit","onConfirm","confirmButton","continueLabel","header","description","ruleSet","hasLogoutService","status","ConfirmProps","buttonInvert","topBar","SanitizedHtml","htmlString","fauxButton","hoverOpacity","failure","lineHeight","textTransform","IIIFAuthentication","performLogout","payload","authServiceId","accessTokenServiceId","resolveAccessTokenRequest","logoutServiceId","resetAuthenticationState","tokenServiceId","isInteractive","logoutConfirm","defaultAuthBarProps","handleAuthInteraction","failureHeader","failureDescription","resolveAuthenticationRequest","renderLogin","_this$props7","confirm","_this$props8","renderLoggingInCookie","renderLoggingInToken","renderFailure","renderLoggedIn","service","accessTokenService","getService","logoutService","authStatuses","authStatus","accessTokens","accessTokenStatus","ok","authProfiles","profile","getProfile","external","kiosk","getConfirmLabel","getDescription","getFailureDescription","getFailureHeader","getHeader","Window","manifestError","onFocus","wrappedTopBar","middle","middleLeft","companionAreaBottom","companionAreaRight","flexBasis","thumbnailArea","thumbnailAreaBottom","thumbnailAreaRight","MosaicRenderPreview","preview","h4","MosaicLayout","layout","corner","TOP_RIGHT","addedWindowIds","pathToCorner","parent","pathToParent","destination","nodeAtPath","update","removedWindowIds","windowPaths","removeUpdates","_React$Component","WorkspaceMosaic","tileRenderer","mosaicChange","determineWorkspaceLayout","zeroStateView","mosaicProps","updateWorkspaceMosaicLayout","newLayout","prevWindows","every","removedWindows","_newLayout","removeWindows","leaveKeys","addedWindows","addWindows","workspaceId","bookkeepPath","renderTile","initialValue","touchAction","fallbacks","webkitBoxOrient","webkitBoxDirection","webkitBoxPack","webkitBoxAlign","webkitBoxFlex","textOverflow","WorkspaceElasticWindow","companionWindowDimensions","updateElasticWindowLayout","bounds","onDragStop","onResize","delta","Number","dragHandleClassName","WorkspaceElastic","elasticLayout","setWorkspaceViewportDimensions","setWorkspaceViewportPosition","viewportPosition","enableResizing","bottomLeft","bottomRight","topLeft","topRight","cancel","disableDragging","draggingEnabled","_slicedToArray","_arrayWithHoles","_s","_e","_arr","_n","_d","next","done","err","_iterableToArrayLimit","_nonIterableRest","onDrop","urls","str","URL","searchParams","get","files","imagePromise","manifestPromises","f","file","reject","reader","FileReader","manifestJson","readAsText","imageFiles","startsWith","imageData","image","Image","readAsDataURL","readImageMetadata","all","images","items","body","format","motivation","_useDrop2","useDrop","accept","FILE","collect","canDrop","drop","_useDrop2$","isActive","safari","dataTransfer","types","getData","Workspace","handleDrop","allowNewWindows","maximizedWindows","zeroWindows","Grid","xs","maximizedWindowIds","isWorkspaceControlPanelVisible","workspaceWithControlPanel","workspaceViewport","workspaceByType","workspaceControlPanel","enabled","ManifestForm","formValue","formSubmit","handleCancel","handleInputChange","onCancel","addResource","addResourcesOpen","sm","md","InputLabelProps","shrink","InputProps","input","buttons","body1","ManifestListItemError","onDismissClick","onTryAgainClick","justify","errorIcon","manifestIdText","wordBreak","ManifestListItem","handleOpenButtonClick","fetchManifest","provider","buttonRef","thumbnail","manifestLogo","ListItem","buttonGrid","alt","unloader","animation","number","logo","objectFit","gutters","manifesto","getTotalItems","WorkspaceAdd","setAddResourcesVisibility","scrollToTop","bool","scrollTo","behavior","catalog","manifestList","workspaceAdd","List","disablePadding","displayNone","disablePortal","hideBackdrop","form","menuButton","typographyBody","WorkspaceArea","controlPanelVariant","lang","DragPreviewImage","img","onload","isCallingCanDrag","isCallingIsDragging","DragSourceMonitorImpl","manager","sourceId","internalMonitor","getMonitor","canDragSource","isDraggingSource","listener","subscribeToStateChange","targetId","isOverTarget","getTargetIds","isSourcePublic","getSourceId","subscribeToOffsetChange","canDropOnTarget","didDrop","getInitialClientOffset","getInitialSourceClientOffset","getSourceClientOffset","getClientOffset","getDifferenceFromInitialOffset","SourceConnector","backend","hooks","wrapConnectorHooks","clearDragSource","dragSourceOptions","isRef","dragSourceRef","dragSourceNode","reconnectDragSource","clearDragPreview","dragPreviewOptions","dragPreviewRef","dragPreviewNode","reconnectDragPreview","handlerId","dragSourceOptionsInternal","dragPreviewOptionsInternal","lastConnectedHandlerId","lastConnectedDragSource","lastConnectedDragSourceOptions","lastConnectedDragPreview","lastConnectedDragPreviewOptions","newHandlerId","reconnect","didChange","didHandlerIdChange","didConnectedDragSourceChange","didDragSourceOptionsChange","disconnectDragSource","dragSourceUnsubscribe","didConnectedDragPreviewChange","didDragPreviewOptionsChange","disconnectDragPreview","dragPreviewUnsubscribe","set","_typeof","useDrag","specRef","_useDragSourceMonitor2","useDragDropManager","getBackend","connector","handler","_spec$current","begin","beginResult","canDrag","globalMonitor","end","useIsomorphicLayoutEffect","_registerSource2","unregister","receiveHandlerId","useDragHandler","useMonitorOutput","previewOptions","isFunction","noop","isPlainObject","isObjectLike","proto","getDecoratedComponent","instanceRef","currentRef","decoratedRef","isRefable","C","$$typeof","isRefForwardingComponent","Disposable","isDisposed","dispose","isDisposable","empty","CompositeDisposable","_len","disposables","_key","shouldDispose","idx","splice","currentDisposables","_i2","SerialDisposable","old","decorateHandler","DecoratedComponent","createHandler","createMonitor","createConnector","registerHandler","containerDisplayName","getType","_options$arePropsEqua","arePropsEqual","Decorated","DragDropContainer","nextState","getCurrentState","disposable","receiveProps","nextProps","currentType","receiveType","handlerMonitor","handlerConnector","_registerHandler2","unsubscribe","handlerIds","setDisposable","DndContext","Consumer","dragDropManager","receiveDragDropManager","requestAnimationFrame","isValidType","allowArray","ALLOWED_SPEC_METHODS","REQUIRED_SPEC_METHODS","SourceImpl","createSourceFactory","createSource","TargetImpl","createTargetFactory","createTarget","DropTargetMonitorImpl","TargetConnector","DragLayer","DragLayerContainer","isCurrentlyMounted","unsubscribeFromOffsetChange","unsubscribeFromStateChange","createContext","__createBinding","k2","__setModuleDefault","__importStar","React","Classes","IconNames","names","iconName","iconClass","getNodeAtPath","getLeaves","getPathToCorner","getOtherDirection","getOtherBranch","createBalancedTreeFromLeaves","isParent","Corner","clone_1","get_1","tree","leaves","startDirection","shift","unshift","alternateDirection","nextDirection","branch","currentNode","currentPath","TOP_LEFT","BOTTOM_LEFT","createDefaultToolbarButton","registerTarget","registry","getRegistry","addTarget","removeTarget","registerSource","addSource","removeSource","createExpandUpdate","createHideUpdate","createRemoveUpdate","buildSpecFromUpdate","immutability_helper_1","drop_1","last_1","set_1","take_1","mosaicUpdate","updates","mUpdate","parentPath","nodeToRemove","siblingPath","isPathPrefixEqual","a","sourcePath","destinationNode","sourceNode","LEFT","TOP","RIGHT","percentage","baseSlice","toInteger","array","guard","BOTTOM","_interopRequireDefault","_interopRequireWildcard","_default","isCallingCanDrop","clearDropTarget","dropTargetOptions","dropTargetRef","dropTargetNode","dropTargetOptionsInternal","lastConnectedDropTarget","lastConnectedDropTargetOptions","didDropTargetChange","didOptionsChange","disconnectDropTarget","unsubscribeDropTarget","onCollect","_useCollector2","collected","updateCollected","getHandlerId","getRandomValues","crypto","msCrypto","rnds8","Uint8Array","rnds","Math","random","byteToHex","substr","buf","bth","BoundingBox","assertNever_1","getAbsoluteSplitPercentage","boundingBox","relativeSplitPercentage","absolutePercentage","getRelativeSplitPercentage","absoluteSplitPercentage","asStyles","MosaicZeroState","noop_1","catch","MosaicDropTargetClass","ExpandButton_1","RemoveButton_1","ReplaceButton_1","SplitButton_1","Children","ReplaceButton","SplitButton","ExpandButton","RemoveButton","MosaicButton_1","createExpand","expand","createRemove","remove","_useDropTargetMonitor2","_registerTarget2","useDropHandler","setRef","cloneWithRef","newRef","previousRef","throwIfCompositeComponentElement","wrappedHooks","hook","endsWith","wrappedHook","elementOrNode","wrapHookToRecognizeElement","CopyToClipboard","_react","_copyToClipboard","_React$PureComponent","elem","only","cloneElement","deselectCurrent","clipboardToIE11Formatting","debug","reselectPrevious","range","selection","mark","createRange","getSelection","textContent","ariaHidden","clip","webkitUserSelect","MozUserSelect","msUserSelect","userSelect","stopPropagation","clipboardData","console","warn","clearData","setData","appendChild","selectNodeContents","addRange","execCommand","copyKey","navigator","userAgent","prompt","removeRange","removeAllRanges","removeChild","rangeCount","activeElement","ranges","getRangeAt","tagName","toUpperCase","blur","pointerEvents","styleChild","isAncestor","ancestor","parentNode","ResizeObserver","_getPrototypeOf2","_temp","onPosition","onReflow","_globalScollTarget","_refScrollTarget","_ancestorScollTarget","_reflow","Node","documentElement","HTMLElement","_expandRef","_shrinkRef","_lastWidth","_lastHeight","_reset","_node","Element","sizeChanged","positionChanged","_lastRect","_handleScroll","_hasResize","scrollLeft","scrollTop","_handleRef","_handleExpandRef","_handleShrinkRef","_extends","_createClass","_react2","_propTypes2","IComCom","onReceiveMessage","onLoad","sendMessage","_frame","postMessageData","handleReady","contentWindow","postMessage","targetOrigin","defaultAttributes","propTypes","frameBorder","oneOfType","string","scrolling","sandbox","srcDoc","isRequired","any","baseDifference","baseFlatten","isArrayLikeObject","difference","stringifiable","isProduction","process","invariant","condition","getAllKeys","copy","Map","Set","Context","commands","defaultCommands","extend","isEquals","newContext","directive","fn","$spec","$apply","nextObject","objectWasNextObject","nextValueForKey","nextObjectValue","$push","invariantPushAndUnshift","$unshift","$splice","originalObject","invariantSplice","invariantSplices","_nextObject","invariantSet","$toggle","targets","invariantSpecArray","nextObjectCopy","$unset","_spec","$add","invariantMapOrSet","has","add","$remove","delete","$merge","specValue","original","defaultContext","command","typeOfTarget","Mosaic_1","Mosaic","MosaicWithoutDragDropContext","MosaicWindow_1","MosaicZeroState_1","react_dnd_multi_backend_1","HTML5toTouch_1","uuid_1","MosaicRoot_1","RootDropTargets_1","isUncontrolled","lastInitialValue","v4","updateRoot","suppressOnRelease","replaceRoot","onRelease","actions","newNode","getDerivedStateFromProps","prevState","renderTree","validateTree","resize","MosaicRoot","DndProvider","baseAssignValue","createAggregator","countBy","arrayMap","baseIteratee","basePickBy","getAllKeysIn","predicate","prop","baseGet","baseSet","castPath","paths","v1","uuid","_nodeId","_clockseq","rng","bytesToUuid","_lastMSecs","_lastNSecs","clockseq","seedBytes","msecs","Date","getTime","nsecs","dt","tl","tmh","ii","flatten_1","Split_1","BoundingBox_1","renderRecursively","renderSplit","nonNullElement","Split","clamp_1","throttle_1","TOUCH_EVENT_OPTIONS","capture","passive","listenersBound","isTouchEvent","bindListeners","onMouseUp","unbindListeners","calculateRelativePercentage","onMouseMove","throttledUpdatePercentage","computeStyle","componentDidMount","componentWillUnmount","ownerDocument","positionStyle","minimumPaneSizePercentage","parentBBox","parentElement","location","changedTouches","clientY","clientX","relativePercentage","baseClamp","toNumber","lower","upper","isObject","leading","trailing"],"mappings":"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","file":"2.dfc7accc.js","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.assertNever = void 0;\nfunction assertNever(shouldBeNever) {\n    throw new Error('Unhandled case: ' + JSON.stringify(shouldBeNever));\n}\nexports.assertNever = assertNever;\n//# sourceMappingURL=assertNever.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RootDropTargets = void 0;\nvar classnames_1 = __importDefault(require(\"classnames\"));\nvar values_1 = __importDefault(require(\"lodash/values\"));\nvar react_1 = __importDefault(require(\"react\"));\nvar react_dnd_1 = require(\"react-dnd\");\nvar internalTypes_1 = require(\"./internalTypes\");\nvar MosaicDropTarget_1 = require(\"./MosaicDropTarget\");\nvar types_1 = require(\"./types\");\nvar RootDropTargetsClass = /** @class */ (function (_super) {\n    __extends(RootDropTargetsClass, _super);\n    function RootDropTargetsClass() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    RootDropTargetsClass.prototype.render = function () {\n        return (react_1.default.createElement(\"div\", { className: classnames_1.default('drop-target-container', {\n                '-dragging': this.props.isDragging,\n            }) }, values_1.default(internalTypes_1.MosaicDropTargetPosition).map(function (position) { return (react_1.default.createElement(MosaicDropTarget_1.MosaicDropTarget, { position: position, path: [], key: position })); })));\n    };\n    return RootDropTargetsClass;\n}(react_1.default.PureComponent));\nvar dropTarget = {};\nexports.RootDropTargets = react_dnd_1.DropTarget(types_1.MosaicDragType.WINDOW, dropTarget, function (_connect, monitor) { return ({\n    isDragging: monitor.getItem() !== null && monitor.getItemType() === types_1.MosaicDragType.WINDOW,\n}); })(RootDropTargetsClass);\n//# sourceMappingURL=RootDropTargets.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MosaicWindow = exports.SourceDropConnectedInternalMosaicWindow = exports.SourceConnectedInternalMosaicWindow = exports.InternalMosaicWindow = void 0;\nvar classnames_1 = __importDefault(require(\"classnames\"));\nvar defer_1 = __importDefault(require(\"lodash/defer\"));\nvar dropRight_1 = __importDefault(require(\"lodash/dropRight\"));\nvar isEmpty_1 = __importDefault(require(\"lodash/isEmpty\"));\nvar isEqual_1 = __importDefault(require(\"lodash/isEqual\"));\nvar values_1 = __importDefault(require(\"lodash/values\"));\nvar react_1 = __importDefault(require(\"react\"));\nvar react_dnd_1 = require(\"react-dnd\");\nvar defaultToolbarControls_1 = require(\"./buttons/defaultToolbarControls\");\nvar Separator_1 = require(\"./buttons/Separator\");\nvar contextTypes_1 = require(\"./contextTypes\");\nvar internalTypes_1 = require(\"./internalTypes\");\nvar MosaicDropTarget_1 = require(\"./MosaicDropTarget\");\nvar types_1 = require(\"./types\");\nvar mosaicUpdates_1 = require(\"./util/mosaicUpdates\");\nvar mosaicUtilities_1 = require(\"./util/mosaicUtilities\");\nvar OptionalBlueprint_1 = require(\"./util/OptionalBlueprint\");\nvar InternalMosaicWindow = /** @class */ (function (_super) {\n    __extends(InternalMosaicWindow, _super);\n    function InternalMosaicWindow() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            additionalControlsOpen: false,\n        };\n        _this.rootElement = null;\n        _this.renderDropTarget = function (position) {\n            var path = _this.props.path;\n            return react_1.default.createElement(MosaicDropTarget_1.MosaicDropTarget, { position: position, path: path, key: position });\n        };\n        _this.split = function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            _this.checkCreateNode();\n            var _a = _this.props, createNode = _a.createNode, path = _a.path;\n            var mosaicActions = _this.context.mosaicActions;\n            var root = mosaicActions.getRoot();\n            var direction = _this.rootElement.offsetWidth > _this.rootElement.offsetHeight ? 'row' : 'column';\n            return Promise.resolve(createNode.apply(void 0, args)).then(function (second) {\n                return mosaicActions.replaceWith(path, {\n                    direction: direction,\n                    second: second,\n                    first: mosaicUtilities_1.getAndAssertNodeAtPathExists(root, path),\n                });\n            });\n        };\n        _this.swap = function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            _this.checkCreateNode();\n            var mosaicActions = _this.context.mosaicActions;\n            var _a = _this.props, createNode = _a.createNode, path = _a.path;\n            return Promise.resolve(createNode.apply(void 0, args)).then(function (node) { return mosaicActions.replaceWith(path, node); });\n        };\n        _this.setAdditionalControlsOpen = function (additionalControlsOpen) {\n            _this.setState({ additionalControlsOpen: additionalControlsOpen });\n        };\n        _this.getPath = function () { return _this.props.path; };\n        _this.connectDragSource = function (connectedElements) {\n            var connectDragSource = _this.props.connectDragSource;\n            return connectDragSource(connectedElements);\n        };\n        _this.childContext = {\n            mosaicWindowActions: {\n                split: _this.split,\n                replaceWithNew: _this.swap,\n                setAdditionalControlsOpen: _this.setAdditionalControlsOpen,\n                getPath: _this.getPath,\n                connectDragSource: _this.connectDragSource,\n            },\n        };\n        return _this;\n    }\n    InternalMosaicWindow.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, className = _a.className, isOver = _a.isOver, renderPreview = _a.renderPreview, additionalControls = _a.additionalControls, connectDropTarget = _a.connectDropTarget, connectDragPreview = _a.connectDragPreview, draggedMosaicId = _a.draggedMosaicId;\n        return (react_1.default.createElement(contextTypes_1.MosaicWindowContext.Provider, { value: this.childContext }, connectDropTarget(react_1.default.createElement(\"div\", { className: classnames_1.default('mosaic-window mosaic-drop-target', className, {\n                'drop-target-hover': isOver && draggedMosaicId === this.context.mosaicId,\n                'additional-controls-open': this.state.additionalControlsOpen,\n            }), ref: function (element) { return (_this.rootElement = element); } },\n            this.renderToolbar(),\n            react_1.default.createElement(\"div\", { className: \"mosaic-window-body\" }, this.props.children),\n            react_1.default.createElement(\"div\", { className: \"mosaic-window-body-overlay\", onClick: function () { return _this.setAdditionalControlsOpen(false); } }),\n            react_1.default.createElement(\"div\", { className: \"mosaic-window-additional-actions-bar\" }, additionalControls),\n            connectDragPreview(renderPreview(this.props)),\n            react_1.default.createElement(\"div\", { className: \"drop-target-container\" }, values_1.default(internalTypes_1.MosaicDropTargetPosition).map(this.renderDropTarget))))));\n    };\n    InternalMosaicWindow.prototype.getToolbarControls = function () {\n        var _a = this.props, toolbarControls = _a.toolbarControls, createNode = _a.createNode;\n        if (toolbarControls) {\n            return toolbarControls;\n        }\n        else if (createNode) {\n            return defaultToolbarControls_1.DEFAULT_CONTROLS_WITH_CREATION;\n        }\n        else {\n            return defaultToolbarControls_1.DEFAULT_CONTROLS_WITHOUT_CREATION;\n        }\n    };\n    InternalMosaicWindow.prototype.renderToolbar = function () {\n        var _a;\n        var _this = this;\n        var _b = this.props, title = _b.title, draggable = _b.draggable, additionalControls = _b.additionalControls, additionalControlButtonText = _b.additionalControlButtonText, path = _b.path, renderToolbar = _b.renderToolbar;\n        var additionalControlsOpen = this.state.additionalControlsOpen;\n        var toolbarControls = this.getToolbarControls();\n        var draggableAndNotRoot = draggable && path.length > 0;\n        var connectIfDraggable = draggableAndNotRoot ? this.props.connectDragSource : function (el) { return el; };\n        if (renderToolbar) {\n            var connectedToolbar = connectIfDraggable(renderToolbar(this.props, draggable));\n            return (react_1.default.createElement(\"div\", { className: classnames_1.default('mosaic-window-toolbar', { draggable: draggableAndNotRoot }) }, connectedToolbar));\n        }\n        var titleDiv = connectIfDraggable(react_1.default.createElement(\"div\", { title: title, className: \"mosaic-window-title\" }, title));\n        var hasAdditionalControls = !isEmpty_1.default(additionalControls);\n        return (react_1.default.createElement(\"div\", { className: classnames_1.default('mosaic-window-toolbar', { draggable: draggableAndNotRoot }) },\n            titleDiv,\n            react_1.default.createElement(\"div\", { className: classnames_1.default('mosaic-window-controls', OptionalBlueprint_1.OptionalBlueprint.getClasses('BUTTON_GROUP')) },\n                hasAdditionalControls && (react_1.default.createElement(\"button\", { onClick: function () { return _this.setAdditionalControlsOpen(!additionalControlsOpen); }, className: classnames_1.default(OptionalBlueprint_1.OptionalBlueprint.getClasses('BUTTON', 'MINIMAL'), OptionalBlueprint_1.OptionalBlueprint.getIconClass('MORE'), (_a = {},\n                        _a[OptionalBlueprint_1.OptionalBlueprint.getClasses('ACTIVE')] = additionalControlsOpen,\n                        _a)) },\n                    react_1.default.createElement(\"span\", { className: \"control-text\" }, additionalControlButtonText))),\n                hasAdditionalControls && react_1.default.createElement(Separator_1.Separator, null),\n                toolbarControls)));\n    };\n    InternalMosaicWindow.prototype.checkCreateNode = function () {\n        if (this.props.createNode == null) {\n            throw new Error('Operation invalid unless `createNode` is defined');\n        }\n    };\n    InternalMosaicWindow.defaultProps = {\n        additionalControlButtonText: 'More',\n        draggable: true,\n        renderPreview: function (_a) {\n            var title = _a.title;\n            return (react_1.default.createElement(\"div\", { className: \"mosaic-preview\" },\n                react_1.default.createElement(\"div\", { className: \"mosaic-window-toolbar\" },\n                    react_1.default.createElement(\"div\", { className: \"mosaic-window-title\" }, title)),\n                react_1.default.createElement(\"div\", { className: \"mosaic-window-body\" },\n                    react_1.default.createElement(\"h4\", null, title),\n                    react_1.default.createElement(OptionalBlueprint_1.OptionalBlueprint.Icon, { iconSize: 72, icon: \"application\" }))));\n        },\n        renderToolbar: null,\n    };\n    InternalMosaicWindow.contextType = contextTypes_1.MosaicContext;\n    return InternalMosaicWindow;\n}(react_1.default.Component));\nexports.InternalMosaicWindow = InternalMosaicWindow;\nvar dragSource = {\n    beginDrag: function (props, _monitor, component) {\n        if (props.onDragStart) {\n            props.onDragStart();\n        }\n        // TODO: Actually just delete instead of hiding\n        // The defer is necessary as the element must be present on start for HTML DnD to not cry\n        var hideTimer = defer_1.default(function () { return component.context.mosaicActions.hide(component.props.path); });\n        return {\n            mosaicId: component.context.mosaicId,\n            hideTimer: hideTimer,\n        };\n    },\n    endDrag: function (props, monitor, component) {\n        var hideTimer = monitor.getItem().hideTimer;\n        // If the hide call hasn't happened yet, cancel it\n        window.clearTimeout(hideTimer);\n        var ownPath = component.props.path;\n        var dropResult = (monitor.getDropResult() || {});\n        var mosaicActions = component.context.mosaicActions;\n        var position = dropResult.position, destinationPath = dropResult.path;\n        if (position != null && destinationPath != null && !isEqual_1.default(destinationPath, ownPath)) {\n            mosaicActions.updateTree(mosaicUpdates_1.createDragToUpdates(mosaicActions.getRoot(), ownPath, destinationPath, position));\n            if (props.onDragEnd) {\n                props.onDragEnd('drop');\n            }\n        }\n        else {\n            // TODO: restore node from captured state\n            mosaicActions.updateTree([\n                {\n                    path: dropRight_1.default(ownPath),\n                    spec: {\n                        splitPercentage: {\n                            $set: null,\n                        },\n                    },\n                },\n            ]);\n            if (props.onDragEnd) {\n                props.onDragEnd('reset');\n            }\n        }\n    },\n};\nvar dropTarget = {};\n// Each step exported here just to keep react-hot-loader happy\nexports.SourceConnectedInternalMosaicWindow = react_dnd_1.DragSource(types_1.MosaicDragType.WINDOW, dragSource, function (connect, _monitor) { return ({\n    connectDragSource: connect.dragSource(),\n    connectDragPreview: connect.dragPreview(),\n}); })(InternalMosaicWindow);\nexports.SourceDropConnectedInternalMosaicWindow = react_dnd_1.DropTarget(types_1.MosaicDragType.WINDOW, dropTarget, function (connect, monitor) { return ({\n    connectDropTarget: connect.dropTarget(),\n    isOver: monitor.isOver(),\n    draggedMosaicId: (monitor.getItem() || {}).mosaicId,\n}); })(exports.SourceConnectedInternalMosaicWindow);\nvar MosaicWindow = /** @class */ (function (_super) {\n    __extends(MosaicWindow, _super);\n    function MosaicWindow() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    MosaicWindow.prototype.render = function () {\n        return react_1.default.createElement(exports.SourceDropConnectedInternalMosaicWindow, __assign({}, this.props));\n    };\n    return MosaicWindow;\n}(react_1.default.PureComponent));\nexports.MosaicWindow = MosaicWindow;\n//# sourceMappingURL=MosaicWindow.js.map","var baseDelay = require('./_baseDelay'),\n    baseRest = require('./_baseRest');\n\n/**\n * Defers invoking the `func` until the current call stack has cleared. Any\n * additional arguments are provided to `func` when it's invoked.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to defer.\n * @param {...*} [args] The arguments to invoke `func` with.\n * @returns {number} Returns the timer id.\n * @example\n *\n * _.defer(function(text) {\n *   console.log(text);\n * }, 'deferred');\n * // => Logs 'deferred' after one millisecond.\n */\nvar defer = baseRest(function(func, args) {\n  return baseDelay(func, 1, args);\n});\n\nmodule.exports = defer;\n","/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * The base implementation of `_.delay` and `_.defer` which accepts `args`\n * to provide to `func`.\n *\n * @private\n * @param {Function} func The function to delay.\n * @param {number} wait The number of milliseconds to delay invocation.\n * @param {Array} args The arguments to provide to `func`.\n * @returns {number|Object} Returns the timer id or timeout object.\n */\nfunction baseDelay(func, wait, args) {\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  return setTimeout(function() { func.apply(undefined, args); }, wait);\n}\n\nmodule.exports = baseDelay;\n","import _isUndefined from \"lodash/isUndefined\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { DialogActions, DialogContentText, Typography } from '@material-ui/core';\nimport Button from '@material-ui/core/Button';\n\n/**\n */\nexport var ErrorDialog = /*#__PURE__*/function (_Component) {\n  _inherits(ErrorDialog, _Component);\n\n  var _super = _createSuper(ErrorDialog);\n\n  function ErrorDialog() {\n    _classCallCheck(this, ErrorDialog);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(ErrorDialog, [{\n    key: \"render\",\n    value:\n    /**\n     * render\n     * @return\n     */\n    function render() {\n      var _this$props = this.props,\n          error = _this$props.error,\n          removeError = _this$props.removeError,\n          t = _this$props.t;\n      var hasError = !_isUndefined(error);\n      return error ? /*#__PURE__*/React.createElement(Dialog, {\n        \"aria-labelledby\": \"error-dialog-title\",\n        id: \"error-dialog\",\n        onClose: function onClose() {\n          return removeError(error.id);\n        },\n        open: hasError\n      }, /*#__PURE__*/React.createElement(DialogTitle, {\n        id: \"error-dialog-title\",\n        disableTypography: true\n      }, /*#__PURE__*/React.createElement(Typography, {\n        variant: \"h2\"\n      }, t('errorDialogTitle'))), /*#__PURE__*/React.createElement(DialogContent, {\n        disableTypography: true\n      }, /*#__PURE__*/React.createElement(DialogContentText, {\n        variant: \"body2\",\n        noWrap: true,\n        color: \"inherit\"\n      }, \"\".concat(error.message)), /*#__PURE__*/React.createElement(DialogActions, null, /*#__PURE__*/React.createElement(Button, {\n        onClick: function onClick() {\n          return removeError(error.id);\n        },\n        variant: \"contained\"\n      }, t('errorDialogConfirm'))))) : null;\n    }\n  }]);\n\n  return ErrorDialog;\n}(Component);\nErrorDialog.defaultProps = {\n  error: null,\n  removeError: function removeError() {},\n  t: function t(key) {\n    return key;\n  }\n};","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\nimport { withPlugins } from '../extend/withPlugins';\nimport { ErrorDialog } from '../components/ErrorDialog';\nimport * as actions from '../state/actions';\nimport { getLatestError } from '../state/selectors';\n/**\n * mapStateToProps - to hook up connect\n * @memberof ErrorDialog\n * @private\n */\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    error: getLatestError(state)\n  };\n};\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof App\n * @private\n */\n\n\nvar mapDispatchToProps = {\n  removeError: actions.removeError\n};\nvar enhance = compose(withTranslation(), connect(mapStateToProps, mapDispatchToProps), withPlugins('ErrorDialog'));\nexport default enhance(ErrorDialog);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport capitalize from '../utils/capitalize';\nimport Paper from '../Paper';\nexport var styles = function styles(theme) {\n  var backgroundColorDefault = theme.palette.type === 'light' ? theme.palette.grey[100] : theme.palette.grey[900];\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      display: 'flex',\n      flexDirection: 'column',\n      width: '100%',\n      boxSizing: 'border-box',\n      // Prevent padding issue with the Modal and fixed positioned AppBar.\n      zIndex: theme.zIndex.appBar,\n      flexShrink: 0\n    },\n\n    /* Styles applied to the root element if `position=\"fixed\"`. */\n    positionFixed: {\n      position: 'fixed',\n      top: 0,\n      left: 'auto',\n      right: 0,\n      '@media print': {\n        // Prevent the app bar to be visible on each printed page.\n        position: 'absolute'\n      }\n    },\n\n    /* Styles applied to the root element if `position=\"absolute\"`. */\n    positionAbsolute: {\n      position: 'absolute',\n      top: 0,\n      left: 'auto',\n      right: 0\n    },\n\n    /* Styles applied to the root element if `position=\"sticky\"`. */\n    positionSticky: {\n      //  sticky is not supported by IE 11.\n      position: 'sticky',\n      top: 0,\n      left: 'auto',\n      right: 0\n    },\n\n    /* Styles applied to the root element if `position=\"static\"`. */\n    positionStatic: {\n      position: 'static'\n    },\n\n    /* Styles applied to the root element if `position=\"relative\"`. */\n    positionRelative: {\n      position: 'relative'\n    },\n\n    /* Styles applied to the root element if `color=\"default\"`. */\n    colorDefault: {\n      backgroundColor: backgroundColorDefault,\n      color: theme.palette.getContrastText(backgroundColorDefault)\n    },\n\n    /* Styles applied to the root element if `color=\"primary\"`. */\n    colorPrimary: {\n      backgroundColor: theme.palette.primary.main,\n      color: theme.palette.primary.contrastText\n    },\n\n    /* Styles applied to the root element if `color=\"secondary\"`. */\n    colorSecondary: {\n      backgroundColor: theme.palette.secondary.main,\n      color: theme.palette.secondary.contrastText\n    },\n\n    /* Styles applied to the root element if `color=\"inherit\"`. */\n    colorInherit: {\n      color: 'inherit'\n    },\n\n    /* Styles applied to the root element if `color=\"transparent\"`. */\n    colorTransparent: {\n      backgroundColor: 'transparent',\n      color: 'inherit'\n    }\n  };\n};\nvar AppBar = /*#__PURE__*/React.forwardRef(function AppBar(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$color = props.color,\n      color = _props$color === void 0 ? 'primary' : _props$color,\n      _props$position = props.position,\n      position = _props$position === void 0 ? 'fixed' : _props$position,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"color\", \"position\"]);\n\n  return /*#__PURE__*/React.createElement(Paper, _extends({\n    square: true,\n    component: \"header\",\n    elevation: 4,\n    className: clsx(classes.root, classes[\"position\".concat(capitalize(position))], classes[\"color\".concat(capitalize(color))], className, position === 'fixed' && 'mui-fixed'),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? AppBar.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The color of the component. It supports those theme colors that make sense for this component.\n   */\n  color: PropTypes.oneOf(['default', 'inherit', 'primary', 'secondary', 'transparent']),\n\n  /**\n   * The positioning type. The behavior of the different options is described\n   * [in the MDN web docs](https://developer.mozilla.org/en-US/docs/Learn/CSS/CSS_layout/Positioning).\n   * Note: `sticky` is not universally supported and will fall back to `static` when unavailable.\n   */\n  position: PropTypes.oneOf(['absolute', 'fixed', 'relative', 'static', 'sticky'])\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiAppBar'\n})(AppBar);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport { getThemeProps, useTheme } from '@material-ui/styles';\nexport default function useMediaQuery(queryInput) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var theme = useTheme();\n  var props = getThemeProps({\n    theme: theme,\n    name: 'MuiUseMediaQuery',\n    props: {}\n  });\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (typeof queryInput === 'function' && theme === null) {\n      console.error(['Material-UI: The `query` argument provided is invalid.', 'You are providing a function without a theme in the context.', 'One of the parent elements needs to use a ThemeProvider.'].join('\\n'));\n    }\n  }\n\n  var query = typeof queryInput === 'function' ? queryInput(theme) : queryInput;\n  query = query.replace(/^@media( ?)/m, ''); // Wait for jsdom to support the match media feature.\n  // All the browsers Material-UI support have this built-in.\n  // This defensive check is here for simplicity.\n  // Most of the time, the match media logic isn't central to people tests.\n\n  var supportMatchMedia = typeof window !== 'undefined' && typeof window.matchMedia !== 'undefined';\n\n  var _props$options = _extends({}, props, options),\n      _props$options$defaul = _props$options.defaultMatches,\n      defaultMatches = _props$options$defaul === void 0 ? false : _props$options$defaul,\n      _props$options$matchM = _props$options.matchMedia,\n      matchMedia = _props$options$matchM === void 0 ? supportMatchMedia ? window.matchMedia : null : _props$options$matchM,\n      _props$options$noSsr = _props$options.noSsr,\n      noSsr = _props$options$noSsr === void 0 ? false : _props$options$noSsr,\n      _props$options$ssrMat = _props$options.ssrMatchMedia,\n      ssrMatchMedia = _props$options$ssrMat === void 0 ? null : _props$options$ssrMat;\n\n  var _React$useState = React.useState(function () {\n    if (noSsr && supportMatchMedia) {\n      return matchMedia(query).matches;\n    }\n\n    if (ssrMatchMedia) {\n      return ssrMatchMedia(query).matches;\n    } // Once the component is mounted, we rely on the\n    // event listeners to return the correct matches value.\n\n\n    return defaultMatches;\n  }),\n      match = _React$useState[0],\n      setMatch = _React$useState[1];\n\n  React.useEffect(function () {\n    var active = true;\n\n    if (!supportMatchMedia) {\n      return undefined;\n    }\n\n    var queryList = matchMedia(query);\n\n    var updateMatch = function updateMatch() {\n      // Workaround Safari wrong implementation of matchMedia\n      // TODO can we remove it?\n      // https://github.com/mui-org/material-ui/pull/17315#issuecomment-528286677\n      if (active) {\n        setMatch(queryList.matches);\n      }\n    };\n\n    updateMatch();\n    queryList.addListener(updateMatch);\n    return function () {\n      active = false;\n      queryList.removeListener(updateMatch);\n    };\n  }, [query, matchMedia, supportMatchMedia]);\n\n  if (process.env.NODE_ENV !== 'production') {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useDebugValue({\n      query: query,\n      match: match\n    });\n  }\n\n  return match;\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { getDisplayName } from '@material-ui/utils';\nimport { getThemeProps } from '@material-ui/styles';\nimport hoistNonReactStatics from 'hoist-non-react-statics';\nimport useTheme from '../styles/useTheme';\nimport { keys as breakpointKeys } from '../styles/createBreakpoints';\nimport useMediaQuery from '../useMediaQuery'; // By default, returns true if screen width is the same or greater than the given breakpoint.\n\nexport var isWidthUp = function isWidthUp(breakpoint, width) {\n  var inclusive = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\n  if (inclusive) {\n    return breakpointKeys.indexOf(breakpoint) <= breakpointKeys.indexOf(width);\n  }\n\n  return breakpointKeys.indexOf(breakpoint) < breakpointKeys.indexOf(width);\n}; // By default, returns true if screen width is the same or less than the given breakpoint.\n\nexport var isWidthDown = function isWidthDown(breakpoint, width) {\n  var inclusive = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\n  if (inclusive) {\n    return breakpointKeys.indexOf(width) <= breakpointKeys.indexOf(breakpoint);\n  }\n\n  return breakpointKeys.indexOf(width) < breakpointKeys.indexOf(breakpoint);\n};\nvar useEnhancedEffect = typeof window === 'undefined' ? React.useEffect : React.useLayoutEffect;\n\nvar withWidth = function withWidth() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return function (Component) {\n    var _options$withTheme = options.withTheme,\n        withThemeOption = _options$withTheme === void 0 ? false : _options$withTheme,\n        _options$noSSR = options.noSSR,\n        noSSR = _options$noSSR === void 0 ? false : _options$noSSR,\n        initialWidthOption = options.initialWidth;\n\n    function WithWidth(props) {\n      var contextTheme = useTheme();\n      var theme = props.theme || contextTheme;\n\n      var _getThemeProps = getThemeProps({\n        theme: theme,\n        name: 'MuiWithWidth',\n        props: _extends({}, props)\n      }),\n          initialWidth = _getThemeProps.initialWidth,\n          width = _getThemeProps.width,\n          other = _objectWithoutProperties(_getThemeProps, [\"initialWidth\", \"width\"]);\n\n      var _React$useState = React.useState(false),\n          mountedState = _React$useState[0],\n          setMountedState = _React$useState[1];\n\n      useEnhancedEffect(function () {\n        setMountedState(true);\n      }, []);\n      /**\n       * innerWidth |xs      sm      md      lg      xl\n       *            |-------|-------|-------|-------|------>\n       * width      |  xs   |  sm   |  md   |  lg   |  xl\n       */\n\n      var keys = theme.breakpoints.keys.slice().reverse();\n      var widthComputed = keys.reduce(function (output, key) {\n        // eslint-disable-next-line react-hooks/rules-of-hooks\n        var matches = useMediaQuery(theme.breakpoints.up(key));\n        return !output && matches ? key : output;\n      }, null);\n\n      var more = _extends({\n        width: width || (mountedState || noSSR ? widthComputed : undefined) || initialWidth || initialWidthOption\n      }, withThemeOption ? {\n        theme: theme\n      } : {}, other); // When rendering the component on the server,\n      // we have no idea about the client browser screen width.\n      // In order to prevent blinks and help the reconciliation of the React tree\n      // we are not rendering the child component.\n      //\n      // An alternative is to use the `initialWidth` property.\n\n\n      if (more.width === undefined) {\n        return null;\n      }\n\n      return /*#__PURE__*/React.createElement(Component, more);\n    }\n\n    process.env.NODE_ENV !== \"production\" ? WithWidth.propTypes = {\n      /**\n       * As `window.innerWidth` is unavailable on the server,\n       * we default to rendering an empty component during the first mount.\n       * You might want to use an heuristic to approximate\n       * the screen width of the client browser screen width.\n       *\n       * For instance, you could be using the user-agent or the client-hints.\n       * https://caniuse.com/#search=client%20hint\n       */\n      initialWidth: PropTypes.oneOf(['xs', 'sm', 'md', 'lg', 'xl']),\n\n      /**\n       * @ignore\n       */\n      theme: PropTypes.object,\n\n      /**\n       * Bypass the width calculation logic.\n       */\n      width: PropTypes.oneOf(['xs', 'sm', 'md', 'lg', 'xl'])\n    } : void 0;\n\n    if (process.env.NODE_ENV !== 'production') {\n      WithWidth.displayName = \"WithWidth(\".concat(getDisplayName(Component), \")\");\n    }\n\n    hoistNonReactStatics(WithWidth, Component);\n    return WithWidth;\n  };\n};\n\nexport default withWidth;","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { chainPropTypes } from '@material-ui/utils';\nimport withStyles from '../styles/withStyles';\nimport ButtonBase from '../ButtonBase';\nimport capitalize from '../utils/capitalize';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: _extends({}, theme.typography.button, {\n      boxSizing: 'border-box',\n      minHeight: 36,\n      transition: theme.transitions.create(['background-color', 'box-shadow', 'border'], {\n        duration: theme.transitions.duration.short\n      }),\n      borderRadius: '50%',\n      padding: 0,\n      minWidth: 0,\n      width: 56,\n      height: 56,\n      boxShadow: theme.shadows[6],\n      '&:active': {\n        boxShadow: theme.shadows[12]\n      },\n      color: theme.palette.getContrastText(theme.palette.grey[300]),\n      backgroundColor: theme.palette.grey[300],\n      '&:hover': {\n        backgroundColor: theme.palette.grey.A100,\n        // Reset on touch devices, it doesn't add specificity\n        '@media (hover: none)': {\n          backgroundColor: theme.palette.grey[300]\n        },\n        '&$disabled': {\n          backgroundColor: theme.palette.action.disabledBackground\n        },\n        textDecoration: 'none'\n      },\n      '&$focusVisible': {\n        boxShadow: theme.shadows[6]\n      },\n      '&$disabled': {\n        color: theme.palette.action.disabled,\n        boxShadow: theme.shadows[0],\n        backgroundColor: theme.palette.action.disabledBackground\n      }\n    }),\n\n    /* Styles applied to the span element that wraps the children. */\n    label: {\n      width: '100%',\n      // assure the correct width for iOS Safari\n      display: 'inherit',\n      alignItems: 'inherit',\n      justifyContent: 'inherit'\n    },\n\n    /* Styles applied to the root element if `color=\"primary\"`. */\n    primary: {\n      color: theme.palette.primary.contrastText,\n      backgroundColor: theme.palette.primary.main,\n      '&:hover': {\n        backgroundColor: theme.palette.primary.dark,\n        // Reset on touch devices, it doesn't add specificity\n        '@media (hover: none)': {\n          backgroundColor: theme.palette.primary.main\n        }\n      }\n    },\n\n    /* Styles applied to the root element if `color=\"secondary\"`. */\n    secondary: {\n      color: theme.palette.secondary.contrastText,\n      backgroundColor: theme.palette.secondary.main,\n      '&:hover': {\n        backgroundColor: theme.palette.secondary.dark,\n        // Reset on touch devices, it doesn't add specificity\n        '@media (hover: none)': {\n          backgroundColor: theme.palette.secondary.main\n        }\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"extended\"`. */\n    extended: {\n      borderRadius: 48 / 2,\n      padding: '0 16px',\n      width: 'auto',\n      minHeight: 'auto',\n      minWidth: 48,\n      height: 48,\n      '&$sizeSmall': {\n        width: 'auto',\n        padding: '0 8px',\n        borderRadius: 34 / 2,\n        minWidth: 34,\n        height: 34\n      },\n      '&$sizeMedium': {\n        width: 'auto',\n        padding: '0 16px',\n        borderRadius: 40 / 2,\n        minWidth: 40,\n        height: 40\n      }\n    },\n\n    /* Pseudo-class applied to the ButtonBase root element if the button is keyboard focused. */\n    focusVisible: {},\n\n    /* Pseudo-class applied to the root element if `disabled={true}`. */\n    disabled: {},\n\n    /* Styles applied to the root element if `color=\"inherit\"`. */\n    colorInherit: {\n      color: 'inherit'\n    },\n\n    /* Styles applied to the root element if `size=\"small\"``. */\n    sizeSmall: {\n      width: 40,\n      height: 40\n    },\n\n    /* Styles applied to the root element if `size=\"medium\"``. */\n    sizeMedium: {\n      width: 48,\n      height: 48\n    }\n  };\n};\nvar Fab = /*#__PURE__*/React.forwardRef(function Fab(props, ref) {\n  var children = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$color = props.color,\n      color = _props$color === void 0 ? 'default' : _props$color,\n      _props$component = props.component,\n      component = _props$component === void 0 ? 'button' : _props$component,\n      _props$disabled = props.disabled,\n      disabled = _props$disabled === void 0 ? false : _props$disabled,\n      _props$disableFocusRi = props.disableFocusRipple,\n      disableFocusRipple = _props$disableFocusRi === void 0 ? false : _props$disableFocusRi,\n      focusVisibleClassName = props.focusVisibleClassName,\n      _props$size = props.size,\n      size = _props$size === void 0 ? 'large' : _props$size,\n      _props$variant = props.variant,\n      variant = _props$variant === void 0 ? 'circular' : _props$variant,\n      other = _objectWithoutProperties(props, [\"children\", \"classes\", \"className\", \"color\", \"component\", \"disabled\", \"disableFocusRipple\", \"focusVisibleClassName\", \"size\", \"variant\"]);\n\n  return /*#__PURE__*/React.createElement(ButtonBase, _extends({\n    className: clsx(classes.root, className, size !== 'large' && classes[\"size\".concat(capitalize(size))], disabled && classes.disabled, variant === 'extended' && classes.extended, {\n      'primary': classes.primary,\n      'secondary': classes.secondary,\n      'inherit': classes.colorInherit\n    }[color]),\n    component: component,\n    disabled: disabled,\n    focusRipple: !disableFocusRipple,\n    focusVisibleClassName: clsx(classes.focusVisible, focusVisibleClassName),\n    ref: ref\n  }, other), /*#__PURE__*/React.createElement(\"span\", {\n    className: classes.label\n  }, children));\n});\nprocess.env.NODE_ENV !== \"production\" ? Fab.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the button.\n   */\n  children: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .node.isRequired,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The color of the component. It supports those theme colors that make sense for this component.\n   */\n  color: PropTypes.oneOf(['default', 'inherit', 'primary', 'secondary']),\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .elementType,\n\n  /**\n   * If `true`, the button will be disabled.\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * If `true`, the  keyboard focus ripple will be disabled.\n   */\n  disableFocusRipple: PropTypes.bool,\n\n  /**\n   * If `true`, the ripple effect will be disabled.\n   */\n  disableRipple: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  focusVisibleClassName: PropTypes.string,\n\n  /**\n   * The URL to link to when the button is clicked.\n   * If defined, an `a` element will be used as the root node.\n   */\n  href: PropTypes.string,\n\n  /**\n   * The size of the button.\n   * `small` is equivalent to the dense button styling.\n   */\n  size: PropTypes.oneOf(['large', 'medium', 'small']),\n\n  /**\n   * The variant to use.\n   * 'round' is deprecated, use 'circular' instead.\n   */\n  variant: chainPropTypes(PropTypes.oneOf(['extended', 'circular', 'round']), function (props) {\n    if (props.variant === 'round') {\n      throw new Error('Material-UI: variant=\"round\" was renamed variant=\"circular\" for consistency.');\n    }\n\n    return null;\n  })\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiFab'\n})(Fab);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport Fab from '@material-ui/core/Fab';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport AddIcon from '@material-ui/icons/AddSharp';\nimport CloseIcon from '@material-ui/icons/CloseSharp';\n/**\n */\n\nexport var WorkspaceAddButton = /*#__PURE__*/function (_Component) {\n  _inherits(WorkspaceAddButton, _Component);\n\n  var _super = _createSuper(WorkspaceAddButton);\n\n  function WorkspaceAddButton() {\n    _classCallCheck(this, WorkspaceAddButton);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(WorkspaceAddButton, [{\n    key: \"render\",\n    value:\n    /**\n     * render\n     * @return\n     */\n    function render() {\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          t = _this$props.t,\n          setWorkspaceAddVisibility = _this$props.setWorkspaceAddVisibility,\n          isWorkspaceAddVisible = _this$props.isWorkspaceAddVisible,\n          useExtendedFab = _this$props.useExtendedFab;\n      return /*#__PURE__*/React.createElement(Tooltip, {\n        title: isWorkspaceAddVisible ? t('closeAddResourceMenu') : t('addResource')\n      }, /*#__PURE__*/React.createElement(Fab, {\n        size: \"medium\",\n        color: \"primary\",\n        id: \"addBtn\",\n        disableRipple: true,\n        \"aria-label\": isWorkspaceAddVisible ? t('closeAddResourceMenu') : useExtendedFab && t('startHere') || t('addResource'),\n        className: classes.fab,\n        classes: {\n          primary: classes.fabPrimary,\n          secondary: classes.fabSecondary\n        },\n        variant: useExtendedFab ? 'extended' : 'round',\n        onClick: function onClick() {\n          setWorkspaceAddVisibility(!isWorkspaceAddVisible);\n        }\n      }, isWorkspaceAddVisible ? /*#__PURE__*/React.createElement(CloseIcon, null) : /*#__PURE__*/React.createElement(AddIcon, null), useExtendedFab && t('startHere')));\n    }\n  }]);\n\n  return WorkspaceAddButton;\n}(Component);\nWorkspaceAddButton.defaultProps = {\n  isWorkspaceAddVisible: false,\n  t: function t(key) {\n    return key;\n  }\n};","import { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles } from '@material-ui/core';\nimport withWidth from '@material-ui/core/withWidth';\nimport { withPlugins } from '../extend/withPlugins';\nimport * as actions from '../state/actions';\nimport { getWindowIds, getWorkspace } from '../state/selectors';\nimport { WorkspaceAddButton } from '../components/WorkspaceAddButton';\n/**\n * mapStateToProps - to hook up connect\n * @memberof WorkspaceControlPanel\n * @private\n */\n\nvar mapStateToProps = function mapStateToProps(state, _ref) {\n  var width = _ref.width;\n\n  var _getWorkspace = getWorkspace(state),\n      isWorkspaceAddVisible = _getWorkspace.isWorkspaceAddVisible;\n\n  return {\n    isWorkspaceAddVisible: isWorkspaceAddVisible,\n    useExtendedFab: width !== 'xs' && !isWorkspaceAddVisible && getWindowIds(state).length === 0\n  };\n};\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof Workspace\n * @private\n */\n\n\nvar mapDispatchToProps = {\n  setWorkspaceAddVisibility: actions.setWorkspaceAddVisibility\n};\n/**\n *\n * @param theme\n * @returns {{ctrlBtn: {margin: (number|string)}}}\n */\n\nvar styles = function styles(theme) {\n  return {\n    fab: {\n      margin: theme.spacing(1)\n    },\n    fabPrimary: {\n      '&:focus': {\n        backgroundColor: theme.palette.primary.dark\n      }\n    },\n    fabSecondary: {\n      '&:focus': {\n        backgroundColor: theme.palette.secondary.dark\n      }\n    }\n  };\n};\n\nvar enhance = compose(withTranslation(), withStyles(styles), withWidth(), connect(mapStateToProps, mapDispatchToProps), withPlugins('WorkspaceAddButton'));\nexport default enhance(WorkspaceAddButton);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport FullscreenIcon from '@material-ui/icons/FullscreenSharp';\nimport FullscreenExitIcon from '@material-ui/icons/FullscreenExitSharp';\nimport MiradorMenuButton from '../containers/MiradorMenuButton';\n/**\n */\n\nexport var FullScreenButton = /*#__PURE__*/function (_Component) {\n  _inherits(FullScreenButton, _Component);\n\n  var _super = _createSuper(FullScreenButton);\n\n  function FullScreenButton() {\n    _classCallCheck(this, FullScreenButton);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(FullScreenButton, [{\n    key: \"render\",\n    value:\n    /**\n     * render\n     * @return\n     */\n    function render() {\n      var _this$props = this.props,\n          className = _this$props.className,\n          isFullscreenEnabled = _this$props.isFullscreenEnabled,\n          setWorkspaceFullscreen = _this$props.setWorkspaceFullscreen,\n          t = _this$props.t;\n      return /*#__PURE__*/React.createElement(MiradorMenuButton, {\n        className: className,\n        \"aria-label\": isFullscreenEnabled ? t('exitFullScreen') : t('workspaceFullScreen'),\n        onClick: function onClick() {\n          return setWorkspaceFullscreen(!isFullscreenEnabled);\n        }\n      }, isFullscreenEnabled ? /*#__PURE__*/React.createElement(FullscreenExitIcon, null) : /*#__PURE__*/React.createElement(FullscreenIcon, null));\n    }\n  }]);\n\n  return FullScreenButton;\n}(Component);\nFullScreenButton.defaultProps = {\n  className: undefined,\n  isFullscreenEnabled: false,\n  t: function t(key) {\n    return key;\n  }\n};","import { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { withTranslation } from 'react-i18next';\nimport { withPlugins } from '../extend/withPlugins';\nimport * as actions from '../state/actions';\nimport { getFullScreenEnabled } from '../state/selectors';\nimport { FullScreenButton } from '../components/FullScreenButton';\n/**\n * mapStateToProps - to hook up connect\n * @memberof FullScreenButton\n * @private\n */\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    isFullscreenEnabled: getFullScreenEnabled(state)\n  };\n};\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof ManifestListItem\n * @private\n */\n\n\nvar mapDispatchToProps = {\n  setWorkspaceFullscreen: actions.setWorkspaceFullscreen\n};\nvar enhance = compose(withTranslation(), connect(mapStateToProps, mapDispatchToProps), withPlugins('FullScreenButton'));\nexport default enhance(FullScreenButton);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport CheckIcon from '@material-ui/icons/CheckSharp';\n\n/**\n * LanguageSettings ~ the workspace sub menu to change the language\n * of the application\n*/\nexport var LanguageSettings = /*#__PURE__*/function (_Component) {\n  _inherits(LanguageSettings, _Component);\n\n  var _super = _createSuper(LanguageSettings);\n\n  function LanguageSettings() {\n    _classCallCheck(this, LanguageSettings);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(LanguageSettings, [{\n    key: \"render\",\n    value:\n    /**\n     * Returns the rendered component\n    */\n    function render() {\n      var _this$props = this.props,\n          handleClick = _this$props.handleClick,\n          languages = _this$props.languages;\n      return /*#__PURE__*/React.createElement(React.Fragment, null, languages.map(function (language) {\n        return /*#__PURE__*/React.createElement(MenuItem, {\n          button: !language.current,\n          key: language.locale,\n          onClick: function onClick() {\n            handleClick(language.locale);\n          }\n        }, /*#__PURE__*/React.createElement(ListItemIcon, null, language.current && /*#__PURE__*/React.createElement(CheckIcon, null)), /*#__PURE__*/React.createElement(ListItemText, {\n          primaryTypographyProps: {\n            variant: 'body1'\n          }\n        }, language.label));\n      }));\n    }\n  }]);\n\n  return LanguageSettings;\n}(Component);","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withPlugins } from '../extend/withPlugins';\nimport * as actions from '../state/actions';\nimport { getLanguagesFromConfigWithCurrent } from '../state/selectors';\nimport { LanguageSettings } from '../components/LanguageSettings';\n/**\n * Map state to props for connect\n */\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    languages: getLanguagesFromConfigWithCurrent(state)\n  };\n};\n/**\n * Map action dispatches to props for connect\n */\n\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch, _ref) {\n  var afterSelect = _ref.afterSelect;\n  return {\n    handleClick: function handleClick(language) {\n      dispatch(actions.updateConfig({\n        language: language\n      }));\n      afterSelect && afterSelect();\n    }\n  };\n};\n\nexport default compose(connect(mapStateToProps, mapDispatchToProps), withPlugins('LanguageSettings'))(LanguageSettings);","var _excluded = [\"children\", \"icon\", \"label\"];\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ExpandLess from '@material-ui/icons/ExpandLessSharp';\nimport ExpandMore from '@material-ui/icons/ExpandMoreSharp';\n/**\n * NestedMenu ~ A presentation component to render a menu item and have\n * it control the visibility of the MUI List passed in as the children\n*/\n\nexport var NestedMenu = /*#__PURE__*/function (_Component) {\n  _inherits(NestedMenu, _Component);\n\n  var _super = _createSuper(NestedMenu);\n\n  /**\n   * constructor -\n   */\n  function NestedMenu(props) {\n    var _this;\n\n    _classCallCheck(this, NestedMenu);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      nestedMenuIsOpen: false\n    };\n    _this.handleMenuClick = _this.handleMenuClick.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /**\n   * handleMenuClick toggles the nestedMenuIsOpen state\n   */\n\n\n  _createClass(NestedMenu, [{\n    key: \"handleMenuClick\",\n    value: function handleMenuClick() {\n      var nestedMenuIsOpen = this.state.nestedMenuIsOpen;\n      this.setState({\n        nestedMenuIsOpen: !nestedMenuIsOpen\n      });\n    }\n    /**\n     * Returns the rendered component.  Spreads unused props to MenuItem\n    */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var nestedMenuIsOpen = this.state.nestedMenuIsOpen;\n\n      var _this$props = this.props,\n          children = _this$props.children,\n          icon = _this$props.icon,\n          label = _this$props.label,\n          otherProps = _objectWithoutProperties(_this$props, _excluded);\n\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(MenuItem, Object.assign({\n        onClick: this.handleMenuClick,\n        divider: nestedMenuIsOpen\n      }, otherProps), icon && /*#__PURE__*/React.createElement(ListItemIcon, null, icon), /*#__PURE__*/React.createElement(ListItemText, {\n        primaryTypographyProps: {\n          variant: 'body1'\n        }\n      }, label), nestedMenuIsOpen ? /*#__PURE__*/React.createElement(ExpandLess, null) : /*#__PURE__*/React.createElement(ExpandMore, null)), nestedMenuIsOpen && children);\n    }\n  }]);\n\n  return NestedMenu;\n}(Component);\nNestedMenu.defaultProps = {\n  icon: null\n};","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport Paper from '../Paper';\nimport withStyles from '../styles/withStyles';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    overflow: 'hidden'\n  }\n};\nvar Card = /*#__PURE__*/React.forwardRef(function Card(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$raised = props.raised,\n      raised = _props$raised === void 0 ? false : _props$raised,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"raised\"]);\n\n  return /*#__PURE__*/React.createElement(Paper, _extends({\n    className: clsx(classes.root, className),\n    elevation: raised ? 8 : 1,\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? Card.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * If `true`, the card will use raised styling.\n   */\n  raised: PropTypes.bool\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiCard'\n})(Card);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    padding: 16,\n    '&:last-child': {\n      paddingBottom: 24\n    }\n  }\n};\nvar CardContent = /*#__PURE__*/React.forwardRef(function CardContent(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'div' : _props$component,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"component\"]);\n\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    className: clsx(classes.root, className),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? CardContent.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .elementType\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiCardContent'\n})(CardContent);","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\n/**\n * ElasticWorkspaceIcon ~\n*/\n\nexport default function ElasticWorkspaceIcon(props) {\n  return /*#__PURE__*/React.createElement(SvgIcon, props, /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"120\",\n    height: \"90\",\n    viewBox: \"0 0 300 225\"\n  }, /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"linear-gradient\",\n    x1: \"0.5\",\n    y1: \"1\",\n    x2: \"0.5\",\n    gradientUnits: \"objectBoundingBox\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0.14\",\n    stopOpacity: \"0.631\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"1\",\n    stopOpacity: \"0\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"linear-gradient-2\",\n    x1: \"0.5\",\n    y1: \"1\",\n    x2: \"0.5\",\n    gradientUnits: \"objectBoundingBox\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0\",\n    stopColor: \"#fff\",\n    stopOpacity: \"0\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0.23\",\n    stopColor: \"#fff\",\n    stopOpacity: \"0.012\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0.36\",\n    stopColor: \"#fff\",\n    stopOpacity: \"0.039\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0.47\",\n    stopColor: \"#fff\",\n    stopOpacity: \"0.102\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0.57\",\n    stopColor: \"#fff\",\n    stopOpacity: \"0.18\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0.67\",\n    stopColor: \"#fff\",\n    stopOpacity: \"0.278\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0.75\",\n    stopColor: \"#fff\",\n    stopOpacity: \"0.412\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0.83\",\n    stopColor: \"#fff\",\n    stopOpacity: \"0.561\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0.91\",\n    stopColor: \"#fff\",\n    stopOpacity: \"0.741\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0.98\",\n    stopColor: \"#fff\",\n    stopOpacity: \"0.929\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"1\",\n    stopColor: \"#fff\"\n  })), /*#__PURE__*/React.createElement(\"clipPath\", {\n    id: \"clip-elastic_icon\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: \"300\",\n    height: \"225\"\n  }))), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"elastic_icon\",\n    \"data-name\": \"elastic icon\",\n    clipPath: \"url(#clip-elastic_icon)\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: \"300\",\n    height: \"225\",\n    fill: \"#fff\"\n  }), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Rectangle_278\",\n    \"data-name\": \"Rectangle 278\",\n    transform: \"translate(232 159)\",\n    fill: \"#88c6c3\",\n    stroke: \"#707070\",\n    strokeWidth: \"1\",\n    opacity: \"0.747\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: \"54\",\n    height: \"54\",\n    stroke: \"none\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: \"0.5\",\n    y: \"0.5\",\n    width: \"53\",\n    height: \"53\",\n    fill: \"none\"\n  })), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Rectangle_8\",\n    \"data-name\": \"Rectangle 8\",\n    transform: \"translate(7 148)\",\n    fill: \"#88c6c3\",\n    stroke: \"#707070\",\n    strokeWidth: \"1\",\n    opacity: \"0.747\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: \"70\",\n    height: \"70\",\n    stroke: \"none\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: \"0.5\",\n    y: \"0.5\",\n    width: \"69\",\n    height: \"69\",\n    fill: \"none\"\n  })), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Rectangle_258\",\n    \"data-name\": \"Rectangle 258\",\n    transform: \"translate(224 6)\",\n    fill: \"#88c6c3\",\n    stroke: \"#707070\",\n    strokeWidth: \"1\",\n    opacity: \"0.747\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: \"70\",\n    height: \"100\",\n    stroke: \"none\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: \"0.5\",\n    y: \"0.5\",\n    width: \"69\",\n    height: \"99\",\n    fill: \"none\"\n  })), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Rectangle_259\",\n    \"data-name\": \"Rectangle 259\",\n    transform: \"translate(71 64)\",\n    fill: \"#88c6c3\",\n    stroke: \"#707070\",\n    strokeWidth: \"1\",\n    opacity: \"0.747\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: \"115\",\n    height: \"75\",\n    stroke: \"none\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: \"0.5\",\n    y: \"0.5\",\n    width: \"114\",\n    height: \"74\",\n    fill: \"none\"\n  })), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Rectangle_260\",\n    \"data-name\": \"Rectangle 260\",\n    transform: \"translate(99 87)\",\n    fill: \"#88c6c3\",\n    stroke: \"#707070\",\n    strokeWidth: \"1\",\n    opacity: \"0.747\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: \"115\",\n    height: \"75\",\n    stroke: \"none\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: \"0.5\",\n    y: \"0.5\",\n    width: \"114\",\n    height: \"74\",\n    fill: \"none\"\n  })), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Group_689\",\n    \"data-name\": \"Group 689\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Group_687\",\n    \"data-name\": \"Group 687\",\n    transform: \"translate(0 3)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    id: \"checkbox\",\n    d: \"M258.766,37.316v146.5H39.053V37.316Zm40.07-39.254h-300v225h300Z\",\n    transform: \"translate(1.164 -1.063)\",\n    fill: \"#010101\",\n    fillRule: \"evenodd\",\n    opacity: \"0.246\"\n  }), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Path_821\",\n    \"data-name\": \"Path 821\",\n    transform: \"translate(40 36)\",\n    fill: \"none\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0,0H220V147H0Z\",\n    stroke: \"none\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 2 2 L 2 145 L 218 145 L 218 2 L 172.9869689941406 2 L 2 2 M 0 0 L 172.9869689941406 0 L 220 0 L 220 147 L 0 147 L 0 0 Z\",\n    stroke: \"none\",\n    fill: \"#01579b\"\n  }))), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Rectangle_257\",\n    \"data-name\": \"Rectangle 257\",\n    transform: \"translate(40 39)\",\n    fill: \"#fff\",\n    stroke: \"#01579b\",\n    strokeWidth: \"2\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: \"20\",\n    height: \"147\",\n    stroke: \"none\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: \"1\",\n    y: \"1\",\n    width: \"18\",\n    height: \"145\",\n    fill: \"none\"\n  })), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Group_688\",\n    \"data-name\": \"Group 688\",\n    transform: \"translate(-27.5 -126)\"\n  }, /*#__PURE__*/React.createElement(\"circle\", {\n    id: \"teal_circle\",\n    \"data-name\": \"teal circle\",\n    cx: \"7.5\",\n    cy: \"7.5\",\n    r: \"7.5\",\n    transform: \"translate(70 171)\",\n    fill: \"#009688\"\n  }), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Group_333\",\n    \"data-name\": \"Group 333\",\n    transform: \"translate(70 171)\",\n    opacity: \"0.12\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    id: \"gradient_border_2\",\n    \"data-name\": \"gradient border 2\",\n    d: \"M3408,959.089A4.911,4.911,0,1,1,3403.09,964a4.911,4.911,0,0,1,4.911-4.911m0-.089a5,5,0,1,0,5,5,5,5,0,0,0-5-5Z\",\n    transform: \"translate(-3403 -959)\",\n    fill: \"url(#linear-gradient)\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"gradient_border_1\",\n    \"data-name\": \"gradient border 1\",\n    d: \"M3408,959.089A4.911,4.911,0,1,1,3403.09,964a4.911,4.911,0,0,1,4.911-4.911m0-.089a5,5,0,1,0,5,5,5,5,0,0,0-5-5Z\",\n    transform: \"translate(-3403 -959)\",\n    fill: \"url(#linear-gradient-2)\"\n  })))))));\n}","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\n/**\n * WorkspaceTypeMosaicIcon ~\n*/\n\nexport default function WorkspaceTypeMosaicIcon(props) {\n  return /*#__PURE__*/React.createElement(SvgIcon, props, /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"120\",\n    height: \"90\",\n    viewBox: \"0 0 300 225\"\n  }, /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"linear-gradient\",\n    x1: \"0.5\",\n    y1: \"1\",\n    x2: \"0.5\",\n    gradientUnits: \"objectBoundingBox\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0.14\",\n    stopOpacity: \"0.631\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"1\",\n    stopOpacity: \"0\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"linear-gradient-2\",\n    x1: \"0.5\",\n    y1: \"1\",\n    x2: \"0.5\",\n    gradientUnits: \"objectBoundingBox\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0\",\n    stopColor: \"#fff\",\n    stopOpacity: \"0\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0.23\",\n    stopColor: \"#fff\",\n    stopOpacity: \"0.012\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0.36\",\n    stopColor: \"#fff\",\n    stopOpacity: \"0.039\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0.47\",\n    stopColor: \"#fff\",\n    stopOpacity: \"0.102\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0.57\",\n    stopColor: \"#fff\",\n    stopOpacity: \"0.18\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0.67\",\n    stopColor: \"#fff\",\n    stopOpacity: \"0.278\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0.75\",\n    stopColor: \"#fff\",\n    stopOpacity: \"0.412\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0.83\",\n    stopColor: \"#fff\",\n    stopOpacity: \"0.561\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0.91\",\n    stopColor: \"#fff\",\n    stopOpacity: \"0.741\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0.98\",\n    stopColor: \"#fff\",\n    stopOpacity: \"0.929\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"1\",\n    stopColor: \"#fff\"\n  })), /*#__PURE__*/React.createElement(\"clipPath\", {\n    id: \"clip-mosaic_icon\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: \"300\",\n    height: \"225\"\n  }))), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"mosaic_icon\",\n    \"data-name\": \"mosaic icon\",\n    clipPath: \"url(#clip-mosaic_icon)\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: \"300\",\n    height: \"225\",\n    fill: \"#fff\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"checkbox\",\n    d: \"M258.766,37.316v146.5H39.053V37.316Zm40.07-39.254h-300v225h300Z\",\n    transform: \"translate(1.163 1.938)\",\n    fill: \"#010101\",\n    fillRule: \"evenodd\",\n    opacity: \"0.5\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"checkbox-2\",\n    \"data-name\": \"checkbox\",\n    d: \"M258.766,37.316v146.5H39.053V37.316Zm40.07-39.254h-300v225h300Z\",\n    transform: \"translate(1.164 1.938)\",\n    fill: \"#010101\",\n    fillRule: \"evenodd\",\n    opacity: \"0.246\"\n  }), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Path_821\",\n    \"data-name\": \"Path 821\",\n    transform: \"translate(40 39)\",\n    fill: \"none\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0,0H220V147H0Z\",\n    stroke: \"none\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 2 2 L 2 145 L 218 145 L 218 2 L 172.9869689941406 2 L 2 2 M 0 0 L 172.9869689941406 0 L 220 0 L 220 147 L 0 147 L 0 0 Z\",\n    stroke: \"none\",\n    fill: \"#01579b\"\n  })), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Rectangle_257\",\n    \"data-name\": \"Rectangle 257\",\n    transform: \"translate(40 39)\",\n    fill: \"#fff\",\n    stroke: \"#01579b\",\n    strokeWidth: \"2\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: \"20\",\n    height: \"147\",\n    stroke: \"none\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: \"1\",\n    y: \"1\",\n    width: \"18\",\n    height: \"145\",\n    fill: \"none\"\n  })), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Group_688\",\n    \"data-name\": \"Group 688\",\n    transform: \"translate(-27.5 -126)\"\n  }, /*#__PURE__*/React.createElement(\"circle\", {\n    id: \"teal_circle\",\n    \"data-name\": \"teal circle\",\n    cx: \"7.5\",\n    cy: \"7.5\",\n    r: \"7.5\",\n    transform: \"translate(70 171)\",\n    fill: \"#009688\"\n  }), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Group_333\",\n    \"data-name\": \"Group 333\",\n    transform: \"translate(70 171)\",\n    opacity: \"0.12\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    id: \"gradient_border_2\",\n    \"data-name\": \"gradient border 2\",\n    d: \"M3408,959.089A4.911,4.911,0,1,1,3403.09,964a4.911,4.911,0,0,1,4.911-4.911m0-.089a5,5,0,1,0,5,5,5,5,0,0,0-5-5Z\",\n    transform: \"translate(-3403 -959)\",\n    fill: \"url(#linear-gradient)\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"gradient_border_1\",\n    \"data-name\": \"gradient border 1\",\n    d: \"M3408,959.089A4.911,4.911,0,1,1,3403.09,964a4.911,4.911,0,0,1,4.911-4.911m0-.089a5,5,0,1,0,5,5,5,5,0,0,0-5-5Z\",\n    transform: \"translate(-3403 -959)\",\n    fill: \"url(#linear-gradient-2)\"\n  }))), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Rectangle_270\",\n    \"data-name\": \"Rectangle 270\",\n    transform: \"translate(60 40.647)\",\n    fill: \"#88c6c3\",\n    stroke: \"#707070\",\n    strokeWidth: \"1\",\n    opacity: \"0.747\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: \"99\",\n    height: \"72\",\n    stroke: \"none\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: \"0.5\",\n    y: \"0.5\",\n    width: \"98\",\n    height: \"71\",\n    fill: \"none\"\n  })), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Rectangle_271\",\n    \"data-name\": \"Rectangle 271\",\n    transform: \"translate(159 40.647)\",\n    fill: \"#88c6c3\",\n    stroke: \"#707070\",\n    strokeWidth: \"1\",\n    opacity: \"0.747\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: \"99\",\n    height: \"72\",\n    stroke: \"none\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: \"0.5\",\n    y: \"0.5\",\n    width: \"98\",\n    height: \"71\",\n    fill: \"none\"\n  })), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Rectangle_272\",\n    \"data-name\": \"Rectangle 272\",\n    transform: \"translate(192 112.647)\",\n    fill: \"#88c6c3\",\n    stroke: \"#707070\",\n    strokeWidth: \"1\",\n    opacity: \"0.747\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: \"66\",\n    height: \"71.45\",\n    stroke: \"none\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: \"0.5\",\n    y: \"0.5\",\n    width: \"65\",\n    height: \"70.45\",\n    fill: \"none\"\n  })), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Rectangle_284\",\n    \"data-name\": \"Rectangle 284\",\n    transform: \"translate(60 112.647)\",\n    fill: \"#88c6c3\",\n    stroke: \"#707070\",\n    strokeWidth: \"1\",\n    opacity: \"0.747\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: \"66\",\n    height: \"71.45\",\n    stroke: \"none\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: \"0.5\",\n    y: \"0.5\",\n    width: \"65\",\n    height: \"70.45\",\n    fill: \"none\"\n  })), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Rectangle_285\",\n    \"data-name\": \"Rectangle 285\",\n    transform: \"translate(126 112.647)\",\n    fill: \"#88c6c3\",\n    stroke: \"#707070\",\n    strokeWidth: \"1\",\n    opacity: \"0.747\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: \"66\",\n    height: \"71.45\",\n    stroke: \"none\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: \"0.5\",\n    y: \"0.5\",\n    width: \"65\",\n    height: \"70.45\",\n    fill: \"none\"\n  })))));\n}","var _excluded = [\"classes\", \"className\"];\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from 'react';\nimport DialogContent from '@material-ui/core/DialogContent';\n/**\n * ScrollIndicatedDialogContent ~ Inject a style into the DialogContent component\n *                                to indicate there is scrollable content\n*/\n\nexport function ScrollIndicatedDialogContent(props) {\n  var classes = props.classes,\n      className = props.className,\n      otherProps = _objectWithoutProperties(props, _excluded);\n\n  var ourClassName = [className, classes.shadowScrollDialog].join(' ');\n  return /*#__PURE__*/React.createElement(DialogContent, Object.assign({\n    className: ourClassName\n  }, otherProps));\n}\nScrollIndicatedDialogContent.defaultProps = {\n  className: ''\n};","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { withStyles } from '@material-ui/core/styles';\nimport { ScrollIndicatedDialogContent } from '../components/ScrollIndicatedDialogContent';\n/**\n * Styles for the withStyles HOC\n */\n\nvar styles = function styles(theme) {\n  var _shadowScrollDialog;\n\n  return {\n    shadowScrollDialog: (_shadowScrollDialog = {\n      /* Shadow covers */\n      background: \"linear-gradient(\".concat(theme.palette.background.paper, \" 30%, rgba(255, 255, 255, 0)), \") + \"linear-gradient(rgba(255, 255, 255, 0), \".concat(theme.palette.background.paper, \" 70%) 0 100%, \") // Shaddows\n      + 'radial-gradient(50% 0, farthest-side, rgba(0, 0, 0, .2), rgba(0, 0, 0, 0)), ' + 'radial-gradient(50% 100%, farthest-side, rgba(0, 0, 0, .2), rgba(0, 0, 0, 0)) 0 100%,'\n    }, _defineProperty(_shadowScrollDialog, \"background\", \"linear-gradient(\".concat(theme.palette.background.paper, \" 30%, rgba(255, 255, 255, 0)), \") // eslint-disable-line no-dupe-keys\n    + \"linear-gradient(rgba(255, 255, 255, 0), \".concat(theme.palette.background.paper, \" 70%) 0 100%, \") // Shaddows\n    + 'radial-gradient(farthest-side at 50% 0, rgba(0, 0, 0, .2), rgba(0, 0, 0, 0)), ' + 'radial-gradient(farthest-side at 50% 100%, rgba(0, 0, 0, .2), rgba(0, 0, 0, 0)) 0 100%;'), _defineProperty(_shadowScrollDialog, \"backgroundAttachment\", 'local, local, scroll, scroll'), _defineProperty(_shadowScrollDialog, \"backgroundRepeat\", 'no-repeat'), _defineProperty(_shadowScrollDialog, \"backgroundSize\", '100% 40px, 100% 40px, 100% 14px, 100% 14px'), _defineProperty(_shadowScrollDialog, \"overflowY\", 'auto'), _shadowScrollDialog)\n  };\n};\n\nexport default withStyles(styles)(ScrollIndicatedDialogContent);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { Card, CardContent, MenuList, MenuItem, Typography } from '@material-ui/core';\nimport WorkspaceTypeElasticIcon from './icons/WorkspaceTypeElasticIcon';\nimport WorkspaceTypeMosaicIcon from './icons/WorkspaceTypeMosaicIcon';\nimport ScrollIndicatedDialogContent from '../containers/ScrollIndicatedDialogContent';\n/**\n */\n\nexport var WorkspaceSelectionDialog = /*#__PURE__*/function (_Component) {\n  _inherits(WorkspaceSelectionDialog, _Component);\n\n  var _super = _createSuper(WorkspaceSelectionDialog);\n\n  /**\n   * constructor\n   */\n  function WorkspaceSelectionDialog(props) {\n    var _this;\n\n    _classCallCheck(this, WorkspaceSelectionDialog);\n\n    _this = _super.call(this, props);\n    _this.handleWorkspaceTypeChange = _this.handleWorkspaceTypeChange.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /**\n   * Propagate workspace type selection into the global state\n   */\n\n\n  _createClass(WorkspaceSelectionDialog, [{\n    key: \"handleWorkspaceTypeChange\",\n    value: function handleWorkspaceTypeChange(workspaceType) {\n      var _this$props = this.props,\n          handleClose = _this$props.handleClose,\n          updateWorkspace = _this$props.updateWorkspace;\n      updateWorkspace({\n        type: workspaceType\n      });\n      handleClose();\n    }\n    /**\n     * render\n     * @return\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props2 = this.props,\n          classes = _this$props2.classes,\n          container = _this$props2.container,\n          handleClose = _this$props2.handleClose,\n          open = _this$props2.open,\n          children = _this$props2.children,\n          t = _this$props2.t,\n          workspaceType = _this$props2.workspaceType;\n      return /*#__PURE__*/React.createElement(Dialog, {\n        \"aria-labelledby\": \"workspace-selection-dialog-title\",\n        container: container,\n        id: \"workspace-selection-dialog\",\n        onClose: handleClose,\n        onEntered: function onEntered(dialog) {\n          return WorkspaceSelectionDialog.setInitialFocus(dialog, workspaceType);\n        },\n        onEscapeKeyDown: handleClose,\n        open: open\n      }, /*#__PURE__*/React.createElement(DialogTitle, {\n        id: \"workspace-selection-dialog-title\",\n        disableTypography: true\n      }, /*#__PURE__*/React.createElement(Typography, {\n        variant: \"h2\"\n      }, t('workspaceSelectionTitle'))), /*#__PURE__*/React.createElement(ScrollIndicatedDialogContent, null, children, /*#__PURE__*/React.createElement(MenuList, {\n        classes: {\n          root: classes.list\n        },\n        selected: workspaceType\n      }, /*#__PURE__*/React.createElement(MenuItem, {\n        className: classes.menuItem,\n        onClick: function onClick() {\n          return _this2.handleWorkspaceTypeChange('elastic');\n        },\n        selected: workspaceType === 'elastic',\n        value: \"elastic\"\n      }, /*#__PURE__*/React.createElement(Card, {\n        className: classes.card\n      }, /*#__PURE__*/React.createElement(WorkspaceTypeElasticIcon, {\n        className: classes.svgIcon,\n        viewBox: \"0 0 120 90\"\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: classes.details\n      }, /*#__PURE__*/React.createElement(CardContent, {\n        classes: {\n          root: classes.root\n        },\n        className: classes.content\n      }, /*#__PURE__*/React.createElement(Typography, {\n        className: classes.headline,\n        component: \"p\",\n        variant: \"h3\"\n      }, t('elastic')), /*#__PURE__*/React.createElement(Typography, {\n        variant: \"body1\"\n      }, t('elasticDescription')))))), /*#__PURE__*/React.createElement(MenuItem, {\n        className: classes.menuItem,\n        onClick: function onClick() {\n          return _this2.handleWorkspaceTypeChange('mosaic');\n        },\n        selected: workspaceType === 'mosaic',\n        value: \"mosaic\"\n      }, /*#__PURE__*/React.createElement(Card, {\n        className: classes.card\n      }, /*#__PURE__*/React.createElement(WorkspaceTypeMosaicIcon, {\n        className: classes.svgIcon,\n        viewBox: \"0 0 120 90\"\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: classes.details\n      }, /*#__PURE__*/React.createElement(CardContent, {\n        className: classes.content,\n        classes: {\n          root: classes.root\n        }\n      }, /*#__PURE__*/React.createElement(Typography, {\n        className: classes.headline,\n        component: \"p\",\n        variant: \"h3\"\n      }, t('mosaic')), /*#__PURE__*/React.createElement(Typography, {\n        variant: \"body1\"\n      }, t('mosaicDescription')))))))));\n    }\n  }], [{\n    key: \"setInitialFocus\",\n    value:\n    /**\n     * Set the initial focus when the dialog enters\n     * Find the selected item by using the current workspace type\n     * in a selector on the value attribute (which we need to set)\n    */\n    function setInitialFocus(dialogElement, workspaceType) {\n      var selectedListItem = dialogElement.querySelectorAll(\"li[value=\\\"\".concat(workspaceType, \"\\\"]\"));\n      if (!selectedListItem || selectedListItem.length === 0) return;\n      selectedListItem[0].focus();\n    }\n  }]);\n\n  return WorkspaceSelectionDialog;\n}(Component);\nWorkspaceSelectionDialog.defaultProps = {\n  children: null,\n  container: null,\n  open: false,\n  t: function t(key) {\n    return key;\n  }\n};","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles } from '@material-ui/core';\nimport { withPlugins } from '../extend/withPlugins';\nimport { WorkspaceSelectionDialog } from '../components/WorkspaceSelectionDialog';\nimport * as actions from '../state/actions';\nimport { getWorkspaceType } from '../state/selectors';\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof ManifestListItem\n * @private\n */\n\nvar mapDispatchToProps = {\n  updateWorkspace: actions.updateWorkspace\n};\n/**\n * mapStateToProps - to hook up connect\n * @memberof Workspace\n * @private\n */\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    workspaceType: getWorkspaceType(state)\n  };\n};\n/** */\n\n\nvar styles = function styles(theme) {\n  return {\n    card: {\n      backgroundColor: 'transparent',\n      borderRadius: '0',\n      boxShadow: '0 0 transparent',\n      display: 'flex'\n    },\n    content: {\n      flex: '1 0 auto'\n    },\n    details: {\n      display: 'flex',\n      flexDirection: 'column'\n    },\n    headline: {\n      paddingBottom: '6px'\n    },\n    list: {\n      '&active': {\n        outline: 'none'\n      },\n      '&focus': {\n        outline: 'none'\n      },\n      outline: 'none'\n    },\n    media: {\n      flex: '0 0 120px',\n      height: '90px'\n    },\n    menuItem: {\n      height: 'auto',\n      overflow: 'auto',\n      whiteSpace: 'inherit'\n    },\n    root: {\n      '&:last-child': {\n        paddingBottom: '12px'\n      },\n      paddingBottom: 0,\n      paddingTop: 0,\n      textAlign: 'left'\n    },\n    svgIcon: {\n      flexShrink: 0,\n      height: '90px',\n      width: '120px'\n    }\n  };\n};\n\nvar enhance = compose(withTranslation(), withStyles(styles), connect(mapStateToProps, mapDispatchToProps), withPlugins('WorkspaceSelectionDialog'));\nexport default enhance(WorkspaceSelectionDialog);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport { Dialog, DialogTitle, ListItemIcon, ListItemText, MenuList, MenuItem, Typography, DialogContent } from '@material-ui/core';\nimport PaletteIcon from '@material-ui/icons/PaletteSharp';\n\n/**\n * a simple dialog providing the possibility to switch the theme\n */\nexport var ChangeThemeDialog = /*#__PURE__*/function (_Component) {\n  _inherits(ChangeThemeDialog, _Component);\n\n  var _super = _createSuper(ChangeThemeDialog);\n\n  /**\n  */\n  function ChangeThemeDialog(props) {\n    var _this;\n\n    _classCallCheck(this, ChangeThemeDialog);\n\n    _this = _super.call(this, props);\n    _this.selectedItemRef = /*#__PURE__*/React.createRef();\n    _this.handleThemeChange = _this.handleThemeChange.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /**\n   * Propagate theme palette type selection into the global state\n   */\n\n\n  _createClass(ChangeThemeDialog, [{\n    key: \"handleThemeChange\",\n    value: function handleThemeChange(theme) {\n      var _this$props = this.props,\n          setSelectedTheme = _this$props.setSelectedTheme,\n          handleClose = _this$props.handleClose;\n      setSelectedTheme(theme);\n      handleClose();\n    }\n    /** */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props2 = this.props,\n          classes = _this$props2.classes,\n          handleClose = _this$props2.handleClose,\n          open = _this$props2.open,\n          selectedTheme = _this$props2.selectedTheme,\n          t = _this$props2.t,\n          themeIds = _this$props2.themeIds;\n      return /*#__PURE__*/React.createElement(Dialog, {\n        onClose: handleClose,\n        onEntered: function onEntered(dialog) {\n          return ChangeThemeDialog.setInitialFocus(dialog, selectedTheme);\n        },\n        open: open\n      }, /*#__PURE__*/React.createElement(DialogTitle, {\n        id: \"change-the-dialog-title\",\n        disableTypography: true\n      }, /*#__PURE__*/React.createElement(Typography, {\n        variant: \"h2\"\n      }, t('changeTheme'))), /*#__PURE__*/React.createElement(DialogContent, {\n        className: classes.dialogContent\n      }, /*#__PURE__*/React.createElement(MenuList, null, themeIds.map(function (value) {\n        return /*#__PURE__*/React.createElement(MenuItem, {\n          key: value,\n          className: classes.listitem,\n          onClick: function onClick() {\n            _this2.handleThemeChange(value);\n          },\n          selected: value === selectedTheme,\n          value: value\n        }, /*#__PURE__*/React.createElement(ListItemIcon, null, /*#__PURE__*/React.createElement(PaletteIcon, {\n          className: classes[value]\n        })), /*#__PURE__*/React.createElement(ListItemText, null, t(value)));\n      }))));\n    }\n  }], [{\n    key: \"setInitialFocus\",\n    value:\n    /**\n     * Set the initial focus when the dialog enters\n     * Find the selected item by using the current theme\n     * in a selector on the value attribute (which we need to set)\n    */\n    function setInitialFocus(dialogElement, selectedTheme) {\n      var selectedListItem = dialogElement.querySelectorAll(\"li[value=\\\"\".concat(selectedTheme, \"\\\"]\"));\n      if (!selectedListItem || selectedListItem.length === 0) return;\n      selectedListItem[0].focus();\n    }\n  }]);\n\n  return ChangeThemeDialog;\n}(Component);\nChangeThemeDialog.defaultProps = {\n  open: false,\n  themeIds: []\n};","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withStyles } from '@material-ui/core';\nimport { withTranslation } from 'react-i18next';\nimport { withPlugins } from '../extend/withPlugins';\nimport * as actions from '../state/actions';\nimport { getThemeIds, getConfig } from '../state/selectors';\nimport { ChangeThemeDialog } from '../components/ChangeThemeDialog';\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof ChangeThemeDialog\n * @private\n */\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch, _ref) {\n  var windowId = _ref.windowId;\n  return {\n    setSelectedTheme: function setSelectedTheme(theme) {\n      return dispatch(actions.updateConfig({\n        selectedTheme: theme\n      }));\n    }\n  };\n};\n/**\n * mapStateToProps - to hook up connect\n * @memberof ChangeThemeDialog\n * @private\n */\n\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    selectedTheme: getConfig(state).selectedTheme,\n    themeIds: getThemeIds(state)\n  };\n};\n/** */\n\n\nvar styles = function styles(theme) {\n  return {\n    dark: {\n      color: '#000000'\n    },\n    dialogContent: {\n      padding: 0\n    },\n    light: {\n      color: '#BDBDBD'\n    },\n    listitem: {\n      '&:focus': {\n        backgroundColor: theme.palette.action.focus\n      },\n      '&:hover': {\n        backgroundColor: theme.palette.action.hover\n      },\n      cursor: 'pointer'\n    }\n  };\n};\n\nvar enhance = compose(withTranslation(), withStyles(styles), connect(mapStateToProps, mapDispatchToProps), withPlugins('ChangeThemeDialog'));\nexport default enhance(ChangeThemeDialog);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Typography from '@material-ui/core/Typography';\nimport LanguageSettings from '../containers/LanguageSettings';\nimport { NestedMenu } from './NestedMenu';\nimport WorkspaceSelectionDialog from '../containers/WorkspaceSelectionDialog';\nimport ns from '../config/css-ns';\nimport ChangeThemeDialog from '../containers/ChangeThemeDialog';\nimport { PluginHook } from './PluginHook';\n/**\n */\n\nexport var WorkspaceMenu = /*#__PURE__*/function (_Component) {\n  _inherits(WorkspaceMenu, _Component);\n\n  var _super = _createSuper(WorkspaceMenu);\n\n  /**\n   * constructor -\n   */\n  function WorkspaceMenu(props) {\n    var _this;\n\n    _classCallCheck(this, WorkspaceMenu);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      changeTheme: {},\n      toggleZoom: {},\n      workspaceSelection: {}\n    };\n    _this.handleMenuItemClick = _this.handleMenuItemClick.bind(_assertThisInitialized(_this));\n    _this.handleMenuItemClose = _this.handleMenuItemClose.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /**\n   * @private\n   */\n\n\n  _createClass(WorkspaceMenu, [{\n    key: \"handleMenuItemClick\",\n    value: function handleMenuItemClick(item, event) {\n      var obj = {};\n      obj[item] = {};\n      obj[item].open = true;\n      obj[item].anchorEl = event.currentTarget;\n      this.setState(obj);\n    }\n    /**\n     * @private\n     */\n\n  }, {\n    key: \"handleMenuItemClose\",\n    value: function handleMenuItemClose(item) {\n      var _this2 = this;\n\n      return function (event) {\n        var obj = {};\n        obj[item] = {};\n        obj[item].open = false;\n        obj[item].anchorEl = null;\n\n        _this2.setState(obj);\n      };\n    }\n    /**\n     * @private\n     */\n\n  }, {\n    key: \"handleZoomToggleClick\",\n    value: function handleZoomToggleClick() {\n      var _this$props = this.props,\n          toggleZoomControls = _this$props.toggleZoomControls,\n          showZoomControls = _this$props.showZoomControls;\n      toggleZoomControls(!showZoomControls);\n    }\n    /**\n     * render\n     * @return\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$props2 = this.props,\n          containerId = _this$props2.containerId,\n          handleClose = _this$props2.handleClose,\n          anchorEl = _this$props2.anchorEl,\n          showThemePicker = _this$props2.showThemePicker,\n          isWorkspaceAddVisible = _this$props2.isWorkspaceAddVisible,\n          t = _this$props2.t,\n          showZoomControls = _this$props2.showZoomControls;\n      var _this$state = this.state,\n          changeTheme = _this$state.changeTheme,\n          toggleZoom = _this$state.toggleZoom,\n          workspaceSelection = _this$state.workspaceSelection;\n      var container = document.querySelector(\"#\".concat(containerId, \" .\").concat(ns('viewer')));\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Menu, {\n        id: \"workspace-menu\",\n        container: container,\n        anchorEl: anchorEl,\n        anchorOrigin: {\n          horizontal: 'right',\n          vertical: 'top'\n        },\n        transformOrigin: {\n          horizontal: 'left',\n          vertical: 'top'\n        },\n        open: Boolean(anchorEl),\n        onClose: handleClose\n      }, /*#__PURE__*/React.createElement(MenuItem, {\n        \"aria-haspopup\": \"true\",\n        disabled: isWorkspaceAddVisible,\n        onClick: function onClick(e) {\n          _this3.handleZoomToggleClick(e);\n\n          handleClose(e);\n        },\n        \"aria-owns\": toggleZoom.anchorEl ? 'toggle-zoom-menu' : undefined\n      }, /*#__PURE__*/React.createElement(Typography, {\n        variant: \"body1\"\n      }, showZoomControls ? t('hideZoomControls') : t('showZoomControls'))), /*#__PURE__*/React.createElement(MenuItem, {\n        \"aria-haspopup\": \"true\",\n        onClick: function onClick(e) {\n          _this3.handleMenuItemClick('workspaceSelection', e);\n\n          handleClose(e);\n        },\n        \"aria-owns\": workspaceSelection.anchorEl ? 'workspace-selection' : undefined\n      }, /*#__PURE__*/React.createElement(Typography, {\n        variant: \"body1\"\n      }, t('selectWorkspaceMenu'))), /*#__PURE__*/React.createElement(NestedMenu, {\n        label: t('language')\n      }, /*#__PURE__*/React.createElement(LanguageSettings, {\n        afterSelect: handleClose\n      })), showThemePicker && /*#__PURE__*/React.createElement(MenuItem, {\n        \"aria-haspopup\": \"true\",\n        onClick: function onClick(e) {\n          _this3.handleMenuItemClick('changeTheme', e);\n\n          handleClose(e);\n        },\n        \"aria-owns\": changeTheme.anchorEl ? 'change-theme' : undefined\n      }, /*#__PURE__*/React.createElement(Typography, {\n        variant: \"body1\"\n      }, t('changeTheme'))), /*#__PURE__*/React.createElement(PluginHook, this.props)), Boolean(changeTheme.open) && /*#__PURE__*/React.createElement(ChangeThemeDialog, {\n        container: container,\n        handleClose: this.handleMenuItemClose('changeTheme'),\n        open: Boolean(changeTheme.open)\n      }), Boolean(workspaceSelection.open) && /*#__PURE__*/React.createElement(WorkspaceSelectionDialog, {\n        open: Boolean(workspaceSelection.open),\n        container: container,\n        handleClose: this.handleMenuItemClose('workspaceSelection')\n      }));\n    }\n  }]);\n\n  return WorkspaceMenu;\n}(Component);\nWorkspaceMenu.defaultProps = {\n  anchorEl: null,\n  isWorkspaceAddVisible: false,\n  showThemePicker: false,\n  showZoomControls: false,\n  t: function t(key) {\n    return key;\n  },\n  toggleZoomControls: function toggleZoomControls() {}\n};","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\nimport { withPlugins } from '../extend/withPlugins';\nimport * as actions from '../state/actions';\nimport { getContainerId, getShowZoomControlsConfig, getThemeIds, getWorkspace } from '../state/selectors';\nimport { WorkspaceMenu } from '../components/WorkspaceMenu';\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof WorkspaceMenu\n * @private\n */\n\nvar mapDispatchToProps = {\n  toggleZoomControls: actions.toggleZoomControls\n};\n/**\n * mapStateToProps - to hook up connect\n * @memberof WindowViewer\n * @private\n */\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    containerId: getContainerId(state),\n    isWorkspaceAddVisible: getWorkspace(state).isWorkspaceAddVisible,\n    showThemePicker: getThemeIds(state).length > 0,\n    showZoomControls: getShowZoomControlsConfig(state)\n  };\n};\n\nvar enhance = compose(withTranslation(), connect(mapStateToProps, mapDispatchToProps), withPlugins('WorkspaceMenu'));\nexport default enhance(WorkspaceMenu);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport SettingsIcon from '@material-ui/icons/SettingsSharp';\nimport classNames from 'classnames';\nimport WorkspaceMenu from '../containers/WorkspaceMenu';\nimport MiradorMenuButton from '../containers/MiradorMenuButton';\n/**\n */\n\nexport var WorkspaceMenuButton = /*#__PURE__*/function (_Component) {\n  _inherits(WorkspaceMenuButton, _Component);\n\n  var _super = _createSuper(WorkspaceMenuButton);\n\n  /**\n   * constructor -\n   */\n  function WorkspaceMenuButton(props) {\n    var _this;\n\n    _classCallCheck(this, WorkspaceMenuButton);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      anchorEl: null\n    };\n    _this.handleMenuClick = _this.handleMenuClick.bind(_assertThisInitialized(_this));\n    _this.handleMenuClose = _this.handleMenuClose.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /**\n   * @private\n   */\n\n\n  _createClass(WorkspaceMenuButton, [{\n    key: \"handleMenuClick\",\n    value: function handleMenuClick(event) {\n      this.setState({\n        anchorEl: event.currentTarget\n      });\n    }\n    /**\n     * @private\n     */\n\n  }, {\n    key: \"handleMenuClose\",\n    value: function handleMenuClose() {\n      this.setState({\n        anchorEl: null\n      });\n    }\n    /**\n     * render\n     * @return\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          t = _this$props.t;\n      var anchorEl = this.state.anchorEl;\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(MiradorMenuButton, {\n        \"aria-haspopup\": \"true\",\n        \"aria-label\": t('workspaceMenu'),\n        \"aria-owns\": anchorEl ? 'workspace-menu' : undefined,\n        className: classNames(classes.ctrlBtn, anchorEl ? classes.ctrlBtnSelected : null),\n        id: \"menuBtn\",\n        onClick: this.handleMenuClick\n      }, /*#__PURE__*/React.createElement(SettingsIcon, null)), /*#__PURE__*/React.createElement(WorkspaceMenu, {\n        anchorEl: anchorEl,\n        handleClose: this.handleMenuClose\n      }));\n    }\n  }]);\n\n  return WorkspaceMenuButton;\n}(Component);\nWorkspaceMenuButton.defaultProps = {\n  t: function t(key) {\n    return key;\n  }\n};","import { compose } from 'redux';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles } from '@material-ui/core';\nimport { withPlugins } from '../extend/withPlugins';\nimport { WorkspaceMenuButton } from '../components/WorkspaceMenuButton';\n/**\n *\n * @param theme\n * @returns {{ctrlBtn: {margin: (number|string)}}}\n */\n\nvar styles = function styles(theme) {\n  return {\n    ctrlBtn: {\n      margin: theme.spacing(1)\n    },\n    ctrlBtnSelected: {\n      backgroundColor: theme.palette.action.selected\n    }\n  };\n};\n\nvar enhance = compose(withTranslation(), withStyles(styles), withPlugins('WorkspaceMenuButton') // further HOC\n);\nexport default enhance(WorkspaceMenuButton);","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport Paper from '../Paper';\nimport { emphasize } from '../styles/colorManipulator';\nexport var styles = function styles(theme) {\n  var emphasis = theme.palette.type === 'light' ? 0.8 : 0.98;\n  var backgroundColor = emphasize(theme.palette.background.default, emphasis);\n  return {\n    /* Styles applied to the root element. */\n    root: _extends({}, theme.typography.body2, _defineProperty({\n      color: theme.palette.getContrastText(backgroundColor),\n      backgroundColor: backgroundColor,\n      display: 'flex',\n      alignItems: 'center',\n      flexWrap: 'wrap',\n      padding: '6px 16px',\n      borderRadius: theme.shape.borderRadius,\n      flexGrow: 1\n    }, theme.breakpoints.up('sm'), {\n      flexGrow: 'initial',\n      minWidth: 288\n    })),\n\n    /* Styles applied to the message wrapper element. */\n    message: {\n      padding: '8px 0'\n    },\n\n    /* Styles applied to the action wrapper element if `action` is provided. */\n    action: {\n      display: 'flex',\n      alignItems: 'center',\n      marginLeft: 'auto',\n      paddingLeft: 16,\n      marginRight: -8\n    }\n  };\n};\nvar SnackbarContent = /*#__PURE__*/React.forwardRef(function SnackbarContent(props, ref) {\n  var action = props.action,\n      classes = props.classes,\n      className = props.className,\n      message = props.message,\n      _props$role = props.role,\n      role = _props$role === void 0 ? 'alert' : _props$role,\n      other = _objectWithoutProperties(props, [\"action\", \"classes\", \"className\", \"message\", \"role\"]);\n\n  return /*#__PURE__*/React.createElement(Paper, _extends({\n    role: role,\n    square: true,\n    elevation: 6,\n    className: clsx(classes.root, className),\n    ref: ref\n  }, other), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.message\n  }, message), action ? /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.action\n  }, action) : null);\n});\nprocess.env.NODE_ENV !== \"production\" ? SnackbarContent.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The action to display. It renders after the message, at the end of the snackbar.\n   */\n  action: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The message to display.\n   */\n  message: PropTypes.node,\n\n  /**\n   * The ARIA role attribute of the element.\n   */\n  role: PropTypes.string\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiSnackbarContent'\n})(SnackbarContent);","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport { duration } from '../styles/transitions';\nimport ClickAwayListener from '../ClickAwayListener';\nimport useEventCallback from '../utils/useEventCallback';\nimport capitalize from '../utils/capitalize';\nimport createChainedFunction from '../utils/createChainedFunction';\nimport deprecatedPropType from '../utils/deprecatedPropType';\nimport Grow from '../Grow';\nimport SnackbarContent from '../SnackbarContent';\nexport var styles = function styles(theme) {\n  var top1 = {\n    top: 8\n  };\n  var bottom1 = {\n    bottom: 8\n  };\n  var right = {\n    justifyContent: 'flex-end'\n  };\n  var left = {\n    justifyContent: 'flex-start'\n  };\n  var top3 = {\n    top: 24\n  };\n  var bottom3 = {\n    bottom: 24\n  };\n  var right3 = {\n    right: 24\n  };\n  var left3 = {\n    left: 24\n  };\n  var center = {\n    left: '50%',\n    right: 'auto',\n    transform: 'translateX(-50%)'\n  };\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      zIndex: theme.zIndex.snackbar,\n      position: 'fixed',\n      display: 'flex',\n      left: 8,\n      right: 8,\n      justifyContent: 'center',\n      alignItems: 'center'\n    },\n\n    /* Styles applied to the root element if `anchorOrigin={{ 'top', 'center' }}`. */\n    anchorOriginTopCenter: _extends({}, top1, _defineProperty({}, theme.breakpoints.up('sm'), _extends({}, top3, center))),\n\n    /* Styles applied to the root element if `anchorOrigin={{ 'bottom', 'center' }}`. */\n    anchorOriginBottomCenter: _extends({}, bottom1, _defineProperty({}, theme.breakpoints.up('sm'), _extends({}, bottom3, center))),\n\n    /* Styles applied to the root element if `anchorOrigin={{ 'top', 'right' }}`. */\n    anchorOriginTopRight: _extends({}, top1, right, _defineProperty({}, theme.breakpoints.up('sm'), _extends({\n      left: 'auto'\n    }, top3, right3))),\n\n    /* Styles applied to the root element if `anchorOrigin={{ 'bottom', 'right' }}`. */\n    anchorOriginBottomRight: _extends({}, bottom1, right, _defineProperty({}, theme.breakpoints.up('sm'), _extends({\n      left: 'auto'\n    }, bottom3, right3))),\n\n    /* Styles applied to the root element if `anchorOrigin={{ 'top', 'left' }}`. */\n    anchorOriginTopLeft: _extends({}, top1, left, _defineProperty({}, theme.breakpoints.up('sm'), _extends({\n      right: 'auto'\n    }, top3, left3))),\n\n    /* Styles applied to the root element if `anchorOrigin={{ 'bottom', 'left' }}`. */\n    anchorOriginBottomLeft: _extends({}, bottom1, left, _defineProperty({}, theme.breakpoints.up('sm'), _extends({\n      right: 'auto'\n    }, bottom3, left3)))\n  };\n};\nvar Snackbar = /*#__PURE__*/React.forwardRef(function Snackbar(props, ref) {\n  var action = props.action,\n      _props$anchorOrigin = props.anchorOrigin;\n  _props$anchorOrigin = _props$anchorOrigin === void 0 ? {\n    vertical: 'bottom',\n    horizontal: 'center'\n  } : _props$anchorOrigin;\n\n  var vertical = _props$anchorOrigin.vertical,\n      horizontal = _props$anchorOrigin.horizontal,\n      _props$autoHideDurati = props.autoHideDuration,\n      autoHideDuration = _props$autoHideDurati === void 0 ? null : _props$autoHideDurati,\n      children = props.children,\n      classes = props.classes,\n      className = props.className,\n      ClickAwayListenerProps = props.ClickAwayListenerProps,\n      ContentProps = props.ContentProps,\n      _props$disableWindowB = props.disableWindowBlurListener,\n      disableWindowBlurListener = _props$disableWindowB === void 0 ? false : _props$disableWindowB,\n      message = props.message,\n      onClose = props.onClose,\n      onEnter = props.onEnter,\n      onEntered = props.onEntered,\n      onEntering = props.onEntering,\n      onExit = props.onExit,\n      onExited = props.onExited,\n      onExiting = props.onExiting,\n      onMouseEnter = props.onMouseEnter,\n      onMouseLeave = props.onMouseLeave,\n      open = props.open,\n      resumeHideDuration = props.resumeHideDuration,\n      _props$TransitionComp = props.TransitionComponent,\n      TransitionComponent = _props$TransitionComp === void 0 ? Grow : _props$TransitionComp,\n      _props$transitionDura = props.transitionDuration,\n      transitionDuration = _props$transitionDura === void 0 ? {\n    enter: duration.enteringScreen,\n    exit: duration.leavingScreen\n  } : _props$transitionDura,\n      TransitionProps = props.TransitionProps,\n      other = _objectWithoutProperties(props, [\"action\", \"anchorOrigin\", \"autoHideDuration\", \"children\", \"classes\", \"className\", \"ClickAwayListenerProps\", \"ContentProps\", \"disableWindowBlurListener\", \"message\", \"onClose\", \"onEnter\", \"onEntered\", \"onEntering\", \"onExit\", \"onExited\", \"onExiting\", \"onMouseEnter\", \"onMouseLeave\", \"open\", \"resumeHideDuration\", \"TransitionComponent\", \"transitionDuration\", \"TransitionProps\"]);\n\n  var timerAutoHide = React.useRef();\n\n  var _React$useState = React.useState(true),\n      exited = _React$useState[0],\n      setExited = _React$useState[1];\n\n  var handleClose = useEventCallback(function () {\n    if (onClose) {\n      onClose.apply(void 0, arguments);\n    }\n  });\n  var setAutoHideTimer = useEventCallback(function (autoHideDurationParam) {\n    if (!onClose || autoHideDurationParam == null) {\n      return;\n    }\n\n    clearTimeout(timerAutoHide.current);\n    timerAutoHide.current = setTimeout(function () {\n      handleClose(null, 'timeout');\n    }, autoHideDurationParam);\n  });\n  React.useEffect(function () {\n    if (open) {\n      setAutoHideTimer(autoHideDuration);\n    }\n\n    return function () {\n      clearTimeout(timerAutoHide.current);\n    };\n  }, [open, autoHideDuration, setAutoHideTimer]); // Pause the timer when the user is interacting with the Snackbar\n  // or when the user hide the window.\n\n  var handlePause = function handlePause() {\n    clearTimeout(timerAutoHide.current);\n  }; // Restart the timer when the user is no longer interacting with the Snackbar\n  // or when the window is shown back.\n\n\n  var handleResume = React.useCallback(function () {\n    if (autoHideDuration != null) {\n      setAutoHideTimer(resumeHideDuration != null ? resumeHideDuration : autoHideDuration * 0.5);\n    }\n  }, [autoHideDuration, resumeHideDuration, setAutoHideTimer]);\n\n  var handleMouseEnter = function handleMouseEnter(event) {\n    if (onMouseEnter) {\n      onMouseEnter(event);\n    }\n\n    handlePause();\n  };\n\n  var handleMouseLeave = function handleMouseLeave(event) {\n    if (onMouseLeave) {\n      onMouseLeave(event);\n    }\n\n    handleResume();\n  };\n\n  var handleClickAway = function handleClickAway(event) {\n    if (onClose) {\n      onClose(event, 'clickaway');\n    }\n  };\n\n  var handleExited = function handleExited() {\n    setExited(true);\n  };\n\n  var handleEnter = function handleEnter() {\n    setExited(false);\n  };\n\n  React.useEffect(function () {\n    if (!disableWindowBlurListener && open) {\n      window.addEventListener('focus', handleResume);\n      window.addEventListener('blur', handlePause);\n      return function () {\n        window.removeEventListener('focus', handleResume);\n        window.removeEventListener('blur', handlePause);\n      };\n    }\n\n    return undefined;\n  }, [disableWindowBlurListener, handleResume, open]); // So we only render active snackbars.\n\n  if (!open && exited) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(ClickAwayListener, _extends({\n    onClickAway: handleClickAway\n  }, ClickAwayListenerProps), /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: clsx(classes.root, classes[\"anchorOrigin\".concat(capitalize(vertical)).concat(capitalize(horizontal))], className),\n    onMouseEnter: handleMouseEnter,\n    onMouseLeave: handleMouseLeave,\n    ref: ref\n  }, other), /*#__PURE__*/React.createElement(TransitionComponent, _extends({\n    appear: true,\n    in: open,\n    onEnter: createChainedFunction(handleEnter, onEnter),\n    onEntered: onEntered,\n    onEntering: onEntering,\n    onExit: onExit,\n    onExited: createChainedFunction(handleExited, onExited),\n    onExiting: onExiting,\n    timeout: transitionDuration,\n    direction: vertical === 'top' ? 'down' : 'up'\n  }, TransitionProps), children || /*#__PURE__*/React.createElement(SnackbarContent, _extends({\n    message: message,\n    action: action\n  }, ContentProps)))));\n});\nprocess.env.NODE_ENV !== \"production\" ? Snackbar.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The action to display. It renders after the message, at the end of the snackbar.\n   */\n  action: PropTypes.node,\n\n  /**\n   * The anchor of the `Snackbar`.\n   */\n  anchorOrigin: PropTypes.shape({\n    horizontal: PropTypes.oneOf(['center', 'left', 'right']).isRequired,\n    vertical: PropTypes.oneOf(['bottom', 'top']).isRequired\n  }),\n\n  /**\n   * The number of milliseconds to wait before automatically calling the\n   * `onClose` function. `onClose` should then set the state of the `open`\n   * prop to hide the Snackbar. This behavior is disabled by default with\n   * the `null` value.\n   */\n  autoHideDuration: PropTypes.number,\n\n  /**\n   * Replace the `SnackbarContent` component.\n   */\n  children: PropTypes.element,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * Props applied to the `ClickAwayListener` element.\n   */\n  ClickAwayListenerProps: PropTypes.object,\n\n  /**\n   * Props applied to the [`SnackbarContent`](/api/snackbar-content/) element.\n   */\n  ContentProps: PropTypes.object,\n\n  /**\n   * If `true`, the `autoHideDuration` timer will expire even if the window is not focused.\n   */\n  disableWindowBlurListener: PropTypes.bool,\n\n  /**\n   * When displaying multiple consecutive Snackbars from a parent rendering a single\n   * <Snackbar/>, add the key prop to ensure independent treatment of each message.\n   * e.g. <Snackbar key={message} />, otherwise, the message may update-in-place and\n   * features such as autoHideDuration may be canceled.\n   */\n  key: PropTypes.any,\n\n  /**\n   * The message to display.\n   */\n  message: PropTypes.node,\n\n  /**\n   * Callback fired when the component requests to be closed.\n   * Typically `onClose` is used to set state in the parent component,\n   * which is used to control the `Snackbar` `open` prop.\n   * The `reason` parameter can optionally be used to control the response to `onClose`,\n   * for example ignoring `clickaway`.\n   *\n   * @param {object} event The event source of the callback.\n   * @param {string} reason Can be: `\"timeout\"` (`autoHideDuration` expired), `\"clickaway\"`.\n   */\n  onClose: PropTypes.func,\n\n  /**\n   * Callback fired before the transition is entering.\n   * @deprecated Use the `TransitionProps` prop instead.\n   */\n  onEnter: deprecatedPropType(PropTypes.func, 'Use the `TransitionProps` prop instead.'),\n\n  /**\n   * Callback fired when the transition has entered.\n   * @deprecated Use the `TransitionProps` prop instead.\n   */\n  onEntered: deprecatedPropType(PropTypes.func, 'Use the `TransitionProps` prop instead.'),\n\n  /**\n   * Callback fired when the transition is entering.\n   * @deprecated Use the `TransitionProps` prop instead.\n   */\n  onEntering: deprecatedPropType(PropTypes.func, 'Use the `TransitionProps` prop instead.'),\n\n  /**\n   * Callback fired before the transition is exiting.\n   * @deprecated Use the `TransitionProps` prop instead.\n   */\n  onExit: deprecatedPropType(PropTypes.func, 'Use the `TransitionProps` prop instead.'),\n\n  /**\n   * Callback fired when the transition has exited.\n   * @deprecated Use the `TransitionProps` prop instead.\n   */\n  onExited: deprecatedPropType(PropTypes.func, 'Use the `TransitionProps` prop instead.'),\n\n  /**\n   * Callback fired when the transition is exiting.\n   * @deprecated Use the `TransitionProps` prop instead.\n   */\n  onExiting: deprecatedPropType(PropTypes.func, 'Use the `TransitionProps` prop instead.'),\n\n  /**\n   * @ignore\n   */\n  onMouseEnter: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onMouseLeave: PropTypes.func,\n\n  /**\n   * If `true`, `Snackbar` is open.\n   */\n  open: PropTypes.bool,\n\n  /**\n   * The number of milliseconds to wait before dismissing after user interaction.\n   * If `autoHideDuration` prop isn't specified, it does nothing.\n   * If `autoHideDuration` prop is specified but `resumeHideDuration` isn't,\n   * we default to `autoHideDuration / 2` ms.\n   */\n  resumeHideDuration: PropTypes.number,\n\n  /**\n   * The component used for the transition.\n   * [Follow this guide](/components/transitions/#transitioncomponent-prop) to learn more about the requirements for this component.\n   */\n  TransitionComponent: PropTypes.elementType,\n\n  /**\n   * The duration for the transition, in milliseconds.\n   * You may specify a single timeout for all transitions, or individually with an object.\n   */\n  transitionDuration: PropTypes.oneOfType([PropTypes.number, PropTypes.shape({\n    appear: PropTypes.number,\n    enter: PropTypes.number,\n    exit: PropTypes.number\n  })]),\n\n  /**\n   * Props applied to the [`Transition`](http://reactcommunity.org/react-transition-group/transition#Transition-props) element.\n   */\n  TransitionProps: PropTypes.object\n} : void 0;\nexport default withStyles(styles, {\n  flip: false,\n  name: 'MuiSnackbar'\n})(Snackbar);","import * as React from 'react';\n/**\n * @ignore - internal component.\n * @type {React.Context<{} | {expanded: boolean, disabled: boolean, toggle: () => void}>}\n */\n\nvar AccordionContext = React.createContext({});\n\nif (process.env.NODE_ENV !== 'production') {\n  AccordionContext.displayName = 'AccordionContext';\n}\n\nexport default AccordionContext;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _toArray from \"@babel/runtime/helpers/esm/toArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport { isFragment } from 'react-is';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { chainPropTypes } from '@material-ui/utils';\nimport Collapse from '../Collapse';\nimport Paper from '../Paper';\nimport withStyles from '../styles/withStyles';\nimport AccordionContext from './AccordionContext';\nimport useControlled from '../utils/useControlled';\nexport var styles = function styles(theme) {\n  var transition = {\n    duration: theme.transitions.duration.shortest\n  };\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      position: 'relative',\n      transition: theme.transitions.create(['margin'], transition),\n      '&:before': {\n        position: 'absolute',\n        left: 0,\n        top: -1,\n        right: 0,\n        height: 1,\n        content: '\"\"',\n        opacity: 1,\n        backgroundColor: theme.palette.divider,\n        transition: theme.transitions.create(['opacity', 'background-color'], transition)\n      },\n      '&:first-child': {\n        '&:before': {\n          display: 'none'\n        }\n      },\n      '&$expanded': {\n        margin: '16px 0',\n        '&:first-child': {\n          marginTop: 0\n        },\n        '&:last-child': {\n          marginBottom: 0\n        },\n        '&:before': {\n          opacity: 0\n        }\n      },\n      '&$expanded + &': {\n        '&:before': {\n          display: 'none'\n        }\n      },\n      '&$disabled': {\n        backgroundColor: theme.palette.action.disabledBackground\n      }\n    },\n\n    /* Styles applied to the root element if `square={false}`. */\n    rounded: {\n      borderRadius: 0,\n      '&:first-child': {\n        borderTopLeftRadius: theme.shape.borderRadius,\n        borderTopRightRadius: theme.shape.borderRadius\n      },\n      '&:last-child': {\n        borderBottomLeftRadius: theme.shape.borderRadius,\n        borderBottomRightRadius: theme.shape.borderRadius,\n        // Fix a rendering issue on Edge\n        '@supports (-ms-ime-align: auto)': {\n          borderBottomLeftRadius: 0,\n          borderBottomRightRadius: 0\n        }\n      }\n    },\n\n    /* Styles applied to the root element if `expanded={true}`. */\n    expanded: {},\n\n    /* Styles applied to the root element if `disabled={true}`. */\n    disabled: {}\n  };\n};\nvar Accordion = /*#__PURE__*/React.forwardRef(function Accordion(props, ref) {\n  var childrenProp = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$defaultExpande = props.defaultExpanded,\n      defaultExpanded = _props$defaultExpande === void 0 ? false : _props$defaultExpande,\n      _props$disabled = props.disabled,\n      disabled = _props$disabled === void 0 ? false : _props$disabled,\n      expandedProp = props.expanded,\n      onChange = props.onChange,\n      _props$square = props.square,\n      square = _props$square === void 0 ? false : _props$square,\n      _props$TransitionComp = props.TransitionComponent,\n      TransitionComponent = _props$TransitionComp === void 0 ? Collapse : _props$TransitionComp,\n      TransitionProps = props.TransitionProps,\n      other = _objectWithoutProperties(props, [\"children\", \"classes\", \"className\", \"defaultExpanded\", \"disabled\", \"expanded\", \"onChange\", \"square\", \"TransitionComponent\", \"TransitionProps\"]);\n\n  var _useControlled = useControlled({\n    controlled: expandedProp,\n    default: defaultExpanded,\n    name: 'Accordion',\n    state: 'expanded'\n  }),\n      _useControlled2 = _slicedToArray(_useControlled, 2),\n      expanded = _useControlled2[0],\n      setExpandedState = _useControlled2[1];\n\n  var handleChange = React.useCallback(function (event) {\n    setExpandedState(!expanded);\n\n    if (onChange) {\n      onChange(event, !expanded);\n    }\n  }, [expanded, onChange, setExpandedState]);\n\n  var _React$Children$toArr = React.Children.toArray(childrenProp),\n      _React$Children$toArr2 = _toArray(_React$Children$toArr),\n      summary = _React$Children$toArr2[0],\n      children = _React$Children$toArr2.slice(1);\n\n  var contextValue = React.useMemo(function () {\n    return {\n      expanded: expanded,\n      disabled: disabled,\n      toggle: handleChange\n    };\n  }, [expanded, disabled, handleChange]);\n  return /*#__PURE__*/React.createElement(Paper, _extends({\n    className: clsx(classes.root, className, expanded && classes.expanded, disabled && classes.disabled, !square && classes.rounded),\n    ref: ref,\n    square: square\n  }, other), /*#__PURE__*/React.createElement(AccordionContext.Provider, {\n    value: contextValue\n  }, summary), /*#__PURE__*/React.createElement(TransitionComponent, _extends({\n    in: expanded,\n    timeout: \"auto\"\n  }, TransitionProps), /*#__PURE__*/React.createElement(\"div\", {\n    \"aria-labelledby\": summary.props.id,\n    id: summary.props['aria-controls'],\n    role: \"region\"\n  }, children)));\n});\nprocess.env.NODE_ENV !== \"production\" ? Accordion.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the accordion.\n   */\n  children: chainPropTypes(PropTypes.node.isRequired, function (props) {\n    var summary = React.Children.toArray(props.children)[0];\n\n    if (isFragment(summary)) {\n      return new Error(\"Material-UI: The Accordion doesn't accept a Fragment as a child. \" + 'Consider providing an array instead.');\n    }\n\n    if (! /*#__PURE__*/React.isValidElement(summary)) {\n      return new Error('Material-UI: Expected the first child of Accordion to be a valid element.');\n    }\n\n    return null;\n  }),\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * If `true`, expands the accordion by default.\n   */\n  defaultExpanded: PropTypes.bool,\n\n  /**\n   * If `true`, the accordion will be displayed in a disabled state.\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * If `true`, expands the accordion, otherwise collapse it.\n   * Setting this prop enables control over the accordion.\n   */\n  expanded: PropTypes.bool,\n\n  /**\n   * Callback fired when the expand/collapse state is changed.\n   *\n   * @param {object} event The event source of the callback.\n   * @param {boolean} expanded The `expanded` state of the accordion.\n   */\n  onChange: PropTypes.func,\n\n  /**\n   * If `true`, rounded corners are disabled.\n   */\n  square: PropTypes.bool,\n\n  /**\n   * The component used for the collapse effect.\n   * [Follow this guide](/components/transitions/#transitioncomponent-prop) to learn more about the requirements for this component.\n   */\n  TransitionComponent: PropTypes.elementType,\n\n  /**\n   * Props applied to the [`Transition`](http://reactcommunity.org/react-transition-group/transition#Transition-props) element.\n   */\n  TransitionProps: PropTypes.object\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiAccordion'\n})(Accordion);","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _toArray(arr) {\n  return arrayWithHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableRest();\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\n\n/* eslint-disable jsx-a11y/aria-role */\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { chainPropTypes } from '@material-ui/utils';\nimport ButtonBase from '../ButtonBase';\nimport IconButton from '../IconButton';\nimport withStyles from '../styles/withStyles';\nimport AccordionContext from '../Accordion/AccordionContext';\nexport var styles = function styles(theme) {\n  var transition = {\n    duration: theme.transitions.duration.shortest\n  };\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      display: 'flex',\n      minHeight: 8 * 6,\n      transition: theme.transitions.create(['min-height', 'background-color'], transition),\n      padding: theme.spacing(0, 2),\n      '&:hover:not($disabled)': {\n        cursor: 'pointer'\n      },\n      '&$expanded': {\n        minHeight: 64\n      },\n      '&$focused, &$focusVisible': {\n        backgroundColor: theme.palette.action.focus\n      },\n      '&$disabled': {\n        opacity: theme.palette.action.disabledOpacity\n      }\n    },\n\n    /* Pseudo-class applied to the root element, children wrapper element and `IconButton` component if `expanded={true}`. */\n    expanded: {},\n\n    /* Pseudo-class applied to the ButtonBase root element if the button is keyboard focused. */\n    focused: {},\n\n    /* Pseudo-class applied to the ButtonBase root element if the button is keyboard focused. */\n    focusVisible: {},\n\n    /* Pseudo-class applied to the root element if `disabled={true}`. */\n    disabled: {},\n\n    /* Styles applied to the children wrapper element. */\n    content: {\n      display: 'flex',\n      flexGrow: 1,\n      transition: theme.transitions.create(['margin'], transition),\n      margin: '12px 0',\n      '&$expanded': {\n        margin: '20px 0'\n      }\n    },\n\n    /* Styles applied to the `IconButton` component when `expandIcon` is supplied. */\n    expandIcon: {\n      transform: 'rotate(0deg)',\n      transition: theme.transitions.create('transform', transition),\n      '&:hover': {\n        // Disable the hover effect for the IconButton,\n        // because a hover effect should apply to the entire Expand button and\n        // not only to the IconButton.\n        backgroundColor: 'transparent'\n      },\n      '&$expanded': {\n        transform: 'rotate(180deg)'\n      }\n    }\n  };\n};\nvar AccordionSummary = /*#__PURE__*/React.forwardRef(function AccordionSummary(props, ref) {\n  var children = props.children,\n      classes = props.classes,\n      className = props.className,\n      expandIcon = props.expandIcon,\n      focusVisibleClassName = props.focusVisibleClassName,\n      _props$IconButtonProp = props.IconButtonProps,\n      IconButtonProps = _props$IconButtonProp === void 0 ? {} : _props$IconButtonProp,\n      onClick = props.onClick,\n      other = _objectWithoutProperties(props, [\"children\", \"classes\", \"className\", \"expandIcon\", \"focusVisibleClassName\", \"IconButtonProps\", \"onClick\"]);\n\n  var _React$useContext = React.useContext(AccordionContext),\n      _React$useContext$dis = _React$useContext.disabled,\n      disabled = _React$useContext$dis === void 0 ? false : _React$useContext$dis,\n      expanded = _React$useContext.expanded,\n      toggle = _React$useContext.toggle;\n\n  var handleChange = function handleChange(event) {\n    if (toggle) {\n      toggle(event);\n    }\n\n    if (onClick) {\n      onClick(event);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(ButtonBase, _extends({\n    focusRipple: false,\n    disableRipple: true,\n    disabled: disabled,\n    component: \"div\",\n    \"aria-expanded\": expanded,\n    className: clsx(classes.root, className, disabled && classes.disabled, expanded && classes.expanded),\n    focusVisibleClassName: clsx(classes.focusVisible, classes.focused, focusVisibleClassName),\n    onClick: handleChange,\n    ref: ref\n  }, other), /*#__PURE__*/React.createElement(\"div\", {\n    className: clsx(classes.content, expanded && classes.expanded)\n  }, children), expandIcon && /*#__PURE__*/React.createElement(IconButton, _extends({\n    className: clsx(classes.expandIcon, expanded && classes.expanded),\n    edge: \"end\",\n    component: \"div\",\n    tabIndex: null,\n    role: null,\n    \"aria-hidden\": true\n  }, IconButtonProps), expandIcon));\n});\nprocess.env.NODE_ENV !== \"production\" ? AccordionSummary.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the accordion summary.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: chainPropTypes(PropTypes.object, function (props) {\n    // Guard against when generation of classes is disabled in the stylesheets (`disableGeneration`).\n    // For `disableGeneration` we don't have an accurate warning but `disableGeneration` is an advanced use case anyway.\n    if (props.classes.focused !== undefined && props.classes.focused.indexOf(' ') !== -1) {\n      return new Error(['Material-UI: The `classes.focused` key is deprecated.', 'Use `classes.focusVisible` instead.', 'The name of the pseudo-class was changed for consistency.'].join('\\n'));\n    }\n\n    return null;\n  }),\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The icon to display as the expand indicator.\n   */\n  expandIcon: PropTypes.node,\n\n  /**\n   * This prop can help identify which element has keyboard focus.\n   * The class name will be applied when the element gains the focus through keyboard interaction.\n   * It's a polyfill for the [CSS :focus-visible selector](https://drafts.csswg.org/selectors-4/#the-focus-visible-pseudo).\n   * The rationale for using this feature [is explained here](https://github.com/WICG/focus-visible/blob/master/explainer.md).\n   * A [polyfill can be used](https://github.com/WICG/focus-visible) to apply a `focus-visible` class to other components\n   * if needed.\n   */\n  focusVisibleClassName: PropTypes.string,\n\n  /**\n   * Props applied to the `IconButton` element wrapping the expand icon.\n   */\n  IconButtonProps: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  onClick: PropTypes.func\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiAccordionSummary'\n})(AccordionSummary);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      display: 'flex',\n      padding: theme.spacing(1, 2, 2)\n    }\n  };\n};\nvar AccordionDetails = /*#__PURE__*/React.forwardRef(function AccordionDetails(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\"]);\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: clsx(classes.root, className),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? AccordionDetails.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the accordion details.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiAccordionDetails'\n})(AccordionDetails);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport Typography from '@material-ui/core/Typography';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\n/**\n */\n\nexport var WorkspaceExport = /*#__PURE__*/function (_Component) {\n  _inherits(WorkspaceExport, _Component);\n\n  var _super = _createSuper(WorkspaceExport);\n\n  /** */\n  function WorkspaceExport(props) {\n    var _this;\n\n    _classCallCheck(this, WorkspaceExport);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      copied: false\n    };\n    _this.onCopy = _this.onCopy.bind(_assertThisInitialized(_this));\n    _this.handleClose = _this.handleClose.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /** Handle closing after the content is copied and the snackbar is done */\n\n\n  _createClass(WorkspaceExport, [{\n    key: \"handleClose\",\n    value: function handleClose() {\n      var handleClose = this.props.handleClose;\n      handleClose();\n    }\n    /** Show the snackbar */\n\n  }, {\n    key: \"onCopy\",\n    value: function onCopy() {\n      this.setState({\n        copied: true\n      });\n    }\n    /**\n     * @private\n     */\n\n  }, {\n    key: \"exportedState\",\n    value: function exportedState() {\n      var exportableState = this.props.exportableState;\n      return JSON.stringify(exportableState, null, 2);\n    }\n    /**\n     * render\n     * @return\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          children = _this$props.children,\n          classes = _this$props.classes,\n          container = _this$props.container,\n          open = _this$props.open,\n          t = _this$props.t;\n      var copied = this.state.copied;\n\n      if (copied) {\n        return /*#__PURE__*/React.createElement(Snackbar, {\n          anchorOrigin: {\n            horizontal: 'center',\n            vertical: 'top'\n          },\n          open: true,\n          autoHideDuration: 6000,\n          onClose: this.handleClose,\n          message: t('exportCopied'),\n          action: /*#__PURE__*/React.createElement(IconButton, {\n            size: \"small\",\n            \"aria-label\": t('dismiss'),\n            color: \"inherit\",\n            onClick: this.handleClose\n          }, /*#__PURE__*/React.createElement(CloseIcon, {\n            fontSize: \"small\"\n          }))\n        });\n      }\n\n      return /*#__PURE__*/React.createElement(Dialog, {\n        id: \"workspace-settings\",\n        container: container,\n        open: open,\n        onClose: this.handleClose,\n        scroll: \"paper\",\n        fullWidth: true,\n        maxWidth: \"sm\"\n      }, /*#__PURE__*/React.createElement(DialogTitle, {\n        id: \"form-dialog-title\",\n        disableTypography: true\n      }, /*#__PURE__*/React.createElement(Typography, {\n        variant: \"h2\"\n      }, t('downloadExport'))), /*#__PURE__*/React.createElement(DialogContent, null, /*#__PURE__*/React.createElement(Accordion, {\n        elevation: 0\n      }, /*#__PURE__*/React.createElement(AccordionSummary, {\n        classes: {\n          root: classes.accordionTitle\n        },\n        expandIcon: /*#__PURE__*/React.createElement(ExpandMoreIcon, null)\n      }, /*#__PURE__*/React.createElement(Typography, {\n        variant: \"h4\"\n      }, t('viewWorkspaceConfiguration'))), /*#__PURE__*/React.createElement(AccordionDetails, null, children, /*#__PURE__*/React.createElement(\"pre\", null, this.exportedState())))), /*#__PURE__*/React.createElement(DialogActions, null, /*#__PURE__*/React.createElement(Button, {\n        onClick: this.handleClose\n      }, t('cancel')), /*#__PURE__*/React.createElement(CopyToClipboard, {\n        onCopy: this.onCopy,\n        text: this.exportedState()\n      }, /*#__PURE__*/React.createElement(Button, {\n        variant: \"contained\",\n        color: \"primary\"\n      }, t('copy')))));\n    }\n  }]);\n\n  return WorkspaceExport;\n}(Component);\nWorkspaceExport.defaultProps = {\n  children: null,\n  classes: {},\n  container: null,\n  open: false,\n  t: function t(key) {\n    return key;\n  }\n};","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withStyles } from '@material-ui/core/styles';\nimport { withTranslation } from 'react-i18next';\nimport { withPlugins } from '../extend/withPlugins';\nimport { WorkspaceExport } from '../components/WorkspaceExport';\nimport { getExportableState } from '../state/selectors';\n/**\n * mapStateToProps - to hook up connect\n * @memberof Workspace\n * @private\n */\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    exportableState: getExportableState(state)\n  };\n};\n/**\n * Styles for the withStyles HOC\n */\n\n\nvar styles = function styles(theme) {\n  return {\n    accordionTitle: {\n      padding: 0\n    }\n  };\n};\n\nvar enhance = compose(withTranslation(), withStyles(styles), connect(mapStateToProps, {}), withPlugins('WorkspaceExport'));\nexport default enhance(WorkspaceExport);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { DialogActions, TextField, Typography } from '@material-ui/core';\nimport Button from '@material-ui/core/Button';\nimport ScrollIndicatedDialogContent from '../containers/ScrollIndicatedDialogContent';\n/**\n */\n\nexport var WorkspaceImport = /*#__PURE__*/function (_Component) {\n  _inherits(WorkspaceImport, _Component);\n\n  var _super = _createSuper(WorkspaceImport);\n\n  /**\n   *\n   * constructor\n   */\n  function WorkspaceImport(props) {\n    var _this;\n\n    _classCallCheck(this, WorkspaceImport);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      configImportValue: ''\n    };\n    _this.handleImportConfig = _this.handleImportConfig.bind(_assertThisInitialized(_this));\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /**\n   * @private\n   */\n\n\n  _createClass(WorkspaceImport, [{\n    key: \"handleChange\",\n    value: function handleChange(event) {\n      event.preventDefault();\n      this.setState({\n        configImportValue: event.target.value\n      });\n    }\n    /**\n     * @private\n     */\n\n  }, {\n    key: \"handleImportConfig\",\n    value: function handleImportConfig(event) {\n      var _this$props = this.props,\n          handleClose = _this$props.handleClose,\n          importConfig = _this$props.importConfig;\n      var configImportValue = this.state.configImportValue;\n\n      try {\n        var configJSON = JSON.parse(configImportValue);\n        importConfig(configJSON);\n        handleClose();\n      } catch (ex) {\n        var addError = this.props.addError;\n        addError(ex.toString());\n      }\n    }\n    /**\n     * render\n     * @return\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          classes = _this$props2.classes,\n          handleClose = _this$props2.handleClose,\n          open = _this$props2.open,\n          t = _this$props2.t;\n      return /*#__PURE__*/React.createElement(Dialog, {\n        \"aria-labelledby\": \"workspace-import-title\",\n        id: \"workspace-import\",\n        onEscapeKeyDown: handleClose,\n        onClose: handleClose,\n        open: open,\n        fullWidth: true,\n        maxWidth: \"sm\"\n      }, /*#__PURE__*/React.createElement(DialogTitle, {\n        id: \"workspace-import-title\",\n        disableTypography: true\n      }, /*#__PURE__*/React.createElement(Typography, {\n        variant: \"h2\"\n      }, t('importWorkspace'))), /*#__PURE__*/React.createElement(ScrollIndicatedDialogContent, null, /*#__PURE__*/React.createElement(TextField, {\n        className: classes.textField,\n        id: \"workspace-import-input\",\n        multiline: true,\n        onChange: this.handleChange,\n        rows: \"15\",\n        variant: \"filled\",\n        inputProps: {\n          autoFocus: 'autofocus',\n          className: classes.textInput\n        },\n        helperText: t('importWorkspaceHint')\n      })), /*#__PURE__*/React.createElement(DialogActions, null, /*#__PURE__*/React.createElement(Button, {\n        className: classes.cancelBtn,\n        onClick: handleClose\n      }, t('cancel')), /*#__PURE__*/React.createElement(Button, {\n        color: \"primary\",\n        onClick: this.handleImportConfig,\n        variant: \"contained\"\n      }, t('import'))));\n    }\n  }]);\n\n  return WorkspaceImport;\n}(Component);\nWorkspaceImport.defaultProps = {\n  classes: {},\n  open: false,\n  t: function t(key) {\n    return key;\n  }\n};","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles } from '@material-ui/core';\nimport { withPlugins } from '../extend/withPlugins';\nimport { WorkspaceImport } from '../components/WorkspaceImport';\nimport * as actions from '../state/actions';\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof App\n * @private\n */\n\nvar mapDispatchToProps = {\n  addError: actions.addError,\n  importConfig: actions.importMiradorState\n};\n/** */\n\nvar styles = function styles(theme) {\n  return {\n    cancelBtn: {\n      color: theme.palette.text.primary\n    },\n    textField: {\n      width: '100%'\n    },\n    textInput: {\n      fontFamily: 'monospace'\n    }\n  };\n};\n\nvar enhance = compose(withTranslation(), withStyles(styles), connect(null, mapDispatchToProps), withPlugins('WorkspaceImport'));\nexport default enhance(WorkspaceImport);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport ImportIcon from '@material-ui/icons/Input';\nimport SaveAltIcon from '@material-ui/icons/SaveAltSharp';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Typography from '@material-ui/core/Typography';\nimport WorkspaceExport from '../containers/WorkspaceExport';\nimport WorkspaceImport from '../containers/WorkspaceImport';\nimport { PluginHook } from './PluginHook';\nimport ns from '../config/css-ns';\n/**\n * WorkspaceOptionsMenu ~ the menu for workspace options such as import/export\n*/\n\nexport var WorkspaceOptionsMenu = /*#__PURE__*/function (_Component) {\n  _inherits(WorkspaceOptionsMenu, _Component);\n\n  var _super = _createSuper(WorkspaceOptionsMenu);\n\n  /**\n   * constructor -\n   */\n  function WorkspaceOptionsMenu(props) {\n    var _this;\n\n    _classCallCheck(this, WorkspaceOptionsMenu);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      exportWorkspace: {},\n      importWorkspace: {}\n    };\n    _this.handleMenuItemClick = _this.handleMenuItemClick.bind(_assertThisInitialized(_this));\n    _this.handleMenuItemClose = _this.handleMenuItemClose.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /**\n   * @private\n   */\n\n\n  _createClass(WorkspaceOptionsMenu, [{\n    key: \"handleMenuItemClick\",\n    value: function handleMenuItemClick(item) {\n      var obj = {};\n      obj[item] = {};\n      obj[item].open = true;\n      this.setState(obj);\n    }\n    /**\n     * @private\n     */\n\n  }, {\n    key: \"handleMenuItemClose\",\n    value: function handleMenuItemClose(item) {\n      var _this2 = this;\n\n      return function (event) {\n        var obj = {};\n        obj[item] = {};\n        obj[item].open = false;\n\n        _this2.setState(obj);\n      };\n    }\n    /**\n     * Returns the rendered component\n    */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$props = this.props,\n          anchorEl = _this$props.anchorEl,\n          containerId = _this$props.containerId,\n          handleClose = _this$props.handleClose,\n          t = _this$props.t;\n      var _this$state = this.state,\n          exportWorkspace = _this$state.exportWorkspace,\n          importWorkspace = _this$state.importWorkspace;\n      var container = document.querySelector(\"#\".concat(containerId, \" .\").concat(ns('viewer')));\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Menu, {\n        id: \"workspace-options-menu\",\n        container: container,\n        anchorEl: anchorEl,\n        anchorOrigin: {\n          horizontal: 'right',\n          vertical: 'top'\n        },\n        transformOrigin: {\n          horizontal: 'left',\n          vertical: 'top'\n        },\n        open: Boolean(anchorEl),\n        onClose: handleClose\n      }, /*#__PURE__*/React.createElement(MenuItem, {\n        \"aria-haspopup\": \"true\",\n        onClick: function onClick() {\n          _this3.handleMenuItemClick('exportWorkspace');\n\n          handleClose();\n        },\n        \"aria-owns\": exportWorkspace.open ? 'workspace-export' : undefined\n      }, /*#__PURE__*/React.createElement(ListItemIcon, null, /*#__PURE__*/React.createElement(SaveAltIcon, null)), /*#__PURE__*/React.createElement(Typography, {\n        variant: \"body1\"\n      }, t('downloadExportWorkspace'))), /*#__PURE__*/React.createElement(MenuItem, {\n        \"aria-haspopup\": \"true\",\n        id: \"workspace-menu-import\",\n        onClick: function onClick() {\n          _this3.handleMenuItemClick('importWorkspace');\n\n          handleClose();\n        },\n        \"aria-owns\": exportWorkspace.open ? 'workspace-import' : undefined\n      }, /*#__PURE__*/React.createElement(ListItemIcon, null, /*#__PURE__*/React.createElement(ImportIcon, null)), /*#__PURE__*/React.createElement(Typography, {\n        variant: \"body1\"\n      }, t('importWorkspace'))), /*#__PURE__*/React.createElement(PluginHook, this.props)), Boolean(exportWorkspace.open) && /*#__PURE__*/React.createElement(WorkspaceExport, {\n        open: Boolean(exportWorkspace.open),\n        container: container,\n        handleClose: this.handleMenuItemClose('exportWorkspace')\n      }), Boolean(importWorkspace.open) && /*#__PURE__*/React.createElement(WorkspaceImport, {\n        open: Boolean(importWorkspace.open),\n        container: container,\n        handleClose: this.handleMenuItemClose('importWorkspace')\n      }));\n    }\n  }]);\n\n  return WorkspaceOptionsMenu;\n}(Component);\nWorkspaceOptionsMenu.defaultProps = {\n  anchorEl: null\n};","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\nimport { getContainerId } from '../state/selectors';\nimport { WorkspaceOptionsMenu } from '../components/WorkspaceOptionsMenu';\n/** Used for connect */\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    containerId: getContainerId(state)\n  };\n}; // containerId: getContainerId(state),/\n\n\nvar enhance = compose(withTranslation(), connect(mapStateToProps, null));\nexport default enhance(WorkspaceOptionsMenu);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport classNames from 'classnames';\nimport MoreHorizontalIcon from '@material-ui/icons/MoreHorizSharp';\nimport MiradorMenuButton from '../containers/MiradorMenuButton';\nimport WorkspaceOptionsMenu from '../containers/WorkspaceOptionsMenu';\n/**\n * WorkspaceOptionsButton ~\n*/\n\nexport var WorkspaceOptionsButton = /*#__PURE__*/function (_Component) {\n  _inherits(WorkspaceOptionsButton, _Component);\n\n  var _super = _createSuper(WorkspaceOptionsButton);\n\n  /**\n   * constructor -\n   */\n  function WorkspaceOptionsButton(props) {\n    var _this;\n\n    _classCallCheck(this, WorkspaceOptionsButton);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      anchorEl: null\n    };\n    _this.handleMenuClick = _this.handleMenuClick.bind(_assertThisInitialized(_this));\n    _this.handleMenuClose = _this.handleMenuClose.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /**\n   * @private\n   */\n\n\n  _createClass(WorkspaceOptionsButton, [{\n    key: \"handleMenuClick\",\n    value: function handleMenuClick(event) {\n      this.setState({\n        anchorEl: event.currentTarget\n      });\n    }\n    /**\n     * @private\n     */\n\n  }, {\n    key: \"handleMenuClose\",\n    value: function handleMenuClose() {\n      this.setState({\n        anchorEl: null\n      });\n    }\n    /**\n     * Returns the rendered component\n    */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          t = _this$props.t;\n      var anchorEl = this.state.anchorEl;\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(MiradorMenuButton, {\n        \"aria-label\": t('workspaceOptions'),\n        className: classNames(classes.ctrlBtn, anchorEl ? classes.ctrlBtnSelected : null),\n        onClick: this.handleMenuClick\n      }, /*#__PURE__*/React.createElement(MoreHorizontalIcon, null)), /*#__PURE__*/React.createElement(WorkspaceOptionsMenu, {\n        anchorEl: anchorEl,\n        handleClose: this.handleMenuClose\n      }));\n    }\n  }]);\n\n  return WorkspaceOptionsButton;\n}(Component);","import { compose } from 'redux';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles } from '@material-ui/core/styles';\nimport { withPlugins } from '../extend/withPlugins';\nimport { WorkspaceOptionsButton } from '../components/WorkspaceOptionsButton';\n/**\n *\n * @param theme\n */\n\nvar styles = function styles(theme) {\n  return {\n    ctrlBtn: {\n      margin: theme.spacing(1)\n    },\n    ctrlBtnSelected: {\n      backgroundColor: theme.palette.action.selected\n    }\n  };\n};\n\nvar enhance = compose(withStyles(styles), withTranslation(), withPlugins('WorkspaceOptionsButton'));\nexport default enhance(WorkspaceOptionsButton);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport ns from '../config/css-ns';\n/**\n */\n\nexport var WindowList = /*#__PURE__*/function (_Component) {\n  _inherits(WindowList, _Component);\n\n  var _super = _createSuper(WindowList);\n\n  function WindowList() {\n    _classCallCheck(this, WindowList);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(WindowList, [{\n    key: \"titleContent\",\n    value:\n    /**\n     * Get the title for a window from its manifest title\n     * @private\n     */\n    function titleContent(windowId) {\n      var _this$props = this.props,\n          titles = _this$props.titles,\n          t = _this$props.t;\n      return titles[windowId] || t('untitled');\n    }\n    /**\n     * render\n     * @return\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      var _this$props2 = this.props,\n          containerId = _this$props2.containerId,\n          handleClose = _this$props2.handleClose,\n          anchorEl = _this$props2.anchorEl,\n          windowIds = _this$props2.windowIds,\n          focusWindow = _this$props2.focusWindow,\n          t = _this$props2.t;\n      return /*#__PURE__*/React.createElement(Menu, {\n        anchorOrigin: {\n          horizontal: 'right',\n          vertical: 'top'\n        },\n        transformOrigin: {\n          horizontal: 'left',\n          vertical: 'top'\n        },\n        id: \"window-list-menu\",\n        container: document.querySelector(\"#\".concat(containerId, \" .\").concat(ns('viewer'))),\n        disableAutoFocusItem: true,\n        anchorEl: anchorEl,\n        open: Boolean(anchorEl),\n        onClose: handleClose,\n        onEntering: WindowList.focus2ndListIitem\n      }, /*#__PURE__*/React.createElement(ListSubheader, {\n        role: \"presentation\",\n        selected: false,\n        disabled: true,\n        tabIndex: \"-1\"\n      }, t('openWindows')), windowIds.map(function (windowId, i) {\n        return /*#__PURE__*/React.createElement(MenuItem, {\n          key: windowId,\n          onClick: function onClick(e) {\n            focusWindow(windowId, true);\n            handleClose(e);\n          }\n        }, /*#__PURE__*/React.createElement(ListItemText, {\n          primaryTypographyProps: {\n            variant: 'body1'\n          }\n        }, _this.titleContent(windowId)));\n      }));\n    }\n  }], [{\n    key: \"focus2ndListIitem\",\n    value:\n    /**\n     * Given the menuElement passed in by the onEntering callback,\n     * find the 2nd ListItem element (avoiding the header) and focus it\n    */\n    function focus2ndListIitem(menuElement) {\n      if (!menuElement.querySelectorAll('li') || menuElement.querySelectorAll('li').length < 2) return;\n      menuElement.querySelectorAll('li')[1].focus(); // The 2nd LI\n    }\n  }]);\n\n  return WindowList;\n}(Component);\nWindowList.defaultProps = {\n  anchorEl: null,\n  t: function t(key) {\n    return key;\n  },\n  titles: {}\n};","import { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { withTranslation } from 'react-i18next';\nimport { withPlugins } from '../extend/withPlugins';\nimport * as actions from '../state/actions';\nimport { getContainerId, getWindowIds, getWindowTitles } from '../state/selectors';\nimport { WindowList } from '../components/WindowList';\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof ManifestListItem\n * @private\n */\n\nvar mapDispatchToProps = {\n  focusWindow: actions.focusWindow\n};\n/**\n * mapStateToProps - to hook up connect\n * @memberof WorkspaceControlPanel\n * @private\n */\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    containerId: getContainerId(state),\n    titles: getWindowTitles(state),\n    windowIds: getWindowIds(state)\n  };\n};\n\nvar enhance = compose(withTranslation(), connect(mapStateToProps, mapDispatchToProps), withPlugins('WindowList'));\nexport default enhance(WindowList);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport BookmarksIcon from '@material-ui/icons/BookmarksSharp';\nimport classNames from 'classnames';\nimport WindowList from '../containers/WindowList';\nimport MiradorMenuButton from '../containers/MiradorMenuButton';\n/**\n * WindowListButton ~\n*/\n\nexport var WindowListButton = /*#__PURE__*/function (_Component) {\n  _inherits(WindowListButton, _Component);\n\n  var _super = _createSuper(WindowListButton);\n\n  /** */\n  function WindowListButton(props) {\n    var _this;\n\n    _classCallCheck(this, WindowListButton);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      windowListAnchor: null\n    };\n    _this.handleClose = _this.handleClose.bind(_assertThisInitialized(_this));\n    _this.handleOpen = _this.handleOpen.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /** Set the windowListAnchor to null on window close */\n\n\n  _createClass(WindowListButton, [{\n    key: \"handleClose\",\n    value: function handleClose() {\n      this.setState({\n        windowListAnchor: null\n      });\n    }\n    /** Set the windowListAnchor to the event's current target  */\n\n  }, {\n    key: \"handleOpen\",\n    value: function handleOpen(event) {\n      this.setState({\n        windowListAnchor: event.currentTarget\n      });\n    }\n    /**\n     * Returns the rendered component\n    */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          disabled = _this$props.disabled,\n          t = _this$props.t,\n          windowCount = _this$props.windowCount;\n      var windowListAnchor = this.state.windowListAnchor;\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(MiradorMenuButton, {\n        \"aria-haspopup\": \"true\",\n        \"aria-label\": t('listAllOpenWindows'),\n        \"aria-owns\": windowListAnchor ? 'window-list' : null,\n        className: classNames(classes.ctrlBtn, windowListAnchor ? classes.ctrlBtnSelected : null),\n        disabled: disabled,\n        badge: true,\n        BadgeProps: {\n          badgeContent: windowCount,\n          classes: {\n            badge: classes.badge\n          }\n        },\n        onClick: function onClick(e) {\n          return _this2.handleOpen(e);\n        }\n      }, /*#__PURE__*/React.createElement(BookmarksIcon, null)), Boolean(windowListAnchor) && /*#__PURE__*/React.createElement(WindowList, {\n        anchorEl: windowListAnchor,\n        id: \"window-list\",\n        open: Boolean(windowListAnchor),\n        handleClose: this.handleClose\n      }));\n    }\n  }]);\n\n  return WindowListButton;\n}(Component);\nWindowListButton.defaultProps = {\n  classes: {},\n  disabled: false\n};","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles } from '@material-ui/core/styles';\nimport { withPlugins } from '../extend/withPlugins';\nimport { getWindowIds, getWorkspace } from '../state/selectors';\nimport { WindowListButton } from '../components/WindowListButton';\n/** */\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    disabled: getWorkspace(state).isWorkspaceAddVisible,\n    windowCount: getWindowIds(state).length\n  };\n};\n/**\n *\n * @param theme\n * @returns {{background: {background: string}}}\n */\n\n\nvar styles = function styles(theme) {\n  return {\n    badge: {\n      paddingLeft: 12\n    },\n    ctrlBtn: {\n      margin: theme.spacing(1)\n    },\n    ctrlBtnSelected: {\n      backgroundColor: theme.palette.action.selected\n    }\n  };\n};\n\nvar enhance = compose(withTranslation(), withStyles(styles), connect(mapStateToProps, null), withPlugins('WindowListButton'));\nexport default enhance(WindowListButton);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport FullScreenButton from '../containers/FullScreenButton';\nimport WorkspaceMenuButton from '../containers/WorkspaceMenuButton';\nimport WorkspaceOptionsButton from '../containers/WorkspaceOptionsButton';\nimport WindowListButton from '../containers/WindowListButton';\nimport { PluginHook } from './PluginHook';\n/**\n *\n */\n\nexport var WorkspaceControlPanelButtons = /*#__PURE__*/function (_Component) {\n  _inherits(WorkspaceControlPanelButtons, _Component);\n\n  var _super = _createSuper(WorkspaceControlPanelButtons);\n\n  function WorkspaceControlPanelButtons() {\n    _classCallCheck(this, WorkspaceControlPanelButtons);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(WorkspaceControlPanelButtons, [{\n    key: \"render\",\n    value:\n    /**\n     * render\n     *\n     * @return {type}  description\n     */\n    function render() {\n      var classes = this.props.classes;\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(WindowListButton, null), /*#__PURE__*/React.createElement(WorkspaceMenuButton, null), /*#__PURE__*/React.createElement(WorkspaceOptionsButton, null), /*#__PURE__*/React.createElement(FullScreenButton, {\n        className: classes.ctrlBtn\n      }), /*#__PURE__*/React.createElement(PluginHook, this.props));\n    }\n  }]);\n\n  return WorkspaceControlPanelButtons;\n}(Component);\nWorkspaceControlPanelButtons.defaultProps = {\n  classes: {}\n};","import { compose } from 'redux';\nimport { withStyles } from '@material-ui/core/styles';\nimport { withPlugins } from '../extend/withPlugins';\nimport { WorkspaceControlPanelButtons } from '../components/WorkspaceControlPanelButtons';\n/**\n *\n * @param theme\n * @returns {{ctrlBtn: {margin: (number|string)}}}\n */\n\nvar styles = function styles(theme) {\n  return {\n    ctrlBtn: {\n      margin: theme.spacing(1)\n    }\n  };\n};\n\nvar enhance = compose(withStyles(styles), withPlugins('WorkspaceControlPanelButtons'));\nexport default enhance(WorkspaceControlPanelButtons);","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\n/**\n * ThumbnailNavigationRightIcon ~\n*/\n\nexport default function MiradorIcon(props) {\n  return /*#__PURE__*/React.createElement(SvgIcon, Object.assign({\n    viewBox: \"0 0 60 55\"\n  }, props), /*#__PURE__*/React.createElement(\"rect\", {\n    width: \"18\",\n    height: \"55\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    width: \"18\",\n    height: \"55\",\n    transform: \"translate(42)\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    width: \"18\",\n    height: \"34\",\n    transform: \"translate(21)\"\n  }));\n}","var _excluded = [\"t\", \"variant\"];\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport MiradorIcon from './icons/MiradorIcon';\n/**\n * Display a branding icon\n */\n\nexport var Branding = /*#__PURE__*/function (_Component) {\n  _inherits(Branding, _Component);\n\n  var _super = _createSuper(Branding);\n\n  function Branding() {\n    _classCallCheck(this, Branding);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(Branding, [{\n    key: \"render\",\n    value:\n    /** */\n    function render() {\n      var _this$props = this.props,\n          t = _this$props.t,\n          variant = _this$props.variant,\n          ContainerProps = _objectWithoutProperties(_this$props, _excluded);\n\n      return /*#__PURE__*/React.createElement(\"div\", ContainerProps, variant === 'wide' && /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Typography, {\n        align: \"center\",\n        component: \"p\",\n        variant: \"h3\"\n      }, t('mirador'))), /*#__PURE__*/React.createElement(Typography, {\n        align: \"center\"\n      }, /*#__PURE__*/React.createElement(IconButton, {\n        component: \"a\",\n        href: \"https://projectmirador.org\",\n        target: \"_blank\",\n        rel: \"noopener\"\n      }, /*#__PURE__*/React.createElement(MiradorIcon, {\n        \"aria-label\": t('aboutMirador'),\n        titleAccess: t('aboutMirador'),\n        fontSize: \"large\"\n      }))));\n    }\n  }]);\n\n  return Branding;\n}(Component);\nBranding.defaultProps = {\n  t: function t(k) {\n    return k;\n  },\n  variant: 'default'\n};","import { withPlugins } from '../extend/withPlugins';\nimport { Branding } from '../components/Branding';\nexport default withPlugins('Branding')(Branding);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport classNames from 'classnames';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport WorkspaceAddButton from '../containers/WorkspaceAddButton';\nimport WorkspaceControlPanelButtons from '../containers/WorkspaceControlPanelButtons';\nimport Branding from '../containers/Branding';\nimport ns from '../config/css-ns';\n/**\n * Provides the panel responsible for controlling the entire workspace\n */\n\nexport var WorkspaceControlPanel = /*#__PURE__*/function (_Component) {\n  _inherits(WorkspaceControlPanel, _Component);\n\n  var _super = _createSuper(WorkspaceControlPanel);\n\n  function WorkspaceControlPanel() {\n    _classCallCheck(this, WorkspaceControlPanel);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(WorkspaceControlPanel, [{\n    key: \"render\",\n    value:\n    /**\n     * render\n     * @return {String} - HTML markup for the component\n     */\n    function render() {\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          t = _this$props.t,\n          variant = _this$props.variant;\n      return /*#__PURE__*/React.createElement(AppBar, {\n        className: classNames(classes.root, ns('workspace-control-panel'), variant === 'wide' ? classes.wide : null),\n        color: \"default\",\n        position: \"absolute\",\n        component: \"nav\",\n        \"aria-label\": t('workspaceNavigation')\n      }, /*#__PURE__*/React.createElement(Toolbar, {\n        disableGutters: true,\n        className: classes.toolbar\n      }, /*#__PURE__*/React.createElement(WorkspaceAddButton, null), /*#__PURE__*/React.createElement(\"div\", {\n        className: classes.workspaceButtons\n      }, /*#__PURE__*/React.createElement(WorkspaceControlPanelButtons, null))), /*#__PURE__*/React.createElement(Branding, {\n        className: classes.branding,\n        t: t,\n        variant: variant\n      }));\n    }\n  }]);\n\n  return WorkspaceControlPanel;\n}(Component);\nWorkspaceControlPanel.defaultProps = {\n  variant: 'default'\n};","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { compose } from 'redux';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles } from '@material-ui/core/styles';\nimport { withPlugins } from '../extend/withPlugins';\nimport { WorkspaceControlPanel } from '../components/WorkspaceControlPanel';\n/**\n *\n * @param theme\n * @returns {{ctrlBtn: {margin: (number|string)},\n * drawer: {overflowX: string, height: string}}}\n */\n\nvar styles = function styles(theme) {\n  var _branding;\n\n  return {\n    branding: (_branding = {\n      display: 'flex',\n      position: 'absolute'\n    }, _defineProperty(_branding, theme.breakpoints.up('xs'), {\n      display: 'none'\n    }), _defineProperty(_branding, theme.breakpoints.up('sm'), {\n      bottom: 0,\n      display: 'block',\n      \"float\": 'none',\n      right: 'auto',\n      width: '100%'\n    }), _defineProperty(_branding, \"right\", 0), _branding),\n    ctrlBtn: {\n      margin: theme.spacing(1)\n    },\n    drawer: {\n      overflowX: 'hidden'\n    },\n    root: _defineProperty({\n      height: 64\n    }, theme.breakpoints.up('sm'), {\n      height: '100%',\n      left: 0,\n      right: 'auto',\n      width: 64\n    }),\n    toolbar: _defineProperty({\n      display: 'flex',\n      justifyContent: 'space-between'\n    }, theme.breakpoints.up('sm'), {\n      flexDirection: 'column',\n      justifyContent: 'flex-start',\n      minHeight: 0\n    }),\n    wide: {\n      width: 'auto'\n    },\n    workspaceButtons: _defineProperty({}, theme.breakpoints.up('sm'), {\n      display: 'flex',\n      flexDirection: 'column'\n    })\n  };\n};\n\nvar enhance = compose(withTranslation(), withStyles(styles), withPlugins('WorkspaceControlPanel') // further HOC go here\n);\nexport default enhance(WorkspaceControlPanel);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { refType } from '@material-ui/utils';\nimport { useFormControl } from '../FormControl';\nimport withStyles from '../styles/withStyles';\nimport Typography from '../Typography';\nimport capitalize from '../utils/capitalize';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      display: 'inline-flex',\n      alignItems: 'center',\n      cursor: 'pointer',\n      // For correct alignment with the text.\n      verticalAlign: 'middle',\n      WebkitTapHighlightColor: 'transparent',\n      marginLeft: -11,\n      marginRight: 16,\n      // used for row presentation of radio/checkbox\n      '&$disabled': {\n        cursor: 'default'\n      }\n    },\n\n    /* Styles applied to the root element if `labelPlacement=\"start\"`. */\n    labelPlacementStart: {\n      flexDirection: 'row-reverse',\n      marginLeft: 16,\n      // used for row presentation of radio/checkbox\n      marginRight: -11\n    },\n\n    /* Styles applied to the root element if `labelPlacement=\"top\"`. */\n    labelPlacementTop: {\n      flexDirection: 'column-reverse',\n      marginLeft: 16\n    },\n\n    /* Styles applied to the root element if `labelPlacement=\"bottom\"`. */\n    labelPlacementBottom: {\n      flexDirection: 'column',\n      marginLeft: 16\n    },\n\n    /* Pseudo-class applied to the root element if `disabled={true}`. */\n    disabled: {},\n\n    /* Styles applied to the label's Typography component. */\n    label: {\n      '&$disabled': {\n        color: theme.palette.text.disabled\n      }\n    }\n  };\n};\n/**\n * Drop in replacement of the `Radio`, `Switch` and `Checkbox` component.\n * Use this component if you want to display an extra label.\n */\n\nvar FormControlLabel = /*#__PURE__*/React.forwardRef(function FormControlLabel(props, ref) {\n  var checked = props.checked,\n      classes = props.classes,\n      className = props.className,\n      control = props.control,\n      disabledProp = props.disabled,\n      inputRef = props.inputRef,\n      label = props.label,\n      _props$labelPlacement = props.labelPlacement,\n      labelPlacement = _props$labelPlacement === void 0 ? 'end' : _props$labelPlacement,\n      name = props.name,\n      onChange = props.onChange,\n      value = props.value,\n      other = _objectWithoutProperties(props, [\"checked\", \"classes\", \"className\", \"control\", \"disabled\", \"inputRef\", \"label\", \"labelPlacement\", \"name\", \"onChange\", \"value\"]);\n\n  var muiFormControl = useFormControl();\n  var disabled = disabledProp;\n\n  if (typeof disabled === 'undefined' && typeof control.props.disabled !== 'undefined') {\n    disabled = control.props.disabled;\n  }\n\n  if (typeof disabled === 'undefined' && muiFormControl) {\n    disabled = muiFormControl.disabled;\n  }\n\n  var controlProps = {\n    disabled: disabled\n  };\n  ['checked', 'name', 'onChange', 'value', 'inputRef'].forEach(function (key) {\n    if (typeof control.props[key] === 'undefined' && typeof props[key] !== 'undefined') {\n      controlProps[key] = props[key];\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"label\", _extends({\n    className: clsx(classes.root, className, labelPlacement !== 'end' && classes[\"labelPlacement\".concat(capitalize(labelPlacement))], disabled && classes.disabled),\n    ref: ref\n  }, other), /*#__PURE__*/React.cloneElement(control, controlProps), /*#__PURE__*/React.createElement(Typography, {\n    component: \"span\",\n    className: clsx(classes.label, disabled && classes.disabled)\n  }, label));\n});\nprocess.env.NODE_ENV !== \"production\" ? FormControlLabel.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * If `true`, the component appears selected.\n   */\n  checked: PropTypes.bool,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * A control element. For instance, it can be be a `Radio`, a `Switch` or a `Checkbox`.\n   */\n  control: PropTypes.element.isRequired,\n\n  /**\n   * If `true`, the control will be disabled.\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * Pass a ref to the `input` element.\n   */\n  inputRef: refType,\n\n  /**\n   * The text to be used in an enclosing label element.\n   */\n  label: PropTypes.node,\n\n  /**\n   * The position of the label.\n   */\n  labelPlacement: PropTypes.oneOf(['bottom', 'end', 'start', 'top']),\n\n  /**\n   * @ignore\n   */\n  name: PropTypes.string,\n\n  /**\n   * Callback fired when the state is changed.\n   *\n   * @param {object} event The event source of the callback.\n   * You can pull out the new checked state by accessing `event.target.checked` (boolean).\n   */\n  onChange: PropTypes.func,\n\n  /**\n   * The value of the component.\n   */\n  value: PropTypes.any\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiFormControlLabel'\n})(FormControlLabel);","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\n/**\n * ThumbnailNavigationBottomIcon ~\n*/\n\nexport default function ThumbnailNavigationBottomIcon(props) {\n  return /*#__PURE__*/React.createElement(SvgIcon, props, /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"24\",\n    height: \"24\",\n    viewBox: \"0 0 24 24\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M3,3H21V5H3Z\",\n    transform: \"translate(0 16)\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M21,5H3V19H21ZM19,17H5V7H19Z\",\n    transform: \"translate(0 -2)\"\n  })));\n}","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\n/**\n * ThumbnailNavigationRightIcon ~\n*/\n\nexport default function ThumbnailNavigationRightIcon(props) {\n  return /*#__PURE__*/React.createElement(SvgIcon, props, /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"24\",\n    height: \"24\",\n    viewBox: \"0 0 24 24\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0,0H24V24H0Z\",\n    transform: \"translate(24) rotate(90)\",\n    fill: \"none\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M3,3H21V5H3Z\",\n    transform: \"translate(24) rotate(90)\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19,3H5V21H19ZM17,19H7V5H17Z\",\n    transform: \"translate(-2)\"\n  })));\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ThumbnailsOffIcon from '@material-ui/icons/CropDinSharp';\nimport ThumbnailNavigationBottomIcon from './icons/ThumbnailNavigationBottomIcon';\nimport ThumbnailNavigationRightIcon from './icons/ThumbnailNavigationRightIcon';\n/**\n *\n */\n\nexport var WindowThumbnailSettings = /*#__PURE__*/function (_Component) {\n  _inherits(WindowThumbnailSettings, _Component);\n\n  var _super = _createSuper(WindowThumbnailSettings);\n\n  /**\n   * constructor -\n   */\n  function WindowThumbnailSettings(props) {\n    var _this;\n\n    _classCallCheck(this, WindowThumbnailSettings);\n\n    _this = _super.call(this, props);\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /**\n   * @private\n   */\n\n\n  _createClass(WindowThumbnailSettings, [{\n    key: \"handleChange\",\n    value: function handleChange(value) {\n      var _this$props = this.props,\n          windowId = _this$props.windowId,\n          setWindowThumbnailPosition = _this$props.setWindowThumbnailPosition;\n      setWindowThumbnailPosition(windowId, value);\n    }\n    /**\n     * render\n     *\n     * @return {type}  description\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props2 = this.props,\n          classes = _this$props2.classes,\n          handleClose = _this$props2.handleClose,\n          t = _this$props2.t,\n          thumbnailNavigationPosition = _this$props2.thumbnailNavigationPosition,\n          direction = _this$props2.direction;\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ListSubheader, {\n        role: \"presentation\",\n        disableSticky: true,\n        tabIndex: \"-1\"\n      }, t('thumbnails')), /*#__PURE__*/React.createElement(MenuItem, {\n        className: classes.MenuItem,\n        onClick: function onClick() {\n          _this2.handleChange('off');\n\n          handleClose();\n        }\n      }, /*#__PURE__*/React.createElement(FormControlLabel, {\n        value: \"off\",\n        classes: {\n          label: thumbnailNavigationPosition === 'off' ? classes.selectedLabel : classes.label\n        },\n        control: /*#__PURE__*/React.createElement(ThumbnailsOffIcon, {\n          color: thumbnailNavigationPosition === 'off' ? 'secondary' : undefined\n        }),\n        label: t('off'),\n        labelPlacement: \"bottom\"\n      })), /*#__PURE__*/React.createElement(MenuItem, {\n        className: classes.MenuItem,\n        onClick: function onClick() {\n          _this2.handleChange('far-bottom');\n\n          handleClose();\n        }\n      }, /*#__PURE__*/React.createElement(FormControlLabel, {\n        value: \"far-bottom\",\n        classes: {\n          label: thumbnailNavigationPosition === 'far-bottom' ? classes.selectedLabel : classes.label\n        },\n        control: /*#__PURE__*/React.createElement(ThumbnailNavigationBottomIcon, {\n          color: thumbnailNavigationPosition === 'far-bottom' ? 'secondary' : undefined\n        }),\n        label: t('bottom'),\n        labelPlacement: \"bottom\"\n      })), /*#__PURE__*/React.createElement(MenuItem, {\n        className: classes.MenuItem,\n        onClick: function onClick() {\n          _this2.handleChange('far-right');\n\n          handleClose();\n        }\n      }, /*#__PURE__*/React.createElement(FormControlLabel, {\n        value: \"far-right\",\n        classes: {\n          label: thumbnailNavigationPosition === 'far-right' ? classes.selectedLabel : classes.label\n        },\n        control: /*#__PURE__*/React.createElement(ThumbnailNavigationRightIcon, {\n          color: thumbnailNavigationPosition === 'far-right' ? 'secondary' : undefined,\n          style: direction === 'rtl' ? {\n            transform: 'rotate(180deg)'\n          } : {}\n        }),\n        label: t('right'),\n        labelPlacement: \"bottom\"\n      })));\n    }\n  }]);\n\n  return WindowThumbnailSettings;\n}(Component);\nWindowThumbnailSettings.defaultProps = {\n  handleClose: function handleClose() {},\n  t: function t(key) {\n    return key;\n  }\n};","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles } from '@material-ui/core/styles';\nimport { withPlugins } from '../extend/withPlugins';\nimport * as actions from '../state/actions';\nimport { getThumbnailNavigationPosition, getThemeDirection } from '../state/selectors';\nimport { WindowThumbnailSettings } from '../components/WindowThumbnailSettings';\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof ManifestListItem\n * @private\n */\n\nvar mapDispatchToProps = {\n  setWindowThumbnailPosition: actions.setWindowThumbnailPosition\n};\n/**\n * mapStateToProps - to hook up connect\n * @memberof WindowViewer\n * @private\n */\n\nvar mapStateToProps = function mapStateToProps(state, _ref) {\n  var windowId = _ref.windowId;\n  return {\n    direction: getThemeDirection(state),\n    thumbnailNavigationPosition: getThumbnailNavigationPosition(state, {\n      windowId: windowId\n    })\n  };\n};\n/** */\n\n\nvar styles = function styles(theme) {\n  return {\n    label: {\n      borderBottom: '2px solid transparent'\n    },\n    MenuItem: {\n      display: 'inline-block'\n    },\n    selectedLabel: {\n      borderBottom: \"2px solid \".concat(theme.palette.secondary.main),\n      color: theme.palette.secondary.main\n    }\n  };\n};\n\nvar enhance = compose(withStyles(styles), withTranslation(null, {\n  withRef: true\n}), connect(mapStateToProps, mapDispatchToProps, null, {\n  forwardRef: true\n}), withPlugins('WindowThumbnailSettings') // further HOC go here\n);\nexport default enhance(WindowThumbnailSettings);","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\n/**\n * BookViewIcon ~\n*/\n\nexport default function BookViewIcon(props) {\n  return /*#__PURE__*/React.createElement(SvgIcon, props, /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"24\",\n    height: \"24\",\n    viewBox: \"0 0 24 24\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M1,4V21H22.853V4.1ZM3,19V6h8V19Zm18,0H13V6h8ZM14,9.5h6V11H14ZM14,12h6v1.5H14Zm0,2.5h6V16H14Z\"\n  })));\n}","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\n/**\n * GalleryViewIcon ~\n */\n\nexport default function GalleryViewIcon(props) {\n  return /*#__PURE__*/React.createElement(SvgIcon, props, /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"24\",\n    height: \"24\",\n    viewBox: \"0 0 24 24\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19.974,2H2V19.974H19.974V2ZM7.392,18.177H3.8V14.582H7.392Zm0-5.392H3.8V9.19H7.392Zm0-5.392H3.8V3.8H7.392Zm5.392,10.785H9.19V14.582h3.595Zm0-5.392H9.19V9.19h3.595Zm0-5.392H9.19V3.8h3.595Zm5.392,10.785H14.582V14.582h3.595Zm0-5.392H14.582V9.19h3.595Zm0-5.392H14.582V3.8h3.595Z\",\n    transform: \"translate(1 1)\"\n  })));\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport SingleIcon from '@material-ui/icons/CropOriginalSharp';\nimport ScrollViewIcon from '@material-ui/icons/ViewColumn';\nimport BookViewIcon from './icons/BookViewIcon';\nimport GalleryViewIcon from './icons/GalleryViewIcon';\n/**\n *\n */\n\nexport var WindowViewSettings = /*#__PURE__*/function (_Component) {\n  _inherits(WindowViewSettings, _Component);\n\n  var _super = _createSuper(WindowViewSettings);\n\n  /**\n   * constructor -\n   */\n  function WindowViewSettings(props) {\n    var _this;\n\n    _classCallCheck(this, WindowViewSettings);\n\n    _this = _super.call(this, props);\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /**\n   * @private\n   */\n\n\n  _createClass(WindowViewSettings, [{\n    key: \"handleChange\",\n    value: function handleChange(value) {\n      var _this$props = this.props,\n          windowId = _this$props.windowId,\n          setWindowViewType = _this$props.setWindowViewType;\n      setWindowViewType(windowId, value);\n    }\n    /**\n     * render\n     *\n     * @return {type}  description\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props2 = this.props,\n          classes = _this$props2.classes,\n          handleClose = _this$props2.handleClose,\n          t = _this$props2.t,\n          windowViewType = _this$props2.windowViewType,\n          viewTypes = _this$props2.viewTypes;\n      var iconMap = {\n        book: BookViewIcon,\n        gallery: GalleryViewIcon,\n        scroll: ScrollViewIcon,\n        single: SingleIcon\n      };\n      /** Suspiciously similar to a component, yet if it is invoked through JSX\n          none of the click handlers work? */\n\n      var menuItem = function menuItem(_ref) {\n        var value = _ref.value,\n            Icon = _ref.Icon;\n        return /*#__PURE__*/React.createElement(MenuItem, {\n          key: value,\n          className: classes.MenuItem,\n          autoFocus: windowViewType === value,\n          onClick: function onClick() {\n            _this2.handleChange(value);\n\n            handleClose();\n          }\n        }, /*#__PURE__*/React.createElement(FormControlLabel, {\n          value: value,\n          classes: {\n            label: windowViewType === value ? classes.selectedLabel : classes.label\n          },\n          control: /*#__PURE__*/React.createElement(Icon, {\n            color: windowViewType === value ? 'secondary' : undefined\n          }),\n          label: t(value),\n          labelPlacement: \"bottom\"\n        }));\n      };\n\n      if (viewTypes.length === 0) return null;\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ListSubheader, {\n        role: \"presentation\",\n        disableSticky: true,\n        tabIndex: \"-1\"\n      }, t('view')), viewTypes.map(function (value) {\n        return menuItem({\n          Icon: iconMap[value],\n          value: value\n        });\n      }));\n    }\n  }]);\n\n  return WindowViewSettings;\n}(Component);\nWindowViewSettings.defaultProps = {\n  handleClose: function handleClose() {},\n  t: function t(key) {\n    return key;\n  },\n  viewTypes: []\n};","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles } from '@material-ui/core/styles';\nimport { withPlugins } from '../extend/withPlugins';\nimport * as actions from '../state/actions';\nimport { getAllowedWindowViewTypes, getWindowViewType } from '../state/selectors';\nimport { WindowViewSettings } from '../components/WindowViewSettings';\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof ManifestListItem\n * @private\n */\n\nvar mapDispatchToProps = {\n  setWindowViewType: actions.setWindowViewType\n};\n/**\n * mapStateToProps - to hook up connect\n * @memberof WindowViewer\n * @private\n */\n\nvar mapStateToProps = function mapStateToProps(state, _ref) {\n  var windowId = _ref.windowId;\n  return {\n    viewTypes: getAllowedWindowViewTypes(state, {\n      windowId: windowId\n    }),\n    windowViewType: getWindowViewType(state, {\n      windowId: windowId\n    })\n  };\n};\n/** */\n\n\nvar styles = function styles(theme) {\n  return {\n    label: {\n      borderBottom: '2px solid transparent'\n    },\n    MenuItem: {\n      display: 'inline-block'\n    },\n    selectedLabel: {\n      borderBottom: \"2px solid \".concat(theme.palette.secondary.main),\n      color: theme.palette.secondary.main\n    }\n  };\n};\n\nvar enhance = compose(withStyles(styles), withTranslation(null, {\n  withRef: true\n}), connect(mapStateToProps, mapDispatchToProps, null, {\n  forwardRef: true\n}), withPlugins('WindowViewSettings'));\nexport default enhance(WindowViewSettings);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport Menu from '@material-ui/core//Menu';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport WindowThumbnailSettings from '../containers/WindowThumbnailSettings';\nimport WindowViewSettings from '../containers/WindowViewSettings';\nimport { PluginHook } from './PluginHook';\nimport ns from '../config/css-ns';\n/** Renders plugins */\n\nfunction PluginHookWithHeader(props) {\n  var PluginComponents = props.PluginComponents,\n      t = props.t; // eslint-disable-line react/prop-types\n\n  return PluginComponents ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ListSubheader, {\n    role: \"presentation\",\n    disableSticky: true,\n    tabIndex: \"-1\"\n  }, t('windowPluginButtons')), /*#__PURE__*/React.createElement(PluginHook, props)) : null;\n}\n/**\n */\n\n\nexport var WindowTopMenu = /*#__PURE__*/function (_Component) {\n  _inherits(WindowTopMenu, _Component);\n\n  var _super = _createSuper(WindowTopMenu);\n\n  function WindowTopMenu() {\n    _classCallCheck(this, WindowTopMenu);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(WindowTopMenu, [{\n    key: \"render\",\n    value:\n    /**\n     * render\n     * @return\n     */\n    function render() {\n      var _this$props = this.props,\n          containerId = _this$props.containerId,\n          handleClose = _this$props.handleClose,\n          anchorEl = _this$props.anchorEl,\n          showThumbnailNavigationSettings = _this$props.showThumbnailNavigationSettings,\n          toggleDraggingEnabled = _this$props.toggleDraggingEnabled,\n          windowId = _this$props.windowId;\n      return /*#__PURE__*/React.createElement(Menu, {\n        id: \"window-menu_\".concat(windowId),\n        container: document.querySelector(\"#\".concat(containerId, \" .\").concat(ns('viewer'))),\n        anchorEl: anchorEl,\n        anchorOrigin: {\n          horizontal: 'right',\n          vertical: 'bottom'\n        },\n        transformOrigin: {\n          horizontal: 'right',\n          vertical: 'top'\n        },\n        getContentAnchorEl: null,\n        open: Boolean(anchorEl),\n        onClose: handleClose,\n        onEntering: toggleDraggingEnabled,\n        onExit: toggleDraggingEnabled,\n        orientation: \"horizontal\"\n      }, /*#__PURE__*/React.createElement(WindowViewSettings, {\n        windowId: windowId,\n        handleClose: handleClose\n      }), showThumbnailNavigationSettings && /*#__PURE__*/React.createElement(WindowThumbnailSettings, {\n        windowId: windowId,\n        handleClose: handleClose\n      }), /*#__PURE__*/React.createElement(PluginHookWithHeader, this.props));\n    }\n  }]);\n\n  return WindowTopMenu;\n}(Component);\nWindowTopMenu.defaultProps = {\n  anchorEl: null,\n  showThumbnailNavigationSettings: true\n};","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\nimport { withPlugins } from '../extend/withPlugins';\nimport * as actions from '../state/actions';\nimport { WindowTopMenu } from '../components/WindowTopMenu';\nimport { getConfig, getContainerId } from '../state/selectors';\n/**\n * mapStateToProps - to hook up connect\n * @memberof WindowTopMenu\n * @private\n */\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    containerId: getContainerId(state),\n    showThumbnailNavigationSettings: getConfig(state).thumbnailNavigation.displaySettings\n  };\n};\n/**\n * mapStateToProps - used to hook up connect to state\n * @memberof WindowTopMenu\n * @private\n */\n\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    toggleDraggingEnabled: function toggleDraggingEnabled() {\n      return dispatch(actions.toggleDraggingEnabled());\n    }\n  };\n};\n\nvar enhance = compose(withTranslation(), connect(mapStateToProps, mapDispatchToProps), withPlugins('WindowTopMenu'));\nexport default enhance(WindowTopMenu);","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\n/**\n * WindowMinIcon ~\n*/\n\nexport default function WindowOptionsIcon(props) {\n  return /*#__PURE__*/React.createElement(SvgIcon, props, /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"24\",\n    height: \"24\",\n    viewBox: \"0 0 24 24\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0,0H24V24H0Z\",\n    fill: \"none\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M24.852,17.981,3,18V15.945l21.852-.019Z\",\n    transform: \"translate(-2 5)\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M1,4V21H22.853V4.1ZM3,19V6h8V19Zm18,0H13V6h8Z\",\n    transform: \"translate(0 -2)\"\n  })));\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport WindowTopMenu from '../containers/WindowTopMenu';\nimport MiradorMenuButton from '../containers/MiradorMenuButton';\nimport WindowOptionsIcon from './icons/WindowOptionsIcon';\n/**\n */\n\nexport var WindowTopMenuButton = /*#__PURE__*/function (_Component) {\n  _inherits(WindowTopMenuButton, _Component);\n\n  var _super = _createSuper(WindowTopMenuButton);\n\n  /**\n   * constructor -\n   */\n  function WindowTopMenuButton(props) {\n    var _this;\n\n    _classCallCheck(this, WindowTopMenuButton);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      anchorEl: null\n    };\n    _this.handleMenuClick = _this.handleMenuClick.bind(_assertThisInitialized(_this));\n    _this.handleMenuClose = _this.handleMenuClose.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /**\n   * @private\n   */\n\n\n  _createClass(WindowTopMenuButton, [{\n    key: \"handleMenuClick\",\n    value: function handleMenuClick(event) {\n      this.setState({\n        anchorEl: event.currentTarget\n      });\n    }\n    /**\n     * @private\n     */\n\n  }, {\n    key: \"handleMenuClose\",\n    value: function handleMenuClose() {\n      this.setState({\n        anchorEl: null\n      });\n    }\n    /**\n     * render\n     * @return\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          t = _this$props.t,\n          windowId = _this$props.windowId;\n      var anchorEl = this.state.anchorEl;\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(MiradorMenuButton, {\n        \"aria-haspopup\": \"true\",\n        \"aria-label\": t('windowMenu'),\n        \"aria-owns\": anchorEl ? \"window-menu_\".concat(windowId) : undefined,\n        className: anchorEl ? classes.ctrlBtnSelected : null,\n        onClick: this.handleMenuClick\n      }, /*#__PURE__*/React.createElement(WindowOptionsIcon, null)), /*#__PURE__*/React.createElement(WindowTopMenu, {\n        windowId: windowId,\n        anchorEl: anchorEl,\n        handleClose: this.handleMenuClose\n      }));\n    }\n  }]);\n\n  return WindowTopMenuButton;\n}(Component);\nWindowTopMenuButton.defaultProps = {\n  t: function t(key) {\n    return key;\n  }\n};","import { compose } from 'redux';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles } from '@material-ui/core';\nimport { withPlugins } from '../extend/withPlugins';\nimport { WindowTopMenuButton } from '../components/WindowTopMenuButton';\n/**\n *\n * @param theme\n * @returns {{ctrlBtn: {margin: (number|string)}}}\n */\n\nvar styles = function styles(theme) {\n  return {\n    ctrlBtnSelected: {\n      backgroundColor: theme.palette.action.selected\n    }\n  };\n};\n\nvar enhance = compose(withTranslation(), withStyles(styles), withPlugins('WindowTopMenuButton'));\nexport default enhance(WindowTopMenuButton);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport { PluginHook } from './PluginHook';\n/**\n *\n */\n\nexport var WindowTopBarPluginArea = /*#__PURE__*/function (_Component) {\n  _inherits(WindowTopBarPluginArea, _Component);\n\n  var _super = _createSuper(WindowTopBarPluginArea);\n\n  function WindowTopBarPluginArea() {\n    _classCallCheck(this, WindowTopBarPluginArea);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(WindowTopBarPluginArea, [{\n    key: \"render\",\n    value:\n    /** */\n    function render() {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(PluginHook, this.props));\n    }\n  }]);\n\n  return WindowTopBarPluginArea;\n}(Component);","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles } from '@material-ui/core';\nimport { withPlugins } from '../extend/withPlugins';\nimport { WindowTopBarPluginArea } from '../components/WindowTopBarPluginArea';\n/**\n */\n\nvar styles = {};\nvar enhance = compose(withTranslation(), withStyles(styles), connect(null, null), withPlugins('WindowTopBarPluginArea'));\nexport default enhance(WindowTopBarPluginArea);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport MoreVertIcon from '@material-ui/icons/MoreVertSharp';\nimport Menu from '@material-ui/core/Menu';\nimport MiradorMenuButton from '../containers/MiradorMenuButton';\nimport { PluginHook } from './PluginHook';\nimport ns from '../config/css-ns';\n/**\n *\n */\n\nexport var WindowTopBarPluginMenu = /*#__PURE__*/function (_Component) {\n  _inherits(WindowTopBarPluginMenu, _Component);\n\n  var _super = _createSuper(WindowTopBarPluginMenu);\n\n  /**\n   * constructor -\n   */\n  function WindowTopBarPluginMenu(props) {\n    var _this;\n\n    _classCallCheck(this, WindowTopBarPluginMenu);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      anchorEl: null\n    };\n    _this.handleMenuClick = _this.handleMenuClick.bind(_assertThisInitialized(_this));\n    _this.handleMenuClose = _this.handleMenuClose.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /**\n   * Set the anchorEl state to the click target\n   */\n\n\n  _createClass(WindowTopBarPluginMenu, [{\n    key: \"handleMenuClick\",\n    value: function handleMenuClick(event) {\n      this.setState({\n        anchorEl: event.currentTarget\n      });\n    }\n    /**\n     * Set the anchorEl state to null (closing the menu)\n     */\n\n  }, {\n    key: \"handleMenuClose\",\n    value: function handleMenuClose() {\n      this.setState({\n        anchorEl: null\n      });\n    }\n    /**\n     * render component\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          containerId = _this$props.containerId,\n          PluginComponents = _this$props.PluginComponents,\n          t = _this$props.t,\n          windowId = _this$props.windowId,\n          menuIcon = _this$props.menuIcon;\n      var anchorEl = this.state.anchorEl;\n      if (!PluginComponents || PluginComponents.length === 0) return /*#__PURE__*/React.createElement(React.Fragment, null);\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(MiradorMenuButton, {\n        \"aria-haspopup\": \"true\",\n        \"aria-label\": t('windowPluginMenu'),\n        \"aria-owns\": anchorEl ? \"window-plugin-menu_\".concat(windowId) : undefined,\n        className: anchorEl ? classes.ctrlBtnSelected : null,\n        onClick: this.handleMenuClick\n      }, menuIcon), /*#__PURE__*/React.createElement(Menu, {\n        id: \"window-plugin-menu_\".concat(windowId),\n        container: document.querySelector(\"#\".concat(containerId, \" .\").concat(ns('viewer'))),\n        anchorEl: anchorEl,\n        anchorOrigin: {\n          horizontal: 'right',\n          vertical: 'bottom'\n        },\n        transformOrigin: {\n          horizontal: 'right',\n          vertical: 'top'\n        },\n        getContentAnchorEl: null,\n        open: Boolean(anchorEl),\n        onClose: function onClose() {\n          return _this2.handleMenuClose();\n        }\n      }, /*#__PURE__*/React.createElement(PluginHook, Object.assign({\n        handleClose: function handleClose() {\n          return _this2.handleMenuClose();\n        }\n      }, this.props))));\n    }\n  }]);\n\n  return WindowTopBarPluginMenu;\n}(Component);\nWindowTopBarPluginMenu.defaultProps = {\n  classes: {},\n  menuIcon: /*#__PURE__*/React.createElement(MoreVertIcon, null),\n  PluginComponents: []\n};","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles } from '@material-ui/core';\nimport { withPlugins } from '../extend/withPlugins';\nimport { WindowTopBarPluginMenu } from '../components/WindowTopBarPluginMenu';\nimport { getContainerId } from '../state/selectors';\n/**\n * mapStateToProps - to hook up connect\n * @memberof WindowTopBarPluginMenu\n * @private\n */\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    containerId: getContainerId(state)\n  };\n};\n/**\n *\n * @param theme\n * @returns {{ctrlBtn: {margin: (number|string)}}}\n */\n\n\nvar styles = function styles(theme) {\n  return {\n    ctrlBtnSelected: {\n      backgroundColor: theme.palette.action.selected\n    }\n  };\n};\n\nvar enhance = compose(withTranslation(), withStyles(styles), connect(mapStateToProps, null), withPlugins('WindowTopBarPluginMenu'));\nexport default enhance(WindowTopBarPluginMenu);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport ErrorIcon from '@material-ui/icons/ErrorOutlineSharp';\n/**\n * WindowTopBarTitle\n */\n\nexport var WindowTopBarTitle = /*#__PURE__*/function (_Component) {\n  _inherits(WindowTopBarTitle, _Component);\n\n  var _super = _createSuper(WindowTopBarTitle);\n\n  function WindowTopBarTitle() {\n    _classCallCheck(this, WindowTopBarTitle);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(WindowTopBarTitle, [{\n    key: \"render\",\n    value:\n    /**\n     * render\n     * @return\n     */\n    function render() {\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          error = _this$props.error,\n          hideWindowTitle = _this$props.hideWindowTitle,\n          isFetching = _this$props.isFetching,\n          manifestTitle = _this$props.manifestTitle;\n      /** */\n\n      var TitleTypography = function TitleTypography(props) {\n        return /*#__PURE__*/React.createElement(Typography, Object.assign({\n          variant: \"h2\",\n          noWrap: true,\n          color: \"inherit\",\n          className: classes.title\n        }, props), props.children);\n      };\n\n      var title = null;\n\n      if (isFetching) {\n        title = /*#__PURE__*/React.createElement(TitleTypography, null, /*#__PURE__*/React.createElement(Skeleton, {\n          variant: \"text\"\n        }));\n      } else if (error) {\n        title = /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ErrorIcon, {\n          color: \"error\"\n        }), /*#__PURE__*/React.createElement(TitleTypography, {\n          color: \"textSecondary\"\n        }, error));\n      } else if (hideWindowTitle) {\n        title = /*#__PURE__*/React.createElement(\"div\", {\n          className: classes.title\n        });\n      } else {\n        title = /*#__PURE__*/React.createElement(TitleTypography, null, manifestTitle);\n      }\n\n      return title;\n    }\n  }]);\n\n  return WindowTopBarTitle;\n}(Component);\nWindowTopBarTitle.defaultProps = {\n  error: null,\n  hideWindowTitle: false,\n  isFetching: false,\n  manifestTitle: ''\n};","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles } from '@material-ui/core';\nimport { withPlugins } from '../extend/withPlugins';\nimport { getManifestStatus, getManifestTitle, getWindowConfig } from '../state/selectors';\nimport { WindowTopBarTitle } from '../components/WindowTopBarTitle';\n/** mapStateToProps */\n\nvar mapStateToProps = function mapStateToProps(state, _ref) {\n  var windowId = _ref.windowId;\n  return {\n    error: getManifestStatus(state, {\n      windowId: windowId\n    }).error,\n    hideWindowTitle: getWindowConfig(state, {\n      windowId: windowId\n    }).hideWindowTitle,\n    isFetching: getManifestStatus(state, {\n      windowId: windowId\n    }).isFetching,\n    manifestTitle: getManifestTitle(state, {\n      windowId: windowId\n    })\n  };\n};\n/**\n * @param theme\n */\n\n\nvar styles = function styles(theme) {\n  return {\n    title: _objectSpread(_objectSpread({}, theme.typography.h6), {}, {\n      flexGrow: 1,\n      paddingLeft: theme.spacing(0.5)\n    })\n  };\n};\n\nvar enhance = compose(withTranslation(), withStyles(styles), connect(mapStateToProps, null), withPlugins('WindowTopBarTitle'));\nexport default enhance(WindowTopBarTitle);","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\n/**\n * WindowMaxIcon ~\n*/\n\nexport default function WindowMaxIcon(props) {\n  return /*#__PURE__*/React.createElement(SvgIcon, props, /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"24\",\n    height: \"24\",\n    viewBox: \"0 0 24 24\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M7,14H5v5h5V17H7Zm7-9V7h3v3h2V5Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M22.517,1.524H1.736V22.37H22.517Zm-2,18.845H3.736V3.524H20.517Z\"\n  })));\n}","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\n/**\n * WindowMinIcon ~\n*/\n\nexport default function WindowMinIcon(props) {\n  return /*#__PURE__*/React.createElement(SvgIcon, props, /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"24\",\n    height: \"24\",\n    viewBox: \"0 0 24 24\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M5,16H8v3h2V14H5ZM16,8V5H14v5h5V8Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M22.517,1.524H1.736V22.37H22.517Zm-2,18.845H3.736V3.524H20.517Z\"\n  })));\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport MenuIcon from '@material-ui/icons/MenuSharp';\nimport CloseIcon from '@material-ui/icons/CloseSharp';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport AppBar from '@material-ui/core/AppBar';\nimport classNames from 'classnames';\nimport WindowTopMenuButton from '../containers/WindowTopMenuButton';\nimport WindowTopBarPluginArea from '../containers/WindowTopBarPluginArea';\nimport WindowTopBarPluginMenu from '../containers/WindowTopBarPluginMenu';\nimport WindowTopBarTitle from '../containers/WindowTopBarTitle';\nimport MiradorMenuButton from '../containers/MiradorMenuButton';\nimport FullScreenButton from '../containers/FullScreenButton';\nimport WindowMaxIcon from './icons/WindowMaxIcon';\nimport WindowMinIcon from './icons/WindowMinIcon';\nimport ns from '../config/css-ns';\n/**\n * WindowTopBar\n */\n\nexport var WindowTopBar = /*#__PURE__*/function (_Component) {\n  _inherits(WindowTopBar, _Component);\n\n  var _super = _createSuper(WindowTopBar);\n\n  function WindowTopBar() {\n    _classCallCheck(this, WindowTopBar);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(WindowTopBar, [{\n    key: \"render\",\n    value:\n    /**\n     * render\n     * @return\n     */\n    function render() {\n      var _this$props = this.props,\n          removeWindow = _this$props.removeWindow,\n          windowId = _this$props.windowId,\n          classes = _this$props.classes,\n          toggleWindowSideBar = _this$props.toggleWindowSideBar,\n          t = _this$props.t,\n          windowDraggable = _this$props.windowDraggable,\n          maximizeWindow = _this$props.maximizeWindow,\n          maximized = _this$props.maximized,\n          minimizeWindow = _this$props.minimizeWindow,\n          focused = _this$props.focused,\n          allowClose = _this$props.allowClose,\n          allowMaximize = _this$props.allowMaximize,\n          focusWindow = _this$props.focusWindow,\n          allowFullscreen = _this$props.allowFullscreen,\n          allowTopMenuButton = _this$props.allowTopMenuButton,\n          allowWindowSideBar = _this$props.allowWindowSideBar;\n      return /*#__PURE__*/React.createElement(AppBar, {\n        position: \"relative\",\n        color: \"default\"\n      }, /*#__PURE__*/React.createElement(\"nav\", {\n        \"aria-label\": t('windowNavigation')\n      }, /*#__PURE__*/React.createElement(Toolbar, {\n        disableGutters: true,\n        onMouseDown: focusWindow,\n        className: classNames(classes.windowTopBarStyle, windowDraggable ? classes.windowTopBarStyleDraggable : null, focused ? classes.focused : null, ns('window-top-bar')),\n        variant: \"dense\"\n      }, allowWindowSideBar && /*#__PURE__*/React.createElement(MiradorMenuButton, {\n        \"aria-label\": t('toggleWindowSideBar'),\n        onClick: toggleWindowSideBar\n      }, /*#__PURE__*/React.createElement(MenuIcon, null)), /*#__PURE__*/React.createElement(WindowTopBarTitle, {\n        windowId: windowId\n      }), allowTopMenuButton && /*#__PURE__*/React.createElement(WindowTopMenuButton, {\n        className: ns('window-menu-btn'),\n        windowId: windowId\n      }), /*#__PURE__*/React.createElement(WindowTopBarPluginArea, {\n        windowId: windowId\n      }), /*#__PURE__*/React.createElement(WindowTopBarPluginMenu, {\n        windowId: windowId\n      }), allowMaximize && /*#__PURE__*/React.createElement(MiradorMenuButton, {\n        \"aria-label\": maximized ? t('minimizeWindow') : t('maximizeWindow'),\n        className: ns('window-maximize'),\n        onClick: maximized ? minimizeWindow : maximizeWindow\n      }, maximized ? /*#__PURE__*/React.createElement(WindowMinIcon, null) : /*#__PURE__*/React.createElement(WindowMaxIcon, null)), allowFullscreen && /*#__PURE__*/React.createElement(FullScreenButton, null), allowClose && /*#__PURE__*/React.createElement(MiradorMenuButton, {\n        \"aria-label\": t('closeWindow'),\n        className: ns('window-close'),\n        onClick: removeWindow\n      }, /*#__PURE__*/React.createElement(CloseIcon, null)))));\n    }\n  }]);\n\n  return WindowTopBar;\n}(Component);\nWindowTopBar.defaultProps = {\n  allowClose: true,\n  allowFullscreen: false,\n  allowMaximize: true,\n  allowTopMenuButton: true,\n  allowWindowSideBar: true,\n  focused: false,\n  focusWindow: function focusWindow() {},\n  maximized: false,\n  maximizeWindow: function maximizeWindow() {},\n  minimizeWindow: function minimizeWindow() {},\n  t: function t(key) {\n    return key;\n  },\n  windowDraggable: true\n};","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles } from '@material-ui/core';\nimport { withPlugins } from '../extend/withPlugins';\nimport * as actions from '../state/actions';\nimport { getWindowConfig, isFocused } from '../state/selectors';\nimport { WindowTopBar } from '../components/WindowTopBar';\n/** mapStateToProps */\n\nvar mapStateToProps = function mapStateToProps(state, _ref) {\n  var windowId = _ref.windowId;\n  var config = getWindowConfig(state, {\n    windowId: windowId\n  });\n  return {\n    allowClose: config.allowClose,\n    allowFullscreen: config.allowFullscreen,\n    allowMaximize: config.allowMaximize,\n    allowTopMenuButton: config.allowTopMenuButton,\n    allowWindowSideBar: config.allowWindowSideBar,\n    focused: isFocused(state, {\n      windowId: windowId\n    }),\n    maximized: config.maximized\n  };\n};\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof ManifestListItem\n * @private\n */\n\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch, _ref2) {\n  var windowId = _ref2.windowId;\n  return {\n    focusWindow: function focusWindow() {\n      return dispatch(actions.focusWindow(windowId));\n    },\n    maximizeWindow: function maximizeWindow() {\n      return dispatch(actions.maximizeWindow(windowId));\n    },\n    minimizeWindow: function minimizeWindow() {\n      return dispatch(actions.minimizeWindow(windowId));\n    },\n    removeWindow: function removeWindow() {\n      return dispatch(actions.removeWindow(windowId));\n    },\n    toggleWindowSideBar: function toggleWindowSideBar() {\n      return dispatch(actions.toggleWindowSideBar(windowId));\n    }\n  };\n};\n/**\n * @param theme\n * @returns {{typographyBody: {flexGrow: number, fontSize: number|string},\n * windowTopBarStyle: {minHeight: number, paddingLeft: number, backgroundColor: string}}}\n */\n\n\nvar styles = function styles(theme) {\n  return {\n    focused: {},\n    windowTopBarStyle: {\n      '&$focused': {\n        borderTop: \"2px solid \".concat(theme.palette.primary.main)\n      },\n      backgroundColor: theme.palette.shades.main,\n      borderTop: '2px solid transparent',\n      minHeight: 32,\n      paddingLeft: theme.spacing(0.5),\n      paddingRight: theme.spacing(0.5)\n    },\n    windowTopBarStyleDraggable: {\n      cursor: 'move'\n    }\n  };\n};\n\nvar enhance = compose(withTranslation(), withStyles(styles), connect(mapStateToProps, mapDispatchToProps), withPlugins('WindowTopBar'));\nexport default enhance(WindowTopBar);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport * as ReactDOM from 'react-dom';\nimport debounce from '../utils/debounce';\nimport { Transition } from 'react-transition-group';\nimport { elementAcceptingRef } from '@material-ui/utils';\nimport useForkRef from '../utils/useForkRef';\nimport useTheme from '../styles/useTheme';\nimport { duration } from '../styles/transitions';\nimport { reflow, getTransitionProps } from '../transitions/utils'; // Translate the node so he can't be seen on the screen.\n// Later, we gonna translate back the node to his original location\n// with `none`.`\n\nfunction getTranslateValue(direction, node) {\n  var rect = node.getBoundingClientRect();\n  var transform;\n\n  if (node.fakeTransform) {\n    transform = node.fakeTransform;\n  } else {\n    var computedStyle = window.getComputedStyle(node);\n    transform = computedStyle.getPropertyValue('-webkit-transform') || computedStyle.getPropertyValue('transform');\n  }\n\n  var offsetX = 0;\n  var offsetY = 0;\n\n  if (transform && transform !== 'none' && typeof transform === 'string') {\n    var transformValues = transform.split('(')[1].split(')')[0].split(',');\n    offsetX = parseInt(transformValues[4], 10);\n    offsetY = parseInt(transformValues[5], 10);\n  }\n\n  if (direction === 'left') {\n    return \"translateX(\".concat(window.innerWidth, \"px) translateX(\").concat(offsetX - rect.left, \"px)\");\n  }\n\n  if (direction === 'right') {\n    return \"translateX(-\".concat(rect.left + rect.width - offsetX, \"px)\");\n  }\n\n  if (direction === 'up') {\n    return \"translateY(\".concat(window.innerHeight, \"px) translateY(\").concat(offsetY - rect.top, \"px)\");\n  } // direction === 'down'\n\n\n  return \"translateY(-\".concat(rect.top + rect.height - offsetY, \"px)\");\n}\n\nexport function setTranslateValue(direction, node) {\n  var transform = getTranslateValue(direction, node);\n\n  if (transform) {\n    node.style.webkitTransform = transform;\n    node.style.transform = transform;\n  }\n}\nvar defaultTimeout = {\n  enter: duration.enteringScreen,\n  exit: duration.leavingScreen\n};\n/**\n * The Slide transition is used by the [Drawer](/components/drawers/) component.\n * It uses [react-transition-group](https://github.com/reactjs/react-transition-group) internally.\n */\n\nvar Slide = /*#__PURE__*/React.forwardRef(function Slide(props, ref) {\n  var children = props.children,\n      _props$direction = props.direction,\n      direction = _props$direction === void 0 ? 'down' : _props$direction,\n      inProp = props.in,\n      onEnter = props.onEnter,\n      onEntered = props.onEntered,\n      onEntering = props.onEntering,\n      onExit = props.onExit,\n      onExited = props.onExited,\n      onExiting = props.onExiting,\n      style = props.style,\n      _props$timeout = props.timeout,\n      timeout = _props$timeout === void 0 ? defaultTimeout : _props$timeout,\n      _props$TransitionComp = props.TransitionComponent,\n      TransitionComponent = _props$TransitionComp === void 0 ? Transition : _props$TransitionComp,\n      other = _objectWithoutProperties(props, [\"children\", \"direction\", \"in\", \"onEnter\", \"onEntered\", \"onEntering\", \"onExit\", \"onExited\", \"onExiting\", \"style\", \"timeout\", \"TransitionComponent\"]);\n\n  var theme = useTheme();\n  var childrenRef = React.useRef(null);\n  /**\n   * used in cloneElement(children, { ref: handleRef })\n   */\n\n  var handleOwnRef = React.useCallback(function (instance) {\n    // #StrictMode ready\n    childrenRef.current = ReactDOM.findDOMNode(instance);\n  }, []);\n  var handleRefIntermediary = useForkRef(children.ref, handleOwnRef);\n  var handleRef = useForkRef(handleRefIntermediary, ref);\n\n  var normalizedTransitionCallback = function normalizedTransitionCallback(callback) {\n    return function (isAppearing) {\n      if (callback) {\n        // onEnterXxx and onExitXxx callbacks have a different arguments.length value.\n        if (isAppearing === undefined) {\n          callback(childrenRef.current);\n        } else {\n          callback(childrenRef.current, isAppearing);\n        }\n      }\n    };\n  };\n\n  var handleEnter = normalizedTransitionCallback(function (node, isAppearing) {\n    setTranslateValue(direction, node);\n    reflow(node);\n\n    if (onEnter) {\n      onEnter(node, isAppearing);\n    }\n  });\n  var handleEntering = normalizedTransitionCallback(function (node, isAppearing) {\n    var transitionProps = getTransitionProps({\n      timeout: timeout,\n      style: style\n    }, {\n      mode: 'enter'\n    });\n    node.style.webkitTransition = theme.transitions.create('-webkit-transform', _extends({}, transitionProps, {\n      easing: theme.transitions.easing.easeOut\n    }));\n    node.style.transition = theme.transitions.create('transform', _extends({}, transitionProps, {\n      easing: theme.transitions.easing.easeOut\n    }));\n    node.style.webkitTransform = 'none';\n    node.style.transform = 'none';\n\n    if (onEntering) {\n      onEntering(node, isAppearing);\n    }\n  });\n  var handleEntered = normalizedTransitionCallback(onEntered);\n  var handleExiting = normalizedTransitionCallback(onExiting);\n  var handleExit = normalizedTransitionCallback(function (node) {\n    var transitionProps = getTransitionProps({\n      timeout: timeout,\n      style: style\n    }, {\n      mode: 'exit'\n    });\n    node.style.webkitTransition = theme.transitions.create('-webkit-transform', _extends({}, transitionProps, {\n      easing: theme.transitions.easing.sharp\n    }));\n    node.style.transition = theme.transitions.create('transform', _extends({}, transitionProps, {\n      easing: theme.transitions.easing.sharp\n    }));\n    setTranslateValue(direction, node);\n\n    if (onExit) {\n      onExit(node);\n    }\n  });\n  var handleExited = normalizedTransitionCallback(function (node) {\n    // No need for transitions when the component is hidden\n    node.style.webkitTransition = '';\n    node.style.transition = '';\n\n    if (onExited) {\n      onExited(node);\n    }\n  });\n  var updatePosition = React.useCallback(function () {\n    if (childrenRef.current) {\n      setTranslateValue(direction, childrenRef.current);\n    }\n  }, [direction]);\n  React.useEffect(function () {\n    // Skip configuration where the position is screen size invariant.\n    if (inProp || direction === 'down' || direction === 'right') {\n      return undefined;\n    }\n\n    var handleResize = debounce(function () {\n      if (childrenRef.current) {\n        setTranslateValue(direction, childrenRef.current);\n      }\n    });\n    window.addEventListener('resize', handleResize);\n    return function () {\n      handleResize.clear();\n      window.removeEventListener('resize', handleResize);\n    };\n  }, [direction, inProp]);\n  React.useEffect(function () {\n    if (!inProp) {\n      // We need to update the position of the drawer when the direction change and\n      // when it's hidden.\n      updatePosition();\n    }\n  }, [inProp, updatePosition]);\n  return /*#__PURE__*/React.createElement(TransitionComponent, _extends({\n    nodeRef: childrenRef,\n    onEnter: handleEnter,\n    onEntered: handleEntered,\n    onEntering: handleEntering,\n    onExit: handleExit,\n    onExited: handleExited,\n    onExiting: handleExiting,\n    appear: true,\n    in: inProp,\n    timeout: timeout\n  }, other), function (state, childProps) {\n    return /*#__PURE__*/React.cloneElement(children, _extends({\n      ref: handleRef,\n      style: _extends({\n        visibility: state === 'exited' && !inProp ? 'hidden' : undefined\n      }, style, children.props.style)\n    }, childProps));\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? Slide.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * A single child content element.\n   */\n  children: elementAcceptingRef,\n\n  /**\n   * Direction the child node will enter from.\n   */\n  direction: PropTypes.oneOf(['down', 'left', 'right', 'up']),\n\n  /**\n   * If `true`, show the component; triggers the enter or exit animation.\n   */\n  in: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  onEnter: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onEntered: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onEntering: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onExit: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onExited: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onExiting: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  style: PropTypes.object,\n\n  /**\n   * The duration for the transition, in milliseconds.\n   * You may specify a single timeout for all transitions, or individually with an object.\n   */\n  timeout: PropTypes.oneOfType([PropTypes.number, PropTypes.shape({\n    appear: PropTypes.number,\n    enter: PropTypes.number,\n    exit: PropTypes.number\n  })])\n} : void 0;\nexport default Slide;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport Modal from '../Modal';\nimport Backdrop from '../Backdrop';\nimport withStyles from '../styles/withStyles';\nimport Slide from '../Slide';\nimport Paper from '../Paper';\nimport capitalize from '../utils/capitalize';\nimport { duration } from '../styles/transitions';\nimport useTheme from '../styles/useTheme';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {},\n\n    /* Styles applied to the root element if `variant=\"permanent or persistent\"`. */\n    docked: {\n      flex: '0 0 auto'\n    },\n\n    /* Styles applied to the `Paper` component. */\n    paper: {\n      overflowY: 'auto',\n      display: 'flex',\n      flexDirection: 'column',\n      height: '100%',\n      flex: '1 0 auto',\n      zIndex: theme.zIndex.drawer,\n      WebkitOverflowScrolling: 'touch',\n      // Add iOS momentum scrolling.\n      // temporary style\n      position: 'fixed',\n      top: 0,\n      // We disable the focus ring for mouse, touch and keyboard users.\n      // At some point, it would be better to keep it for keyboard users.\n      // :focus-ring CSS pseudo-class will help.\n      outline: 0\n    },\n\n    /* Styles applied to the `Paper` component if `anchor=\"left\"`. */\n    paperAnchorLeft: {\n      left: 0,\n      right: 'auto'\n    },\n\n    /* Styles applied to the `Paper` component if `anchor=\"right\"`. */\n    paperAnchorRight: {\n      left: 'auto',\n      right: 0\n    },\n\n    /* Styles applied to the `Paper` component if `anchor=\"top\"`. */\n    paperAnchorTop: {\n      top: 0,\n      left: 0,\n      bottom: 'auto',\n      right: 0,\n      height: 'auto',\n      maxHeight: '100%'\n    },\n\n    /* Styles applied to the `Paper` component if `anchor=\"bottom\"`. */\n    paperAnchorBottom: {\n      top: 'auto',\n      left: 0,\n      bottom: 0,\n      right: 0,\n      height: 'auto',\n      maxHeight: '100%'\n    },\n\n    /* Styles applied to the `Paper` component if `anchor=\"left\"` and `variant` is not \"temporary\". */\n    paperAnchorDockedLeft: {\n      borderRight: \"1px solid \".concat(theme.palette.divider)\n    },\n\n    /* Styles applied to the `Paper` component if `anchor=\"top\"` and `variant` is not \"temporary\". */\n    paperAnchorDockedTop: {\n      borderBottom: \"1px solid \".concat(theme.palette.divider)\n    },\n\n    /* Styles applied to the `Paper` component if `anchor=\"right\"` and `variant` is not \"temporary\". */\n    paperAnchorDockedRight: {\n      borderLeft: \"1px solid \".concat(theme.palette.divider)\n    },\n\n    /* Styles applied to the `Paper` component if `anchor=\"bottom\"` and `variant` is not \"temporary\". */\n    paperAnchorDockedBottom: {\n      borderTop: \"1px solid \".concat(theme.palette.divider)\n    },\n\n    /* Styles applied to the `Modal` component. */\n    modal: {}\n  };\n};\nvar oppositeDirection = {\n  left: 'right',\n  right: 'left',\n  top: 'down',\n  bottom: 'up'\n};\nexport function isHorizontal(anchor) {\n  return ['left', 'right'].indexOf(anchor) !== -1;\n}\nexport function getAnchor(theme, anchor) {\n  return theme.direction === 'rtl' && isHorizontal(anchor) ? oppositeDirection[anchor] : anchor;\n}\nvar defaultTransitionDuration = {\n  enter: duration.enteringScreen,\n  exit: duration.leavingScreen\n};\n/**\n * The props of the [Modal](/api/modal/) component are available\n * when `variant=\"temporary\"` is set.\n */\n\nvar Drawer = /*#__PURE__*/React.forwardRef(function Drawer(props, ref) {\n  var _props$anchor = props.anchor,\n      anchorProp = _props$anchor === void 0 ? 'left' : _props$anchor,\n      BackdropProps = props.BackdropProps,\n      children = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$elevation = props.elevation,\n      elevation = _props$elevation === void 0 ? 16 : _props$elevation,\n      _props$ModalProps = props.ModalProps;\n  _props$ModalProps = _props$ModalProps === void 0 ? {} : _props$ModalProps;\n\n  var BackdropPropsProp = _props$ModalProps.BackdropProps,\n      ModalProps = _objectWithoutProperties(_props$ModalProps, [\"BackdropProps\"]),\n      onClose = props.onClose,\n      _props$open = props.open,\n      open = _props$open === void 0 ? false : _props$open,\n      _props$PaperProps = props.PaperProps,\n      PaperProps = _props$PaperProps === void 0 ? {} : _props$PaperProps,\n      SlideProps = props.SlideProps,\n      _props$TransitionComp = props.TransitionComponent,\n      TransitionComponent = _props$TransitionComp === void 0 ? Slide : _props$TransitionComp,\n      _props$transitionDura = props.transitionDuration,\n      transitionDuration = _props$transitionDura === void 0 ? defaultTransitionDuration : _props$transitionDura,\n      _props$variant = props.variant,\n      variant = _props$variant === void 0 ? 'temporary' : _props$variant,\n      other = _objectWithoutProperties(props, [\"anchor\", \"BackdropProps\", \"children\", \"classes\", \"className\", \"elevation\", \"ModalProps\", \"onClose\", \"open\", \"PaperProps\", \"SlideProps\", \"TransitionComponent\", \"transitionDuration\", \"variant\"]);\n\n  var theme = useTheme(); // Let's assume that the Drawer will always be rendered on user space.\n  // We use this state is order to skip the appear transition during the\n  // initial mount of the component.\n\n  var mounted = React.useRef(false);\n  React.useEffect(function () {\n    mounted.current = true;\n  }, []);\n  var anchor = getAnchor(theme, anchorProp);\n  var drawer = /*#__PURE__*/React.createElement(Paper, _extends({\n    elevation: variant === 'temporary' ? elevation : 0,\n    square: true\n  }, PaperProps, {\n    className: clsx(classes.paper, classes[\"paperAnchor\".concat(capitalize(anchor))], PaperProps.className, variant !== 'temporary' && classes[\"paperAnchorDocked\".concat(capitalize(anchor))])\n  }), children);\n\n  if (variant === 'permanent') {\n    return /*#__PURE__*/React.createElement(\"div\", _extends({\n      className: clsx(classes.root, classes.docked, className),\n      ref: ref\n    }, other), drawer);\n  }\n\n  var slidingDrawer = /*#__PURE__*/React.createElement(TransitionComponent, _extends({\n    in: open,\n    direction: oppositeDirection[anchor],\n    timeout: transitionDuration,\n    appear: mounted.current\n  }, SlideProps), drawer);\n\n  if (variant === 'persistent') {\n    return /*#__PURE__*/React.createElement(\"div\", _extends({\n      className: clsx(classes.root, classes.docked, className),\n      ref: ref\n    }, other), slidingDrawer);\n  } // variant === temporary\n\n\n  return /*#__PURE__*/React.createElement(Modal, _extends({\n    BackdropProps: _extends({}, BackdropProps, BackdropPropsProp, {\n      transitionDuration: transitionDuration\n    }),\n    BackdropComponent: Backdrop,\n    className: clsx(classes.root, classes.modal, className),\n    open: open,\n    onClose: onClose,\n    ref: ref\n  }, other, ModalProps), slidingDrawer);\n});\nprocess.env.NODE_ENV !== \"production\" ? Drawer.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * Side from which the drawer will appear.\n   */\n  anchor: PropTypes.oneOf(['bottom', 'left', 'right', 'top']),\n\n  /**\n   * @ignore\n   */\n  BackdropProps: PropTypes.object,\n\n  /**\n   * The contents of the drawer.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The elevation of the drawer.\n   */\n  elevation: PropTypes.number,\n\n  /**\n   * Props applied to the [`Modal`](/api/modal/) element.\n   */\n  ModalProps: PropTypes.object,\n\n  /**\n   * Callback fired when the component requests to be closed.\n   *\n   * @param {object} event The event source of the callback.\n   */\n  onClose: PropTypes.func,\n\n  /**\n   * If `true`, the drawer is open.\n   */\n  open: PropTypes.bool,\n\n  /**\n   * Props applied to the [`Paper`](/api/paper/) element.\n   */\n  PaperProps: PropTypes.object,\n\n  /**\n   * Props applied to the [`Slide`](/api/slide/) element.\n   */\n  SlideProps: PropTypes.object,\n\n  /**\n   * The duration for the transition, in milliseconds.\n   * You may specify a single timeout for all transitions, or individually with an object.\n   */\n  transitionDuration: PropTypes.oneOfType([PropTypes.number, PropTypes.shape({\n    appear: PropTypes.number,\n    enter: PropTypes.number,\n    exit: PropTypes.number\n  })]),\n\n  /**\n   * The variant to use.\n   */\n  variant: PropTypes.oneOf(['permanent', 'persistent', 'temporary'])\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiDrawer',\n  flip: false\n})(Drawer);","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\n/**\n * Render the canvas index svg\n */\n\nexport default function CanvasIndexIcon(props) {\n  return /*#__PURE__*/React.createElement(SvgIcon, props, /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"24\",\n    height: \"24\",\n    viewBox: \"0 0 24 24\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6.924,21H21V19H6.924ZM3,17H21V15H3Zm3.924-4H21V11H6.924Zm0-4H21V7H6.924ZM3,3V5H21V3Z\"\n  })));\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport Badge from '@material-ui/core/Badge';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport InfoIcon from '@material-ui/icons/InfoSharp';\nimport AnnotationIcon from '@material-ui/icons/CommentSharp';\nimport AttributionIcon from '@material-ui/icons/CopyrightSharp';\nimport LayersIcon from '@material-ui/icons/LayersSharp';\nimport SearchIcon from '@material-ui/icons/SearchSharp';\nimport CanvasIndexIcon from './icons/CanvasIndexIcon';\n/**\n *\n */\n\nexport var WindowSideBarButtons = /*#__PURE__*/function (_Component) {\n  _inherits(WindowSideBarButtons, _Component);\n\n  var _super = _createSuper(WindowSideBarButtons);\n\n  /** */\n  function WindowSideBarButtons(props) {\n    var _this;\n\n    _classCallCheck(this, WindowSideBarButtons);\n\n    _this = _super.call(this, props);\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /**\n   * @param {object} event the change event\n   * @param {string} value the tab's value\n  */\n\n\n  _createClass(WindowSideBarButtons, [{\n    key: \"handleChange\",\n    value: function handleChange(event, value) {\n      var addCompanionWindow = this.props.addCompanionWindow;\n      addCompanionWindow(value);\n    }\n    /**\n     * render\n     *\n     * @return {type}  description\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          hasAnnotations = _this$props.hasAnnotations,\n          hasAnyAnnotations = _this$props.hasAnyAnnotations,\n          hasAnyLayers = _this$props.hasAnyLayers,\n          hasCurrentLayers = _this$props.hasCurrentLayers,\n          hasSearchResults = _this$props.hasSearchResults,\n          hasSearchService = _this$props.hasSearchService,\n          panels = _this$props.panels,\n          PluginComponents = _this$props.PluginComponents,\n          sideBarPanel = _this$props.sideBarPanel,\n          t = _this$props.t;\n      /** */\n\n      var TabButton = function TabButton(props) {\n        return /*#__PURE__*/React.createElement(Tooltip, {\n          title: t('openCompanionWindow', {\n            context: props.value\n          })\n        }, /*#__PURE__*/React.createElement(Tab, Object.assign({}, props, {\n          classes: {\n            root: classes.tab,\n            selected: classes.tabSelected\n          },\n          \"aria-label\": t('openCompanionWindow', {\n            context: props.value\n          }),\n          disableRipple: true,\n          onKeyUp: _this2.handleKeyUp\n        })));\n      };\n\n      return /*#__PURE__*/React.createElement(Tabs, {\n        classes: {\n          flexContainer: classes.tabsFlexContainer,\n          indicator: classes.tabsIndicator\n        },\n        value: sideBarPanel === 'closed' ? false : sideBarPanel,\n        onChange: this.handleChange,\n        variant: \"fullWidth\",\n        indicatorColor: \"primary\",\n        textColor: \"primary\",\n        orientation: \"vertical\",\n        \"aria-orientation\": \"vertical\",\n        \"aria-label\": t('sidebarPanelsNavigation')\n      }, panels.info && /*#__PURE__*/React.createElement(TabButton, {\n        value: \"info\",\n        icon: /*#__PURE__*/React.createElement(InfoIcon, null)\n      }), panels.attribution && /*#__PURE__*/React.createElement(TabButton, {\n        value: \"attribution\",\n        icon: /*#__PURE__*/React.createElement(AttributionIcon, null)\n      }), panels.canvas && /*#__PURE__*/React.createElement(TabButton, {\n        value: \"canvas\",\n        icon: /*#__PURE__*/React.createElement(CanvasIndexIcon, null)\n      }), panels.annotations && (hasAnnotations || hasAnyAnnotations) && /*#__PURE__*/React.createElement(TabButton, {\n        value: \"annotations\",\n        icon: /*#__PURE__*/React.createElement(Badge, {\n          classes: {\n            badge: classes.badge\n          },\n          invisible: !hasAnnotations,\n          variant: \"dot\"\n        }, /*#__PURE__*/React.createElement(AnnotationIcon, null))\n      }), panels.search && hasSearchService && /*#__PURE__*/React.createElement(TabButton, {\n        value: \"search\",\n        icon: /*#__PURE__*/React.createElement(Badge, {\n          classes: {\n            badge: classes.badge\n          },\n          invisible: !hasSearchResults,\n          variant: \"dot\"\n        }, /*#__PURE__*/React.createElement(SearchIcon, null))\n      }), panels.layers && hasAnyLayers && /*#__PURE__*/React.createElement(TabButton, {\n        value: \"layers\",\n        icon: /*#__PURE__*/React.createElement(Badge, {\n          classes: {\n            badge: classes.badge\n          },\n          invisible: !hasCurrentLayers,\n          variant: \"dot\"\n        }, /*#__PURE__*/React.createElement(LayersIcon, null))\n      }), PluginComponents && PluginComponents.map(function (PluginComponent) {\n        return /*#__PURE__*/React.createElement(TabButton, {\n          key: PluginComponent.value,\n          value: PluginComponent.value,\n          icon: /*#__PURE__*/React.createElement(PluginComponent, null)\n        });\n      }));\n    }\n  }]);\n\n  return WindowSideBarButtons;\n}(Component);\nWindowSideBarButtons.defaultProps = {\n  classes: {},\n  hasAnnotations: false,\n  hasAnyAnnotations: false,\n  hasAnyLayers: false,\n  hasCurrentLayers: false,\n  hasSearchResults: false,\n  hasSearchService: false,\n  panels: [],\n  PluginComponents: null,\n  sideBarPanel: 'closed',\n  t: function t(key) {\n    return key;\n  }\n};","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withStyles } from '@material-ui/core';\nimport { withTranslation } from 'react-i18next';\nimport { withPlugins } from '../extend/withPlugins';\nimport * as actions from '../state/actions';\nimport MiradorCanvas from '../lib/MiradorCanvas';\nimport { getCanvases, getVisibleCanvases, getCompanionWindowsForPosition, getAnnotationResourcesByMotivation, getManifestSearchService, getSearchQuery, getWindow, getWindowConfig } from '../state/selectors';\nimport { WindowSideBarButtons } from '../components/WindowSideBarButtons';\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof WindowSideButtons\n * @private\n */\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch, _ref) {\n  var windowId = _ref.windowId;\n  return {\n    addCompanionWindow: function addCompanionWindow(content) {\n      return dispatch(actions.addOrUpdateCompanionWindow(windowId, {\n        content: content,\n        position: 'left'\n      }));\n    }\n  };\n};\n/** */\n\n\nfunction hasLayers(canvases) {\n  return canvases && canvases.some(function (c) {\n    return new MiradorCanvas(c).imageResources.length > 1;\n  });\n}\n/** */\n\n\nfunction hasAnnotations(canvases) {\n  return canvases && canvases.some(function (c) {\n    var canvas = new MiradorCanvas(c);\n    return canvas.annotationListUris.length > 0 || canvas.canvasAnnotationPages.length > 0;\n  });\n}\n/**\n * mapStateToProps - used to hook up connect to state\n * @memberof WindowSideButtons\n * @private\n */\n\n\nvar mapStateToProps = function mapStateToProps(state, _ref2) {\n  var windowId = _ref2.windowId;\n  return {\n    hasAnnotations: getAnnotationResourcesByMotivation(state, {\n      windowId: windowId\n    }).length > 0,\n    hasAnyAnnotations: hasAnnotations(getCanvases(state, {\n      windowId: windowId\n    })),\n    hasAnyLayers: hasLayers(getCanvases(state, {\n      windowId: windowId\n    })),\n    hasCurrentLayers: hasLayers(getVisibleCanvases(state, {\n      windowId: windowId\n    })),\n    hasSearchResults: getWindow(state, {\n      windowId: windowId\n    }).suggestedSearches || getSearchQuery(state, {\n      companionWindowId: (getCompanionWindowsForPosition(state, {\n        position: 'left',\n        windowId: windowId\n      })[0] || {}).id,\n      windowId: windowId\n    }),\n    hasSearchService: getManifestSearchService(state, {\n      windowId: windowId\n    }) !== null,\n    panels: getWindowConfig(state, {\n      windowId: windowId\n    }).panels,\n    sideBarPanel: (getCompanionWindowsForPosition(state, {\n      position: 'left',\n      windowId: windowId\n    })[0] || {}).content\n  };\n};\n/** */\n\n\nvar style = function style(theme) {\n  return {\n    badge: {\n      backgroundColor: theme.palette.notification.main\n    },\n    tab: {\n      '&:active': {\n        backgroundColor: theme.palette.action.active\n      },\n      '&:focus': {\n        '@media (hover: none)': {\n          backgroundColor: 'transparent'\n        },\n        backgroundColor: theme.palette.action.hover,\n        textDecoration: 'none' // Reset on touch devices, it doesn't add specificity\n\n      },\n      '&:hover': {\n        '@media (hover: none)': {\n          backgroundColor: 'transparent'\n        },\n        backgroundColor: theme.palette.action.hover,\n        textDecoration: 'none' // Reset on touch devices, it doesn't add specificity\n\n      },\n      borderRight: '2px solid transparent',\n      minWidth: 'auto'\n    },\n    tabSelected: {\n      borderRight: \"2px solid \".concat(theme.palette.primary.main)\n    },\n    tabsFlexContainer: {\n      flexDirection: 'column'\n    },\n    tabsIndicator: {\n      display: 'none'\n    }\n  };\n};\n\nvar enhance = compose(withTranslation(), withStyles(style), connect(mapStateToProps, mapDispatchToProps), withPlugins('WindowSideBarButtons'));\nexport default enhance(WindowSideBarButtons);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport classNames from 'classnames';\nimport Drawer from '@material-ui/core/Drawer';\nimport WindowSideBarButtons from '../containers/WindowSideBarButtons';\n/**\n * WindowSideBar\n */\n\nexport var WindowSideBar = /*#__PURE__*/function (_Component) {\n  _inherits(WindowSideBar, _Component);\n\n  var _super = _createSuper(WindowSideBar);\n\n  function WindowSideBar() {\n    _classCallCheck(this, WindowSideBar);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(WindowSideBar, [{\n    key: \"render\",\n    value:\n    /**\n     * render\n     * @return\n     */\n    function render() {\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          direction = _this$props.direction,\n          t = _this$props.t,\n          windowId = _this$props.windowId,\n          sideBarOpen = _this$props.sideBarOpen;\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Drawer, {\n        variant: \"persistent\",\n        className: classNames(classes.drawer),\n        classes: {\n          paper: classNames(classes.paper)\n        },\n        anchor: direction === 'rtl' ? 'right' : 'left',\n        PaperProps: {\n          'aria-label': t('sidebarPanelsNavigation'),\n          component: 'nav',\n          style: {\n            height: '100%',\n            position: 'relative'\n          }\n        },\n        SlideProps: {\n          direction: direction === 'rtl' ? 'left' : 'right',\n          mountOnEnter: true,\n          unmountOnExit: true\n        },\n        open: sideBarOpen\n      }, /*#__PURE__*/React.createElement(WindowSideBarButtons, {\n        windowId: windowId\n      })));\n    }\n  }]);\n\n  return WindowSideBar;\n}(Component);\nWindowSideBar.defaultProps = {\n  sideBarOpen: false\n};","import { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { withStyles } from '@material-ui/core';\nimport { withTranslation } from 'react-i18next';\nimport { withPlugins } from '../extend/withPlugins';\nimport { WindowSideBar } from '../components/WindowSideBar';\nimport { getThemeDirection, getWindow } from '../state/selectors';\n/**\n * mapStateToProps - to hook up connect\n * @memberof WindowSideBar\n * @private\n */\n\nvar mapStateToProps = function mapStateToProps(state, _ref) {\n  var windowId = _ref.windowId;\n  return {\n    direction: getThemeDirection(state),\n    sideBarOpen: (getWindow(state, {\n      windowId: windowId\n    }) || {}).sideBarOpen,\n    sideBarPanel: (getWindow(state, {\n      windowId: windowId\n    }) || {}).sideBarPanel\n  };\n};\n/**\n *\n * @param theme\n * @returns {{toolbar: CSSProperties | toolbar | {minHeight}, grow: {flexGrow: number},\n * drawer: {overflowX: string, left: number, flexShrink: number, width: number, height: string}}}\n */\n\n\nvar styles = function styles(theme) {\n  return {\n    drawer: {\n      flexShrink: 0,\n      height: '100%',\n      order: -1000,\n      zIndex: theme.zIndex.appBar - 1\n    },\n    grow: {\n      flexGrow: 1\n    },\n    paper: {\n      borderInlineEnd: \"1px solid \".concat(theme.palette.divider),\n      overflowX: 'hidden',\n      width: 48\n    },\n    toolbar: theme.mixins.toolbar\n  };\n};\n\nvar enhance = compose(withStyles(styles), withTranslation(), connect(mapStateToProps, null), withPlugins('WindowSideBar'));\nexport default enhance(WindowSideBar);","import * as React from 'react';\nimport { createSvgIcon } from '@material-ui/core/utils';\n/**\n * @ignore - internal component.\n */\n\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z\"\n}), 'SuccessOutlined');","import * as React from 'react';\nimport { createSvgIcon } from '@material-ui/core/utils';\n/**\n * @ignore - internal component.\n */\n\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z\"\n}), 'ReportProblemOutlined');","import * as React from 'react';\nimport { createSvgIcon } from '@material-ui/core/utils';\n/**\n * @ignore - internal component.\n */\n\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\"\n}), 'ErrorOutline');","import * as React from 'react';\nimport { createSvgIcon } from '@material-ui/core/utils';\n/**\n * @ignore - internal component.\n */\n\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z\"\n}), 'InfoOutlined');","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { withStyles, lighten, darken } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport SuccessOutlinedIcon from '../internal/svg-icons/SuccessOutlined';\nimport ReportProblemOutlinedIcon from '../internal/svg-icons/ReportProblemOutlined';\nimport ErrorOutlineIcon from '../internal/svg-icons/ErrorOutline';\nimport InfoOutlinedIcon from '../internal/svg-icons/InfoOutlined';\nimport CloseIcon from '../internal/svg-icons/Close';\nimport IconButton from '@material-ui/core/IconButton';\nimport { capitalize } from '@material-ui/core/utils';\nexport var styles = function styles(theme) {\n  var getColor = theme.palette.type === 'light' ? darken : lighten;\n  var getBackgroundColor = theme.palette.type === 'light' ? lighten : darken;\n  return {\n    /* Styles applied to the root element. */\n    root: _extends({}, theme.typography.body2, {\n      borderRadius: theme.shape.borderRadius,\n      backgroundColor: 'transparent',\n      display: 'flex',\n      padding: '6px 16px'\n    }),\n\n    /* Styles applied to the root element if `variant=\"standard\"` and `color=\"success\"`. */\n    standardSuccess: {\n      color: getColor(theme.palette.success.main, 0.6),\n      backgroundColor: getBackgroundColor(theme.palette.success.main, 0.9),\n      '& $icon': {\n        color: theme.palette.success.main\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"standard\"` and `color=\"info\"`. */\n    standardInfo: {\n      color: getColor(theme.palette.info.main, 0.6),\n      backgroundColor: getBackgroundColor(theme.palette.info.main, 0.9),\n      '& $icon': {\n        color: theme.palette.info.main\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"standard\"` and `color=\"warning\"`. */\n    standardWarning: {\n      color: getColor(theme.palette.warning.main, 0.6),\n      backgroundColor: getBackgroundColor(theme.palette.warning.main, 0.9),\n      '& $icon': {\n        color: theme.palette.warning.main\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"standard\"` and `color=\"error\"`. */\n    standardError: {\n      color: getColor(theme.palette.error.main, 0.6),\n      backgroundColor: getBackgroundColor(theme.palette.error.main, 0.9),\n      '& $icon': {\n        color: theme.palette.error.main\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"outlined\"` and `color=\"success\"`. */\n    outlinedSuccess: {\n      color: getColor(theme.palette.success.main, 0.6),\n      border: \"1px solid \".concat(theme.palette.success.main),\n      '& $icon': {\n        color: theme.palette.success.main\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"outlined\"` and `color=\"info\"`. */\n    outlinedInfo: {\n      color: getColor(theme.palette.info.main, 0.6),\n      border: \"1px solid \".concat(theme.palette.info.main),\n      '& $icon': {\n        color: theme.palette.info.main\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"outlined\"` and `color=\"warning\"`. */\n    outlinedWarning: {\n      color: getColor(theme.palette.warning.main, 0.6),\n      border: \"1px solid \".concat(theme.palette.warning.main),\n      '& $icon': {\n        color: theme.palette.warning.main\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"outlined\"` and `color=\"error\"`. */\n    outlinedError: {\n      color: getColor(theme.palette.error.main, 0.6),\n      border: \"1px solid \".concat(theme.palette.error.main),\n      '& $icon': {\n        color: theme.palette.error.main\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"filled\"` and `color=\"success\"`. */\n    filledSuccess: {\n      color: '#fff',\n      fontWeight: theme.typography.fontWeightMedium,\n      backgroundColor: theme.palette.success.main\n    },\n\n    /* Styles applied to the root element if `variant=\"filled\"` and `color=\"info\"`. */\n    filledInfo: {\n      color: '#fff',\n      fontWeight: theme.typography.fontWeightMedium,\n      backgroundColor: theme.palette.info.main\n    },\n\n    /* Styles applied to the root element if `variant=\"filled\"` and `color=\"warning\"`. */\n    filledWarning: {\n      color: '#fff',\n      fontWeight: theme.typography.fontWeightMedium,\n      backgroundColor: theme.palette.warning.main\n    },\n\n    /* Styles applied to the root element if `variant=\"filled\"` and `color=\"error\"`. */\n    filledError: {\n      color: '#fff',\n      fontWeight: theme.typography.fontWeightMedium,\n      backgroundColor: theme.palette.error.main\n    },\n\n    /* Styles applied to the icon wrapper element. */\n    icon: {\n      marginRight: 12,\n      padding: '7px 0',\n      display: 'flex',\n      fontSize: 22,\n      opacity: 0.9\n    },\n\n    /* Styles applied to the message wrapper element. */\n    message: {\n      padding: '8px 0'\n    },\n\n    /* Styles applied to the action wrapper element if `action` is provided. */\n    action: {\n      display: 'flex',\n      alignItems: 'center',\n      marginLeft: 'auto',\n      paddingLeft: 16,\n      marginRight: -8\n    }\n  };\n};\nvar defaultIconMapping = {\n  success: /*#__PURE__*/React.createElement(SuccessOutlinedIcon, {\n    fontSize: \"inherit\"\n  }),\n  warning: /*#__PURE__*/React.createElement(ReportProblemOutlinedIcon, {\n    fontSize: \"inherit\"\n  }),\n  error: /*#__PURE__*/React.createElement(ErrorOutlineIcon, {\n    fontSize: \"inherit\"\n  }),\n  info: /*#__PURE__*/React.createElement(InfoOutlinedIcon, {\n    fontSize: \"inherit\"\n  })\n};\n\nvar _ref = /*#__PURE__*/React.createElement(CloseIcon, {\n  fontSize: \"small\"\n});\n\nvar Alert = /*#__PURE__*/React.forwardRef(function Alert(props, ref) {\n  var action = props.action,\n      children = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$closeText = props.closeText,\n      closeText = _props$closeText === void 0 ? 'Close' : _props$closeText,\n      color = props.color,\n      icon = props.icon,\n      _props$iconMapping = props.iconMapping,\n      iconMapping = _props$iconMapping === void 0 ? defaultIconMapping : _props$iconMapping,\n      onClose = props.onClose,\n      _props$role = props.role,\n      role = _props$role === void 0 ? 'alert' : _props$role,\n      _props$severity = props.severity,\n      severity = _props$severity === void 0 ? 'success' : _props$severity,\n      _props$variant = props.variant,\n      variant = _props$variant === void 0 ? 'standard' : _props$variant,\n      other = _objectWithoutProperties(props, [\"action\", \"children\", \"classes\", \"className\", \"closeText\", \"color\", \"icon\", \"iconMapping\", \"onClose\", \"role\", \"severity\", \"variant\"]);\n\n  return /*#__PURE__*/React.createElement(Paper, _extends({\n    role: role,\n    square: true,\n    elevation: 0,\n    className: clsx(classes.root, classes[\"\".concat(variant).concat(capitalize(color || severity))], className),\n    ref: ref\n  }, other), icon !== false ? /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.icon\n  }, icon || iconMapping[severity] || defaultIconMapping[severity]) : null, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.message\n  }, children), action != null ? /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.action\n  }, action) : null, action == null && onClose ? /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.action\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    size: \"small\",\n    \"aria-label\": closeText,\n    title: closeText,\n    color: \"inherit\",\n    onClick: onClose\n  }, _ref)) : null);\n});\nprocess.env.NODE_ENV !== \"production\" ? Alert.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The action to display. It renders after the message, at the end of the alert.\n   */\n  action: PropTypes.node,\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * Override the default label for the *close popup* icon button.\n   *\n   * For localization purposes, you can use the provided [translations](/guides/localization/).\n   */\n  closeText: PropTypes.string,\n\n  /**\n   * The main color for the alert. Unless provided, the value is taken from the `severity` prop.\n   */\n  color: PropTypes.oneOf(['error', 'info', 'success', 'warning']),\n\n  /**\n   * Override the icon displayed before the children.\n   * Unless provided, the icon is mapped to the value of the `severity` prop.\n   */\n  icon: PropTypes.node,\n\n  /**\n   * The component maps the `severity` prop to a range of different icons,\n   * for instance success to `<SuccessOutlined>`.\n   * If you wish to change this mapping, you can provide your own.\n   * Alternatively, you can use the `icon` prop to override the icon displayed.\n   */\n  iconMapping: PropTypes.shape({\n    error: PropTypes.node,\n    info: PropTypes.node,\n    success: PropTypes.node,\n    warning: PropTypes.node\n  }),\n\n  /**\n   * Callback fired when the component requests to be closed.\n   * When provided and no `action` prop is set, a close icon button is displayed that triggers the callback when clicked.\n   *\n   * @param {object} event The event source of the callback.\n   */\n  onClose: PropTypes.func,\n\n  /**\n   * The ARIA role attribute of the element.\n   */\n  role: PropTypes.string,\n\n  /**\n   * The severity of the alert. This defines the color and icon used.\n   */\n  severity: PropTypes.oneOf(['error', 'info', 'success', 'warning']),\n\n  /**\n   * The variant to use.\n   */\n  variant: PropTypes.oneOf(['filled', 'outlined', 'standard'])\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiAlert'\n})(Alert);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport Typography from '@material-ui/core/Typography';\nimport Alert from '@material-ui/lab/Alert';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { PluginHook } from './PluginHook';\n/** */\n\nexport var ErrorContent = /*#__PURE__*/function (_Component) {\n  _inherits(ErrorContent, _Component);\n\n  var _super = _createSuper(ErrorContent);\n\n  function ErrorContent() {\n    _classCallCheck(this, ErrorContent);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(ErrorContent, [{\n    key: \"render\",\n    value:\n    /** */\n    function render() {\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          error = _this$props.error,\n          metadata = _this$props.metadata,\n          showJsError = _this$props.showJsError,\n          t = _this$props.t;\n      if (!showJsError) return null;\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Alert, {\n        elevation: 6,\n        variant: \"filled\",\n        severity: \"error\"\n      }, t('errorDialogTitle')), showJsError && /*#__PURE__*/React.createElement(Accordion, {\n        square: true,\n        className: classes.alert\n      }, /*#__PURE__*/React.createElement(AccordionSummary, {\n        expandIcon: /*#__PURE__*/React.createElement(ExpandMoreIcon, null)\n      }, /*#__PURE__*/React.createElement(Typography, null, t('jsError', {\n        message: error.message,\n        name: error.name\n      }))), /*#__PURE__*/React.createElement(AccordionDetails, {\n        className: classes.details\n      }, /*#__PURE__*/React.createElement(\"pre\", null, t('jsStack', {\n        stack: error.stack\n      })), metadata && /*#__PURE__*/React.createElement(\"pre\", null, JSON.stringify(metadata, null, 2)))), /*#__PURE__*/React.createElement(PluginHook, this.props));\n    }\n  }]);\n\n  return ErrorContent;\n}(Component);\nErrorContent.defaultProps = {\n  metadata: null,\n  showJsError: true,\n  t: function t(key) {\n    return key;\n  }\n};","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles } from '@material-ui/core/styles';\nimport { withPlugins } from '../extend/withPlugins';\nimport { ErrorContent } from '../components/ErrorContent';\nimport { getCompanionWindow, getManifest, getWindow, getViewer, getConfig } from '../state/selectors';\n/** mapStateToProps */\n\nvar mapStateToProps = function mapStateToProps(state, _ref) {\n  var companionWindowId = _ref.companionWindowId,\n      windowId = _ref.windowId;\n  return {\n    metadata: {\n      companionWindow: companionWindowId && getCompanionWindow(state, {\n        companionWindowId: companionWindowId\n      }),\n      manifest: getManifest(state, {\n        windowId: windowId\n      }),\n      viewer: getViewer(state, {\n        windowId: windowId\n      }),\n      window: getWindow(state, {\n        windowId: windowId\n      })\n    },\n    showJsError: getConfig(state).window.showJsError\n  };\n};\n/**\n * @param theme\n * @returns {{typographyBody: {flexGrow: number, fontSize: number|string},\n * windowTopBarStyle: {minHeight: number, paddingLeft: number, backgroundColor: string}}}\n */\n\n\nvar styles = function styles(theme) {\n  return {\n    alert: {\n      '& $icon': {\n        color: theme.palette.error.main\n      },\n      backgroundColor: theme.palette.error.main,\n      color: '#fff',\n      fontWeight: theme.typography.fontWeightMedium\n    },\n    details: {\n      '& pre': {\n        height: '100px',\n        overflowY: 'scroll'\n      },\n      flexDirection: 'column'\n    }\n  };\n};\n\nvar enhance = compose(withTranslation(), withStyles(styles), connect(mapStateToProps), withPlugins('ErrorContent'));\nexport default enhance(ErrorContent);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport CompanionWindowRegistry from '../lib/CompanionWindowRegistry';\nimport CompanionWindow from '../containers/CompanionWindow';\nimport ErrorContent from '../containers/ErrorContent';\n/**\n * Render a companion window using the appropriate component for the content\n */\n\nexport var CompanionWindowFactory = /*#__PURE__*/function (_Component) {\n  _inherits(CompanionWindowFactory, _Component);\n\n  var _super = _createSuper(CompanionWindowFactory);\n\n  /** */\n  function CompanionWindowFactory(props) {\n    var _this;\n\n    _classCallCheck(this, CompanionWindowFactory);\n\n    _this = _super.call(this, props);\n    _this.state = {};\n    return _this;\n  }\n  /** */\n\n\n  _createClass(CompanionWindowFactory, [{\n    key: \"componentDidUpdate\",\n    value:\n    /**\n     * Clear the error state if the internal content changes; this is a rare\n     * case, only when we reuse an existing companionWindow instance for\n     * the left-anchored companion area (anti-pattern?)\n     */\n    function componentDidUpdate(prevProps) {\n      var content = this.props.content; // Typical usage (don't forget to compare props):\n\n      if (content !== prevProps.content) {\n        this.setState({\n          // eslint-disable-line react/no-did-update-set-state\n          error: null,\n          hasError: false\n        });\n      }\n    }\n    /** */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          content = _this$props.content,\n          windowId = _this$props.windowId,\n          id = _this$props.id,\n          t = _this$props.t;\n      var _this$state = this.state,\n          error = _this$state.error,\n          hasError = _this$state.hasError;\n\n      if (hasError) {\n        return /*#__PURE__*/React.createElement(CompanionWindow, {\n          title: t('error'),\n          windowId: windowId,\n          id: id\n        }, /*#__PURE__*/React.createElement(ErrorContent, {\n          error: error,\n          windowId: windowId,\n          companionWindowId: id\n        }));\n      }\n\n      var type = CompanionWindowRegistry[content];\n      if (!type) return /*#__PURE__*/React.createElement(React.Fragment, null);\n      return /*#__PURE__*/React.createElement(type, {\n        id: id,\n        windowId: windowId\n      });\n    }\n  }], [{\n    key: \"getDerivedStateFromError\",\n    value: function getDerivedStateFromError(error) {\n      // Update state so the next render will show the fallback UI.\n      return {\n        error: error,\n        hasError: true\n      };\n    }\n  }]);\n\n  return CompanionWindowFactory;\n}(Component);\nCompanionWindowFactory.defaultProps = {\n  content: null,\n  t: function t(key) {\n    return key;\n  }\n};","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\nimport { withPlugins } from '../extend/withPlugins';\nimport { getCompanionWindow } from '../state/selectors';\nimport { CompanionWindowFactory } from '../components/CompanionWindowFactory';\n/**\n * mapStateToProps - to hook up connect\n * @memberof CompanionWindow\n * @private\n */\n\nvar mapStateToProps = function mapStateToProps(state, _ref) {\n  var id = _ref.id;\n  var companionWindow = getCompanionWindow(state, {\n    companionWindowId: id\n  });\n  return {\n    content: companionWindow.content,\n    id: id\n  };\n};\n\nvar enhance = compose(withTranslation(), connect(mapStateToProps), withPlugins('CompanionWindowFactory'));\nexport default enhance(CompanionWindowFactory);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport Slide from '@material-ui/core/Slide';\nimport ArrowLeftIcon from '@material-ui/icons/ArrowLeftSharp';\nimport ArrowRightIcon from '@material-ui/icons/ArrowRightSharp';\nimport CompanionWindowFactory from '../containers/CompanionWindowFactory';\nimport MiradorMenuButton from '../containers/MiradorMenuButton';\nimport ns from '../config/css-ns';\n/** */\n\nexport var CompanionArea = /*#__PURE__*/function (_Component) {\n  _inherits(CompanionArea, _Component);\n\n  var _super = _createSuper(CompanionArea);\n\n  function CompanionArea() {\n    _classCallCheck(this, CompanionArea);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(CompanionArea, [{\n    key: \"areaLayoutClass\",\n    value:\n    /** */\n    function areaLayoutClass() {\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          position = _this$props.position;\n      return position === 'bottom' || position === 'far-bottom' ? classes.horizontal : null;\n    }\n    /** */\n\n  }, {\n    key: \"collapseIcon\",\n    value: function collapseIcon() {\n      var _this$props2 = this.props,\n          companionAreaOpen = _this$props2.companionAreaOpen,\n          direction = _this$props2.direction;\n\n      if (direction === 'rtl') {\n        if (companionAreaOpen) return /*#__PURE__*/React.createElement(ArrowRightIcon, null);\n        return /*#__PURE__*/React.createElement(ArrowLeftIcon, null);\n      }\n\n      if (companionAreaOpen) return /*#__PURE__*/React.createElement(ArrowLeftIcon, null);\n      return /*#__PURE__*/React.createElement(ArrowRightIcon, null);\n    }\n    /** @private */\n\n  }, {\n    key: \"slideDirection\",\n    value: function slideDirection() {\n      var _this$props3 = this.props,\n          direction = _this$props3.direction,\n          position = _this$props3.position;\n      var defaultPosition = direction === 'rtl' ? 'left' : 'right';\n      var oppositePosition = direction === 'rtl' ? 'right' : 'left';\n\n      switch (position) {\n        case 'right':\n        case 'far-right':\n          return oppositePosition;\n\n        case 'bottom':\n        case 'far-bottom':\n          return 'up';\n\n        default:\n          return defaultPosition;\n      }\n    }\n    /** */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props4 = this.props,\n          classes = _this$props4.classes,\n          companionWindowIds = _this$props4.companionWindowIds,\n          companionAreaOpen = _this$props4.companionAreaOpen,\n          setCompanionAreaOpen = _this$props4.setCompanionAreaOpen,\n          position = _this$props4.position,\n          sideBarOpen = _this$props4.sideBarOpen,\n          t = _this$props4.t,\n          windowId = _this$props4.windowId;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: [classes.root, this.areaLayoutClass(), ns(\"companion-area-\".concat(position))].join(' ')\n      }, /*#__PURE__*/React.createElement(Slide, {\n        \"in\": companionAreaOpen,\n        direction: this.slideDirection()\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: [ns('companion-windows'), companionWindowIds.length > 0 && classes[position], this.areaLayoutClass()].join(' '),\n        style: {\n          display: companionAreaOpen ? 'flex' : 'none'\n        }\n      }, companionWindowIds.map(function (id) {\n        return /*#__PURE__*/React.createElement(CompanionWindowFactory, {\n          id: id,\n          key: id,\n          windowId: windowId\n        });\n      }))), setCompanionAreaOpen && position === 'left' && sideBarOpen && companionWindowIds.length > 0 && /*#__PURE__*/React.createElement(\"div\", {\n        className: classes.toggle\n      }, /*#__PURE__*/React.createElement(MiradorMenuButton, {\n        \"aria-expanded\": companionAreaOpen,\n        \"aria-label\": companionAreaOpen ? t('collapseSidePanel') : t('expandSidePanel'),\n        className: classes.toggleButton,\n        key: companionAreaOpen ? 'collapse' : 'expand',\n        onClick: function onClick() {\n          setCompanionAreaOpen(windowId, !companionAreaOpen);\n        },\n        TooltipProps: {\n          placement: 'right'\n        }\n      }, this.collapseIcon())));\n    }\n  }]);\n\n  return CompanionArea;\n}(Component);\nCompanionArea.defaultProps = {\n  classes: {},\n  setCompanionAreaOpen: function setCompanionAreaOpen() {},\n  sideBarOpen: false\n};","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withStyles } from '@material-ui/core';\nimport { withTranslation } from 'react-i18next';\nimport { withPlugins } from '../extend/withPlugins';\nimport { getCompanionWindowIdsForPosition, getCompanionAreaVisibility, getThemeDirection, getWindow } from '../state/selectors';\nimport * as actions from '../state/actions';\nimport { CompanionArea } from '../components/CompanionArea';\n/** */\n\nvar mapStateToProps = function mapStateToProps(state, _ref) {\n  var windowId = _ref.windowId,\n      position = _ref.position;\n  return {\n    companionAreaOpen: getCompanionAreaVisibility(state, {\n      position: position,\n      windowId: windowId\n    }),\n    companionWindowIds: getCompanionWindowIdsForPosition(state, {\n      position: position,\n      windowId: windowId\n    }),\n    direction: getThemeDirection(state),\n    sideBarOpen: (getWindow(state, {\n      windowId: windowId\n    }) || {}).sideBarOpen\n  };\n};\n\nvar mapDispatchToProps = {\n  setCompanionAreaOpen: actions.setCompanionAreaOpen\n};\n/** */\n\nvar styles = function styles(theme) {\n  return {\n    horizontal: {\n      flexDirection: 'column',\n      width: '100%'\n    },\n    left: {\n      minWidth: 235\n    },\n    root: {\n      display: 'flex',\n      minHeight: 0,\n      position: 'relative',\n      zIndex: theme.zIndex.appBar - 2\n    },\n    toggle: {\n      backgroundColor: theme.palette.background.paper,\n      border: \"1px solid \".concat(theme.palette.shades.dark),\n      borderRadius: 0,\n      height: '48px',\n      left: '100%',\n      marginTop: '1rem',\n      padding: 2,\n      position: 'absolute',\n      width: '23px',\n      zIndex: theme.zIndex.drawer\n    },\n    toggleButton: {\n      marginBottom: 12,\n      marginTop: 12,\n      padding: 0\n    }\n  };\n};\n\nvar enhance = compose(withTranslation(), withStyles(styles), connect(mapStateToProps, mapDispatchToProps), withPlugins('CompanionArea'));\nexport default enhance(CompanionArea);","function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport { Button, Chip, Dialog, DialogActions, DialogTitle, Link, MenuList, MenuItem, Typography } from '@material-ui/core';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBackSharp';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport asArray from '../lib/asArray';\nimport { LabelValueMetadata } from './LabelValueMetadata';\nimport CollapsibleSection from '../containers/CollapsibleSection';\nimport ScrollIndicatedDialogContent from '../containers/ScrollIndicatedDialogContent';\nimport ManifestInfo from '../containers/ManifestInfo';\n/**\n * a dialog providing the possibility to select the collection\n */\n\nexport var CollectionDialog = /*#__PURE__*/function (_Component) {\n  _inherits(CollectionDialog, _Component);\n\n  var _super = _createSuper(CollectionDialog);\n\n  /** */\n  function CollectionDialog(props) {\n    var _this;\n\n    _classCallCheck(this, CollectionDialog);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      filter: null\n    };\n    _this.hideDialog = _this.hideDialog.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /** */\n\n\n  _createClass(CollectionDialog, [{\n    key: \"setFilter\",\n    value: function setFilter(filter) {\n      this.setState({\n        filter: filter\n      });\n    }\n    /** */\n\n  }, {\n    key: \"hideDialog\",\n    value: function hideDialog() {\n      var _this$props = this.props,\n          hideCollectionDialog = _this$props.hideCollectionDialog,\n          windowId = _this$props.windowId;\n      hideCollectionDialog(windowId);\n    }\n    /** */\n\n  }, {\n    key: \"selectCollection\",\n    value: function selectCollection(c) {\n      var _this$props2 = this.props,\n          collectionPath = _this$props2.collectionPath,\n          manifestId = _this$props2.manifestId,\n          showCollectionDialog = _this$props2.showCollectionDialog,\n          windowId = _this$props2.windowId;\n      showCollectionDialog(c.id, [].concat(_toConsumableArray(collectionPath), [manifestId]), windowId);\n    }\n    /** */\n\n  }, {\n    key: \"goToPreviousCollection\",\n    value: function goToPreviousCollection() {\n      var _this$props3 = this.props,\n          collectionPath = _this$props3.collectionPath,\n          showCollectionDialog = _this$props3.showCollectionDialog,\n          windowId = _this$props3.windowId;\n      showCollectionDialog(collectionPath[collectionPath.length - 1], collectionPath.slice(0, -1), windowId);\n    }\n    /** */\n\n  }, {\n    key: \"selectManifest\",\n    value: function selectManifest(m) {\n      var _this$props4 = this.props,\n          addWindow = _this$props4.addWindow,\n          collectionPath = _this$props4.collectionPath,\n          manifestId = _this$props4.manifestId,\n          setWorkspaceAddVisibility = _this$props4.setWorkspaceAddVisibility,\n          updateWindow = _this$props4.updateWindow,\n          windowId = _this$props4.windowId;\n\n      if (windowId) {\n        updateWindow(windowId, {\n          canvasId: null,\n          collectionPath: [].concat(_toConsumableArray(collectionPath), [manifestId]),\n          manifestId: m.id\n        });\n      } else {\n        addWindow({\n          collectionPath: [].concat(_toConsumableArray(collectionPath), [manifestId]),\n          manifestId: m.id\n        });\n      }\n\n      this.hideDialog();\n      setWorkspaceAddVisibility(false);\n    }\n    /** */\n\n  }, {\n    key: \"dialogContainer\",\n    value: function dialogContainer() {\n      var _this$props5 = this.props,\n          containerId = _this$props5.containerId,\n          windowId = _this$props5.windowId;\n      return document.querySelector(\"#\".concat(containerId, \" #\").concat(windowId));\n    }\n    /** */\n\n  }, {\n    key: \"placeholder\",\n    value: function placeholder() {\n      var classes = this.props.classes;\n      return /*#__PURE__*/React.createElement(Dialog, {\n        className: classes.dialog,\n        onClose: this.hideDialog,\n        open: true,\n        container: this.dialogContainer(),\n        BackdropProps: this.backdropProps()\n      }, /*#__PURE__*/React.createElement(DialogTitle, {\n        id: \"select-collection\",\n        disableTypography: true\n      }, /*#__PURE__*/React.createElement(Skeleton, {\n        className: classes.placeholder,\n        variant: \"text\"\n      })), /*#__PURE__*/React.createElement(ScrollIndicatedDialogContent, null, /*#__PURE__*/React.createElement(Skeleton, {\n        className: classes.placeholder,\n        variant: \"text\"\n      }), /*#__PURE__*/React.createElement(Skeleton, {\n        className: classes.placeholder,\n        variant: \"text\"\n      })));\n    }\n    /** */\n\n  }, {\n    key: \"backdropProps\",\n    value: function backdropProps() {\n      var classes = this.props.classes;\n      return {\n        classes: {\n          root: classes.dialog\n        }\n      };\n    }\n    /** */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props6 = this.props,\n          classes = _this$props6.classes,\n          collection = _this$props6.collection,\n          error = _this$props6.error,\n          isMultipart = _this$props6.isMultipart,\n          manifest = _this$props6.manifest,\n          ready = _this$props6.ready,\n          t = _this$props6.t;\n      var filter = this.state.filter;\n      if (error) return null; // If this component is optimistically rendering ahead of the window its in\n      // force a re-render so that it is placed correctly. The right thing here is\n      // to maybe pass a ref.\n\n      if (!this.dialogContainer()) {\n        this.forceUpdate();\n        return /*#__PURE__*/React.createElement(React.Fragment, null);\n      }\n\n      if (!ready) return this.placeholder();\n      var rights = manifest && asArray(manifest.getProperty('rights') || manifest.getProperty('license'));\n      var requiredStatement = manifest && asArray(manifest.getRequiredStatement()).filter(function (l) {\n        return l.getValue();\n      }).map(function (labelValuePair) {\n        return {\n          label: null,\n          values: labelValuePair.getValues()\n        };\n      });\n      var collections = manifest.getCollections();\n      var currentFilter = filter || (collections.length > 0 ? 'collections' : 'manifests');\n      return /*#__PURE__*/React.createElement(Dialog, {\n        className: classes.dialog,\n        onClose: this.hideDialog,\n        container: this.dialogContainer(),\n        BackdropProps: this.backdropProps(),\n        open: true\n      }, /*#__PURE__*/React.createElement(DialogTitle, {\n        id: \"select-collection\",\n        disableTypography: true\n      }, /*#__PURE__*/React.createElement(Typography, {\n        component: \"div\",\n        variant: \"overline\"\n      }, t(isMultipart ? 'multipartCollection' : 'collection')), /*#__PURE__*/React.createElement(Typography, {\n        variant: \"h3\"\n      }, CollectionDialog.getUseableLabel(manifest))), /*#__PURE__*/React.createElement(ScrollIndicatedDialogContent, {\n        className: classes.dialogContent\n      }, collection && /*#__PURE__*/React.createElement(Button, {\n        startIcon: /*#__PURE__*/React.createElement(ArrowBackIcon, null),\n        onClick: function onClick() {\n          return _this2.goToPreviousCollection();\n        }\n      }, CollectionDialog.getUseableLabel(collection)), /*#__PURE__*/React.createElement(\"div\", {\n        className: classes.collectionMetadata\n      }, /*#__PURE__*/React.createElement(ManifestInfo, {\n        manifestId: manifest.id\n      }), /*#__PURE__*/React.createElement(CollapsibleSection, {\n        id: \"select-collection-rights\",\n        label: t('attributionTitle')\n      }, requiredStatement && /*#__PURE__*/React.createElement(LabelValueMetadata, {\n        labelValuePairs: requiredStatement,\n        defaultLabel: t('attribution')\n      }), rights && rights.length > 0 && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Typography, {\n        variant: \"subtitle2\",\n        component: \"dt\"\n      }, t('rights')), rights.map(function (v) {\n        return /*#__PURE__*/React.createElement(Typography, {\n          variant: \"body1\",\n          component: \"dd\",\n          key: v\n        }, /*#__PURE__*/React.createElement(Link, {\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          href: v\n        }, v));\n      })))), /*#__PURE__*/React.createElement(\"div\", {\n        className: classes.collectionFilter\n      }, manifest.getTotalCollections() > 0 && /*#__PURE__*/React.createElement(Chip, {\n        clickable: true,\n        color: currentFilter === 'collections' ? 'primary' : 'default',\n        onClick: function onClick() {\n          return _this2.setFilter('collections');\n        },\n        label: t('totalCollections', {\n          count: manifest.getTotalCollections()\n        })\n      }), manifest.getTotalManifests() > 0 && /*#__PURE__*/React.createElement(Chip, {\n        clickable: true,\n        color: currentFilter === 'manifests' ? 'primary' : 'default',\n        onClick: function onClick() {\n          return _this2.setFilter('manifests');\n        },\n        label: t('totalManifests', {\n          count: manifest.getTotalManifests()\n        })\n      })), currentFilter === 'collections' && /*#__PURE__*/React.createElement(MenuList, null, collections.map(function (c) {\n        return /*#__PURE__*/React.createElement(MenuItem, {\n          key: c.id,\n          onClick: function onClick() {\n            _this2.selectCollection(c);\n          },\n          className: classes.collectionItem\n        }, CollectionDialog.getUseableLabel(c));\n      })), currentFilter === 'manifests' && /*#__PURE__*/React.createElement(MenuList, null, manifest.getManifests().map(function (m) {\n        return /*#__PURE__*/React.createElement(MenuItem, {\n          key: m.id,\n          onClick: function onClick() {\n            _this2.selectManifest(m);\n          },\n          className: classes.collectionItem\n        }, CollectionDialog.getUseableLabel(m));\n      }))), /*#__PURE__*/React.createElement(DialogActions, null, /*#__PURE__*/React.createElement(Button, {\n        onClick: this.hideDialog\n      }, t('close'))));\n    }\n  }], [{\n    key: \"getUseableLabel\",\n    value:\n    /** */\n    function getUseableLabel(resource, index) {\n      return resource && resource.getLabel && resource.getLabel().length > 0 ? resource.getLabel().getValue() : String(index + 1);\n    }\n  }]);\n\n  return CollectionDialog;\n}(Component);\nCollectionDialog.defaultProps = {\n  collection: null,\n  collectionPath: [],\n  containerId: null,\n  error: null,\n  isMultipart: false,\n  ready: false,\n  windowId: null\n};","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withStyles } from '@material-ui/core';\nimport { withTranslation } from 'react-i18next';\nimport { withPlugins } from '../extend/withPlugins';\nimport * as actions from '../state/actions';\nimport { getContainerId, getManifest, getManifestoInstance, getSequenceBehaviors, getWindow } from '../state/selectors';\nimport { CollectionDialog } from '../components/CollectionDialog';\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof CollectionDialog\n * @private\n */\n\nvar mapDispatchToProps = {\n  addWindow: actions.addWindow,\n  hideCollectionDialog: actions.hideCollectionDialog,\n  setWorkspaceAddVisibility: actions.setWorkspaceAddVisibility,\n  showCollectionDialog: actions.showCollectionDialog,\n  updateWindow: actions.updateWindow\n};\n/**\n * mapStateToProps - to hook up connect\n * @memberof CollectionDialog\n * @private\n */\n\nvar mapStateToProps = function mapStateToProps(state, _ref) {\n  var windowId = _ref.windowId;\n\n  var _getWindow = getWindow(state, {\n    windowId: windowId\n  }),\n      collectionPath = _getWindow.collectionPath,\n      manifestId = _getWindow.collectionManifestId;\n\n  var manifest = getManifest(state, {\n    manifestId: manifestId\n  });\n  var collectionId = collectionPath && collectionPath[collectionPath.length - 1];\n  var collection = collectionId && getManifest(state, {\n    manifestId: collectionId\n  });\n  return {\n    collection: collection && getManifestoInstance(state, {\n      manifestId: collection.id\n    }),\n    collectionPath: collectionPath,\n    containerId: getContainerId(state),\n    error: manifest && manifest.error,\n    isMultipart: getSequenceBehaviors(state, {\n      manifestId: manifestId\n    }).includes('multi-part'),\n    manifest: manifest && getManifestoInstance(state, {\n      manifestId: manifestId\n    }),\n    manifestId: manifestId,\n    open: state.workspace.collectionDialogOn,\n    ready: manifest && !!manifest.json,\n    windowId: windowId\n  };\n};\n/** */\n\n\nvar styles = function styles(theme) {\n  return {\n    collectionFilter: {\n      padding: '16px',\n      paddingTop: 0\n    },\n    collectionItem: {\n      whiteSpace: 'normal'\n    },\n    collectionMetadata: {\n      padding: '16px'\n    },\n    dark: {\n      color: '#000000'\n    },\n    dialog: {\n      position: 'absolute !important'\n    },\n    dialogContent: {\n      padding: theme.spacing(1)\n    },\n    light: {\n      color: theme.palette.grey[400]\n    },\n    listitem: {\n      '&:focus': {\n        backgroundColor: theme.palette.action.focus\n      },\n      '&:hover': {\n        backgroundColor: theme.palette.action.hover\n      },\n      cursor: 'pointer'\n    }\n  };\n};\n\nvar enhance = compose(withTranslation(), withStyles(styles), connect(mapStateToProps, mapDispatchToProps), withPlugins('CollectionDialog'));\nexport default enhance(CollectionDialog);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component, lazy, Suspense } from 'react';\nimport classNames from 'classnames';\nimport WindowSideBar from '../containers/WindowSideBar';\nimport CompanionArea from '../containers/CompanionArea';\nimport CollectionDialog from '../containers/CollectionDialog';\nimport ns from '../config/css-ns';\nvar AudioViewer = /*#__PURE__*/lazy(function () {\n  return import('../containers/AudioViewer');\n});\nvar GalleryView = /*#__PURE__*/lazy(function () {\n  return import('../containers/GalleryView');\n});\nvar SelectCollection = /*#__PURE__*/lazy(function () {\n  return import('../containers/SelectCollection');\n});\nvar WindowViewer = /*#__PURE__*/lazy(function () {\n  return import('../containers/WindowViewer');\n});\nvar VideoViewer = /*#__PURE__*/lazy(function () {\n  return import('../containers/VideoViewer');\n});\nGalleryView.displayName = 'GalleryView';\nSelectCollection.displayName = 'SelectCollection';\nWindowViewer.displayName = 'WindowViewer';\n/**\n * PrimaryWindow - component that renders the primary content of a Mirador\n * window. Right now this differentiates between a Image, Video, or Audio viewer.\n */\n\nexport var PrimaryWindow = /*#__PURE__*/function (_Component) {\n  _inherits(PrimaryWindow, _Component);\n\n  var _super = _createSuper(PrimaryWindow);\n\n  function PrimaryWindow() {\n    _classCallCheck(this, PrimaryWindow);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(PrimaryWindow, [{\n    key: \"renderViewer\",\n    value:\n    /**\n     * renderViewer - logic used to determine what type of view to show\n     *\n     * @return {(String|null)}\n     */\n    function renderViewer() {\n      var _this$props = this.props,\n          audioResources = _this$props.audioResources,\n          isCollection = _this$props.isCollection,\n          isFetching = _this$props.isFetching,\n          videoResources = _this$props.videoResources,\n          view = _this$props.view,\n          windowId = _this$props.windowId;\n\n      if (isCollection) {\n        return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(SelectCollection, {\n          windowId: windowId\n        }));\n      }\n\n      if (isFetching === false) {\n        if (view === 'gallery') {\n          return /*#__PURE__*/React.createElement(GalleryView, {\n            windowId: windowId\n          });\n        }\n\n        if (videoResources.length > 0) {\n          return /*#__PURE__*/React.createElement(VideoViewer, {\n            windowId: windowId\n          });\n        }\n\n        if (audioResources.length > 0) {\n          return /*#__PURE__*/React.createElement(AudioViewer, {\n            windowId: windowId\n          });\n        }\n\n        return /*#__PURE__*/React.createElement(WindowViewer, {\n          windowId: windowId\n        });\n      }\n\n      return null;\n    }\n    /**\n     * Render the component\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          isCollectionDialogVisible = _this$props2.isCollectionDialogVisible,\n          windowId = _this$props2.windowId,\n          classes = _this$props2.classes,\n          children = _this$props2.children;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: classNames(ns('primary-window'), classes.primaryWindow)\n      }, /*#__PURE__*/React.createElement(WindowSideBar, {\n        windowId: windowId\n      }), /*#__PURE__*/React.createElement(CompanionArea, {\n        windowId: windowId,\n        position: \"left\"\n      }), isCollectionDialogVisible && /*#__PURE__*/React.createElement(CollectionDialog, {\n        windowId: windowId\n      }), /*#__PURE__*/React.createElement(Suspense, {\n        fallback: /*#__PURE__*/React.createElement(\"div\", null)\n      }, children || this.renderViewer()));\n    }\n  }]);\n\n  return PrimaryWindow;\n}(Component);\nPrimaryWindow.defaultProps = {\n  audioResources: [],\n  children: undefined,\n  isCollection: false,\n  isCollectionDialogVisible: false,\n  isFetching: false,\n  videoResources: [],\n  view: undefined\n};","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withStyles } from '@material-ui/core/styles';\nimport { withPlugins } from '../extend/withPlugins';\nimport { getManifestoInstance, getVisibleCanvasAudioResources, getVisibleCanvasVideoResources, getWindow } from '../state/selectors';\nimport { PrimaryWindow } from '../components/PrimaryWindow';\n/** */\n\nvar mapStateToProps = function mapStateToProps(state, _ref) {\n  var windowId = _ref.windowId;\n  var manifestoInstance = getManifestoInstance(state, {\n    windowId: windowId\n  });\n  return {\n    audioResources: getVisibleCanvasAudioResources(state, {\n      windowId: windowId\n    }) || [],\n    isCollection: manifestoInstance && manifestoInstance.isCollection(),\n    isCollectionDialogVisible: getWindow(state, {\n      windowId: windowId\n    }).collectionDialogOn,\n    videoResources: getVisibleCanvasVideoResources(state, {\n      windowId: windowId\n    }) || []\n  };\n};\n\nvar styles = {\n  primaryWindow: {\n    display: 'flex',\n    flex: 1,\n    position: 'relative'\n  }\n};\nvar enhance = compose(withStyles(styles), connect(mapStateToProps, null), withPlugins('PrimaryWindow'));\nexport default enhance(PrimaryWindow);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport MenuIcon from '@material-ui/icons/MenuSharp';\nimport cn from 'classnames';\nimport Paper from '@material-ui/core/Paper';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/CloseSharp';\nimport MiradorMenuButton from '../containers/MiradorMenuButton';\nimport ns from '../config/css-ns';\n/** */\n\nexport var MinimalWindow = /*#__PURE__*/function (_Component) {\n  _inherits(MinimalWindow, _Component);\n\n  var _super = _createSuper(MinimalWindow);\n\n  function MinimalWindow() {\n    _classCallCheck(this, MinimalWindow);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(MinimalWindow, [{\n    key: \"render\",\n    value:\n    /** */\n    function render() {\n      var _this$props = this.props,\n          allowClose = _this$props.allowClose,\n          allowWindowSideBar = _this$props.allowWindowSideBar,\n          ariaLabel = _this$props.ariaLabel,\n          children = _this$props.children,\n          classes = _this$props.classes,\n          label = _this$props.label,\n          removeWindow = _this$props.removeWindow,\n          t = _this$props.t,\n          windowId = _this$props.windowId;\n      return /*#__PURE__*/React.createElement(Paper, {\n        component: \"section\",\n        elevation: 1,\n        id: windowId,\n        className: cn(classes.window, ns('placeholder-window')),\n        \"aria-label\": label && ariaLabel ? t('window', {\n          label: label\n        }) : null\n      }, /*#__PURE__*/React.createElement(AppBar, {\n        position: \"relative\",\n        color: \"default\"\n      }, /*#__PURE__*/React.createElement(Toolbar, {\n        disableGutters: true,\n        className: cn(classes.windowTopBarStyle, ns('window-top-bar')),\n        variant: \"dense\"\n      }, allowWindowSideBar && /*#__PURE__*/React.createElement(MiradorMenuButton, {\n        \"aria-label\": t('toggleWindowSideBar'),\n        disabled: true\n      }, /*#__PURE__*/React.createElement(MenuIcon, null)), /*#__PURE__*/React.createElement(Typography, {\n        variant: \"h2\",\n        noWrap: true,\n        color: \"inherit\",\n        className: classes.title\n      }, label), allowClose && removeWindow && /*#__PURE__*/React.createElement(MiradorMenuButton, {\n        \"aria-label\": t('closeWindow'),\n        className: cn(classes.button, ns('window-close')),\n        onClick: removeWindow,\n        TooltipProps: {\n          tabIndex: ariaLabel ? '0' : '-1'\n        }\n      }, /*#__PURE__*/React.createElement(CloseIcon, null)))), children);\n    }\n  }]);\n\n  return MinimalWindow;\n}(Component);\nMinimalWindow.defaultProps = {\n  allowClose: true,\n  allowWindowSideBar: true,\n  ariaLabel: true,\n  children: null,\n  classes: {},\n  label: '',\n  removeWindow: function removeWindow() {},\n  t: function t(key) {\n    return key;\n  }\n};","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles } from '@material-ui/core/styles';\nimport { withPlugins } from '../extend/withPlugins';\nimport * as actions from '../state/actions';\nimport { MinimalWindow } from '../components/MinimalWindow';\nimport { getWindowConfig } from '../state/selectors';\n/** mapStateToProps */\n\nvar mapStateToProps = function mapStateToProps(state, _ref) {\n  var windowId = _ref.windowId;\n  return {\n    allowClose: getWindowConfig(state, {\n      windowId: windowId\n    }).allowClose,\n    allowWindowSideBar: getWindowConfig(state, {\n      windowId: windowId\n    }).allowWindowSideBar\n  };\n};\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof ManifestListItem\n * @private\n */\n\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch, _ref2) {\n  var windowId = _ref2.windowId;\n  return {\n    removeWindow: function removeWindow() {\n      return dispatch(actions.removeWindow(windowId));\n    }\n  };\n};\n/**\n * @param theme\n * @returns {{typographyBody: {flexGrow: number, fontSize: number|string},\n * windowTopBarStyle: {minHeight: number, paddingLeft: number, backgroundColor: string}}}\n */\n\n\nvar styles = function styles(theme) {\n  return {\n    button: {\n      marginLeft: 'auto'\n    },\n    title: _objectSpread(_objectSpread({}, theme.typography.h6), {}, {\n      flexGrow: 1,\n      paddingLeft: theme.spacing(0.5)\n    }),\n    window: {\n      backgroundColor: theme.palette.shades.dark,\n      borderRadius: 0,\n      display: 'flex',\n      flexDirection: 'column',\n      height: '100%',\n      minHeight: 0,\n      overflow: 'hidden',\n      width: '100%'\n    },\n    windowTopBarStyle: {\n      backgroundColor: theme.palette.shades.main,\n      borderTop: '2px solid transparent',\n      minHeight: 32,\n      paddingLeft: theme.spacing(0.5),\n      paddingRight: theme.spacing(0.5)\n    }\n  };\n};\n\nvar enhance = compose(withTranslation(), withStyles(styles), connect(mapStateToProps, mapDispatchToProps), withPlugins('MinimalWindow'));\nexport default enhance(MinimalWindow);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport IComCom from 'icomcom-react';\n/**\n * Opens a new window for click\n */\n\nexport var AccessTokenSender = /*#__PURE__*/function (_Component) {\n  _inherits(AccessTokenSender, _Component);\n\n  var _super = _createSuper(AccessTokenSender);\n\n  /** */\n  function AccessTokenSender(props) {\n    var _this;\n\n    _classCallCheck(this, AccessTokenSender);\n\n    _this = _super.call(this, props);\n    _this.onReceiveAccessTokenMessage = _this.onReceiveAccessTokenMessage.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /** @private */\n\n\n  _createClass(AccessTokenSender, [{\n    key: \"onReceiveAccessTokenMessage\",\n    value: function onReceiveAccessTokenMessage(e) {\n      var _this$props = this.props,\n          handleAccessTokenMessage = _this$props.handleAccessTokenMessage,\n          url = _this$props.url;\n      if (e.data && e.data.messageId && e.data.messageId === url) handleAccessTokenMessage(e.data);\n    }\n    /** */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var url = this.props.url;\n      if (!url) return /*#__PURE__*/React.createElement(React.Fragment, null);\n      /**\n      login, clickthrough/kiosk open @id, wait for close\n      external, no-op\n      */\n\n      return /*#__PURE__*/React.createElement(IComCom, {\n        attributes: {\n          'aria-hidden': true,\n          height: 1,\n          src: \"\".concat(url, \"?origin=\").concat(window.origin, \"&messageId=\").concat(url),\n          style: {\n            visibility: 'hidden'\n          },\n          width: 1\n        },\n        handleReceiveMessage: this.onReceiveAccessTokenMessage\n      });\n    }\n  }]);\n\n  return AccessTokenSender;\n}(Component);\nAccessTokenSender.defaultProps = {\n  url: undefined\n};","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport { Component } from 'react';\n\n/**\n * Opens a new window for click\n */\nexport var NewWindow = /*#__PURE__*/function (_Component) {\n  _inherits(NewWindow, _Component);\n\n  var _super = _createSuper(NewWindow);\n\n  /** */\n  function NewWindow(props) {\n    var _this;\n\n    _classCallCheck(this, NewWindow);\n\n    _this = _super.call(this, props);\n    _this.released = undefined;\n    _this.window = null;\n    _this.checkIfWindowClosed = null;\n    return _this;\n  }\n  /** */\n\n\n  _createClass(NewWindow, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.openWindow();\n    }\n    /**\n     * Close the opened window we unmount\n     */\n\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this.window) {\n        this.window.close();\n      }\n    }\n    /** @private */\n\n  }, {\n    key: \"onClose\",\n    value: function onClose() {\n      var _this$props = this.props,\n          onClose = _this$props.onClose,\n          url = _this$props.url;\n      if (this.released) return;\n      this.released = true;\n      clearInterval(this.checkIfWindowClosed);\n      onClose(url);\n    }\n    /** */\n\n  }, {\n    key: \"openWindow\",\n    value: function openWindow() {\n      var _this2 = this;\n\n      var _this$props2 = this.props,\n          depWindow = _this$props2.depWindow,\n          features = _this$props2.features,\n          name = _this$props2.name,\n          url = _this$props2.url;\n      this.window = (depWindow || window).open(url, name, features);\n      this.released = false;\n      this.checkIfWindowClosed = setInterval(function () {\n        if (!_this2.window || _this2.window.closed) {\n          _this2.onClose();\n        }\n      }, 250);\n    }\n    /** */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      return null;\n    }\n  }]);\n\n  return NewWindow;\n}(Component);\nNewWindow.defaultProps = {\n  depWindow: undefined,\n  features: undefined,\n  name: undefined\n};","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport Button from '@material-ui/core/Button';\nimport Paper from '@material-ui/core/Paper';\nimport Collapse from '@material-ui/core/Collapse';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Typography from '@material-ui/core/Typography';\nimport LockIcon from '@material-ui/icons/LockSharp';\nimport SanitizedHtml from '../containers/SanitizedHtml';\nimport { PluginHook } from './PluginHook';\n/** */\n\nexport var WindowAuthenticationBar = /*#__PURE__*/function (_Component) {\n  _inherits(WindowAuthenticationBar, _Component);\n\n  var _super = _createSuper(WindowAuthenticationBar);\n\n  /** */\n  function WindowAuthenticationBar(props) {\n    var _this;\n\n    _classCallCheck(this, WindowAuthenticationBar);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      open: false\n    };\n    _this.setOpen = _this.setOpen.bind(_assertThisInitialized(_this));\n    _this.onSubmit = _this.onSubmit.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /** */\n\n\n  _createClass(WindowAuthenticationBar, [{\n    key: \"onSubmit\",\n    value: function onSubmit() {\n      var onConfirm = this.props.onConfirm;\n      this.setOpen(false);\n      onConfirm();\n    }\n    /** Toggle the full description */\n\n  }, {\n    key: \"setOpen\",\n    value: function setOpen(open) {\n      this.setState(function (state) {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          open: open\n        });\n      });\n    }\n    /** */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          confirmButton = _this$props.confirmButton,\n          continueLabel = _this$props.continueLabel,\n          header = _this$props.header,\n          description = _this$props.description,\n          icon = _this$props.icon,\n          label = _this$props.label,\n          t = _this$props.t,\n          ruleSet = _this$props.ruleSet,\n          hasLogoutService = _this$props.hasLogoutService,\n          status = _this$props.status,\n          ConfirmProps = _this$props.ConfirmProps;\n      if (status === 'ok' && !hasLogoutService) return null;\n      var open = this.state.open;\n      var button = /*#__PURE__*/React.createElement(Button, Object.assign({\n        onClick: this.onSubmit,\n        className: classes.buttonInvert,\n        color: \"secondary\"\n      }, ConfirmProps), confirmButton || t('login'));\n\n      if (!description && !header) {\n        return /*#__PURE__*/React.createElement(Paper, {\n          square: true,\n          elevation: 4,\n          color: \"secondary\",\n          classes: {\n            root: classes.paper\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: classes.topBar\n        }, icon || /*#__PURE__*/React.createElement(LockIcon, {\n          className: classes.icon\n        }), /*#__PURE__*/React.createElement(Typography, {\n          className: classes.label,\n          component: \"h3\",\n          variant: \"body1\",\n          color: \"inherit\"\n        }, ruleSet ? /*#__PURE__*/React.createElement(SanitizedHtml, {\n          htmlString: label,\n          ruleSet: ruleSet\n        }) : label), /*#__PURE__*/React.createElement(PluginHook, this.props), button));\n      }\n\n      return /*#__PURE__*/React.createElement(Paper, {\n        square: true,\n        elevation: 4,\n        color: \"secondary\",\n        classes: {\n          root: classes.paper\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        fullWidth: true,\n        className: classes.topBar,\n        onClick: function onClick() {\n          return _this2.setOpen(true);\n        },\n        component: \"div\",\n        color: \"inherit\"\n      }, icon || /*#__PURE__*/React.createElement(LockIcon, {\n        className: classes.icon\n      }), /*#__PURE__*/React.createElement(Typography, {\n        className: classes.label,\n        component: \"h3\",\n        variant: \"body1\",\n        color: \"inherit\"\n      }, ruleSet ? /*#__PURE__*/React.createElement(SanitizedHtml, {\n        htmlString: label,\n        ruleSet: ruleSet\n      }) : label), /*#__PURE__*/React.createElement(PluginHook, this.props), /*#__PURE__*/React.createElement(\"span\", {\n        className: classes.fauxButton\n      }, !open && /*#__PURE__*/React.createElement(Typography, {\n        variant: \"button\",\n        color: \"inherit\"\n      }, continueLabel || t('continue')))), /*#__PURE__*/React.createElement(Collapse, {\n        \"in\": open,\n        onClose: function onClose() {\n          return _this2.setOpen(false);\n        }\n      }, /*#__PURE__*/React.createElement(Typography, {\n        variant: \"body1\",\n        color: \"inherit\",\n        className: classes.expanded\n      }, ruleSet ? /*#__PURE__*/React.createElement(SanitizedHtml, {\n        htmlString: header,\n        ruleSet: ruleSet\n      }) : header, header && description ? ': ' : '', ruleSet ? /*#__PURE__*/React.createElement(SanitizedHtml, {\n        htmlString: description,\n        ruleSet: ruleSet\n      }) : description), /*#__PURE__*/React.createElement(DialogActions, null, /*#__PURE__*/React.createElement(Button, {\n        onClick: function onClick() {\n          return _this2.setOpen(false);\n        },\n        color: \"inherit\"\n      }, t('cancel')), button)));\n    }\n  }]);\n\n  return WindowAuthenticationBar;\n}(Component);\nWindowAuthenticationBar.defaultProps = {\n  confirmButton: undefined,\n  ConfirmProps: {},\n  continueLabel: undefined,\n  description: undefined,\n  hasLogoutService: true,\n  header: undefined,\n  icon: undefined,\n  ruleSet: 'iiif',\n  status: undefined,\n  t: function t(k) {\n    return k;\n  }\n};","import { compose } from 'redux';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles } from '@material-ui/core/styles';\nimport { fade } from '@material-ui/core/styles/colorManipulator';\nimport { withPlugins } from '../extend/withPlugins';\nimport { WindowAuthenticationBar } from '../components/WindowAuthenticationBar';\n/**\n * @param theme\n * @returns {{typographyBody: {flexGrow: number, fontSize: number|string},\n * windowTopBarStyle: {minHeight: number, paddingLeft: number, backgroundColor: string}}}\n */\n\nvar styles = function styles(theme) {\n  return {\n    buttonInvert: {\n      '&:hover': {\n        backgroundColor: fade(theme.palette.secondary.contrastText, 1 - theme.palette.action.hoverOpacity)\n      },\n      backgroundColor: theme.palette.secondary.contrastText,\n      marginLeft: theme.spacing(5),\n      paddingBottom: 0,\n      paddingTop: 0\n    },\n    expanded: {\n      paddingLeft: theme.spacing(),\n      paddingRight: theme.spacing()\n    },\n    failure: {\n      backgroundColor: theme.palette.error.dark\n    },\n    fauxButton: {\n      marginLeft: theme.spacing(2.5)\n    },\n    icon: {\n      marginRight: theme.spacing(1.5),\n      verticalAlign: 'text-bottom'\n    },\n    label: {\n      lineHeight: 2.25\n    },\n    paper: {\n      backgroundColor: theme.palette.secondary.main,\n      color: theme.palette.secondary.contrastText,\n      cursor: 'pointer'\n    },\n    topBar: {\n      '&:hover': {\n        backgroundColor: theme.palette.secondary.main\n      },\n      alignItems: 'center',\n      display: 'flex',\n      justifyContent: 'inherit',\n      padding: theme.spacing(1),\n      textTransform: 'none'\n    }\n  };\n};\n\nvar enhance = compose(withTranslation(), withStyles(styles), withPlugins('WindowAuthenticationBar'));\nexport default enhance(WindowAuthenticationBar);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport { AccessTokenSender } from './AccessTokenSender';\nimport { NewWindow } from './NewWindow';\nimport WindowAuthenticationBar from '../containers/WindowAuthenticationBar';\n/**\n * Opens a new window for click\n */\n\nexport var IIIFAuthentication = /*#__PURE__*/function (_Component) {\n  _inherits(IIIFAuthentication, _Component);\n\n  var _super = _createSuper(IIIFAuthentication);\n\n  /** */\n  function IIIFAuthentication(props) {\n    var _this;\n\n    _classCallCheck(this, IIIFAuthentication);\n\n    _this = _super.call(this, props);\n    _this.performLogout = _this.performLogout.bind(_assertThisInitialized(_this));\n    _this.onReceiveAccessTokenMessage = _this.onReceiveAccessTokenMessage.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /** */\n\n\n  _createClass(IIIFAuthentication, [{\n    key: \"onReceiveAccessTokenMessage\",\n    value: function onReceiveAccessTokenMessage(payload) {\n      var _this$props = this.props,\n          authServiceId = _this$props.authServiceId,\n          accessTokenServiceId = _this$props.accessTokenServiceId,\n          resolveAccessTokenRequest = _this$props.resolveAccessTokenRequest;\n      resolveAccessTokenRequest(authServiceId, accessTokenServiceId, payload);\n    }\n    /** */\n\n  }, {\n    key: \"defaultAuthBarProps\",\n    value: function defaultAuthBarProps() {\n      var _this$props2 = this.props,\n          authServiceId = _this$props2.authServiceId,\n          windowId = _this$props2.windowId,\n          status = _this$props2.status,\n          logoutServiceId = _this$props2.logoutServiceId;\n      return {\n        authServiceId: authServiceId,\n        hasLogoutService: !!logoutServiceId,\n        status: status,\n        windowId: windowId\n      };\n    }\n    /** handle the IIIF logout workflow */\n\n  }, {\n    key: \"performLogout\",\n    value: function performLogout() {\n      var _this$props3 = this.props,\n          accessTokenServiceId = _this$props3.accessTokenServiceId,\n          authServiceId = _this$props3.authServiceId,\n          features = _this$props3.features,\n          logoutServiceId = _this$props3.logoutServiceId,\n          resetAuthenticationState = _this$props3.resetAuthenticationState,\n          openWindow = _this$props3.openWindow;\n      openWindow(logoutServiceId, undefined, features);\n      resetAuthenticationState({\n        authServiceId: authServiceId,\n        tokenServiceId: accessTokenServiceId\n      });\n    }\n    /** Render the auth bar for logged in users */\n\n  }, {\n    key: \"renderLoggedIn\",\n    value: function renderLoggedIn() {\n      var _this$props4 = this.props,\n          isInteractive = _this$props4.isInteractive,\n          logoutConfirm = _this$props4.logoutConfirm,\n          t = _this$props4.t;\n      if (!isInteractive) return null;\n      return /*#__PURE__*/React.createElement(WindowAuthenticationBar, Object.assign({\n        confirmButton: logoutConfirm || t('logout'),\n        onConfirm: this.performLogout\n      }, this.defaultAuthBarProps()));\n    }\n    /** Render whatever shows up after the interactive login attempt fails */\n\n  }, {\n    key: \"renderFailure\",\n    value: function renderFailure() {\n      var _this$props5 = this.props,\n          handleAuthInteraction = _this$props5.handleAuthInteraction,\n          header = _this$props5.failureHeader,\n          description = _this$props5.failureDescription,\n          t = _this$props5.t,\n          authServiceId = _this$props5.authServiceId,\n          windowId = _this$props5.windowId;\n      return /*#__PURE__*/React.createElement(WindowAuthenticationBar, Object.assign({\n        header: header,\n        description: description,\n        confirmButton: t('retry'),\n        onConfirm: function onConfirm() {\n          return handleAuthInteraction(windowId, authServiceId);\n        }\n      }, this.defaultAuthBarProps()));\n    }\n    /** Render the login bar after we're logging in */\n\n  }, {\n    key: \"renderLoggingInCookie\",\n    value: function renderLoggingInCookie() {\n      var _this$props6 = this.props,\n          accessTokenServiceId = _this$props6.accessTokenServiceId,\n          authServiceId = _this$props6.authServiceId,\n          resolveAuthenticationRequest = _this$props6.resolveAuthenticationRequest,\n          features = _this$props6.features;\n      return /*#__PURE__*/React.createElement(React.Fragment, null, this.renderLogin(), /*#__PURE__*/React.createElement(NewWindow, {\n        name: \"IiifLoginSender\",\n        url: \"\".concat(authServiceId, \"?origin=\").concat(window.origin),\n        features: features,\n        onClose: function onClose() {\n          return resolveAuthenticationRequest(authServiceId, accessTokenServiceId);\n        }\n      }));\n    }\n    /** Render the login bar after we're logging in */\n\n  }, {\n    key: \"renderLoggingInToken\",\n    value: function renderLoggingInToken() {\n      var accessTokenServiceId = this.props.accessTokenServiceId;\n      return /*#__PURE__*/React.createElement(React.Fragment, null, this.renderLogin(), /*#__PURE__*/React.createElement(AccessTokenSender, {\n        handleAccessTokenMessage: this.onReceiveAccessTokenMessage,\n        url: accessTokenServiceId\n      }));\n    }\n    /** Render a login bar */\n\n  }, {\n    key: \"renderLogin\",\n    value: function renderLogin() {\n      var _this$props7 = this.props,\n          confirm = _this$props7.confirm,\n          description = _this$props7.description,\n          handleAuthInteraction = _this$props7.handleAuthInteraction,\n          header = _this$props7.header,\n          isInteractive = _this$props7.isInteractive,\n          label = _this$props7.label,\n          authServiceId = _this$props7.authServiceId,\n          windowId = _this$props7.windowId;\n      if (!isInteractive) return null;\n      return /*#__PURE__*/React.createElement(WindowAuthenticationBar, Object.assign({\n        header: header,\n        description: description,\n        label: label,\n        confirmButton: confirm,\n        onConfirm: function onConfirm() {\n          return handleAuthInteraction(windowId, authServiceId);\n        }\n      }, this.defaultAuthBarProps()));\n    }\n    /** */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props8 = this.props,\n          authServiceId = _this$props8.authServiceId,\n          status = _this$props8.status;\n      if (!authServiceId) return null;\n      if (status === null) return this.renderLogin();\n      if (status === 'cookie') return this.renderLoggingInCookie();\n      if (status === 'token') return this.renderLoggingInToken();\n      if (status === 'failed') return this.renderFailure();\n      if (status === 'ok') return this.renderLoggedIn();\n      return null;\n    }\n  }]);\n\n  return IIIFAuthentication;\n}(Component);\nIIIFAuthentication.defaultProps = {\n  confirm: undefined,\n  description: undefined,\n  failureDescription: undefined,\n  failureHeader: undefined,\n  features: 'centerscreen',\n  header: undefined,\n  isInteractive: true,\n  label: undefined,\n  logoutConfirm: undefined,\n  logoutServiceId: undefined,\n  openWindow: window.open,\n  status: null,\n  t: function t(k) {\n    return k;\n  }\n};","import { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { withTranslation } from 'react-i18next';\nimport { Utils } from 'manifesto.js';\nimport { withPlugins } from '../extend/withPlugins';\nimport * as actions from '../state/actions';\nimport { getAuth, getAuthProfiles, selectCurrentAuthServices, getAccessTokens } from '../state/selectors';\nimport { IIIFAuthentication } from '../components/IIIFAuthentication';\n/**\n * mapStateToProps - to hook up connect\n * @memberof FullScreenButton\n * @private\n */\n\nvar mapStateToProps = function mapStateToProps(state, _ref) {\n  var windowId = _ref.windowId;\n  var services = selectCurrentAuthServices(state, {\n    windowId: windowId\n  }); // TODO: get the most actionable auth service...\n\n  var service = services[0];\n  var accessTokenService = service && (Utils.getService(service, 'http://iiif.io/api/auth/1/token') || Utils.getService(service, 'http://iiif.io/api/auth/0/token'));\n  var logoutService = service && (Utils.getService(service, 'http://iiif.io/api/auth/1/logout') || Utils.getService(service, 'http://iiif.io/api/auth/0/logout'));\n  var authStatuses = getAuth(state);\n  var authStatus = service && authStatuses[service.id];\n  var accessTokens = getAccessTokens(state);\n  var accessTokenStatus = accessTokenService && accessTokens[accessTokenService.id];\n  var status = null;\n\n  if (!authStatus) {\n    status = null;\n  } else if (authStatus.isFetching) {\n    if (authStatus.windowId === windowId) status = 'cookie';\n  } else if (accessTokenStatus && accessTokenStatus.isFetching) {\n    if (authStatus.windowId === windowId) status = 'token';\n  } else if (authStatus.ok) {\n    status = 'ok';\n  } else if (authStatus.ok === false) {\n    status = 'failed';\n  }\n\n  var authProfiles = getAuthProfiles(state);\n  var profile = service && service.getProfile();\n  var isInteractive = authProfiles.some(function (config) {\n    return config.profile === profile && !(config.external || config.kiosk);\n  });\n  return {\n    accessTokenServiceId: accessTokenService && accessTokenService.id,\n    authServiceId: service && service.id,\n    confirm: service && service.getConfirmLabel(),\n    description: service && service.getDescription(),\n    failureDescription: service && service.getFailureDescription(),\n    failureHeader: service && service.getFailureHeader(),\n    header: service && service.getHeader(),\n    isInteractive: isInteractive,\n    label: service && service.getLabel()[0].value,\n    logoutConfirm: logoutService && logoutService.getLabel()[0] && logoutService.getLabel()[0].value,\n    logoutServiceId: logoutService && logoutService.id,\n    profile: profile,\n    status: status\n  };\n};\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof ManifestListItem\n * @private\n */\n\n\nvar mapDispatchToProps = {\n  handleAuthInteraction: actions.addAuthenticationRequest,\n  resetAuthenticationState: actions.resetAuthenticationState,\n  resolveAccessTokenRequest: actions.resolveAccessTokenRequest,\n  resolveAuthenticationRequest: actions.resolveAuthenticationRequest\n};\nvar enhance = compose(withTranslation(), connect(mapStateToProps, mapDispatchToProps), withPlugins('IIIFAuthentication'));\nexport default enhance(IIIFAuthentication);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport cn from 'classnames';\nimport Paper from '@material-ui/core/Paper';\nimport { MosaicWindowContext } from 'react-mosaic-component/lib/contextTypes';\nimport ns from '../config/css-ns';\nimport WindowTopBar from '../containers/WindowTopBar';\nimport PrimaryWindow from '../containers/PrimaryWindow';\nimport CompanionArea from '../containers/CompanionArea';\nimport MinimalWindow from '../containers/MinimalWindow';\nimport ErrorContent from '../containers/ErrorContent';\nimport IIIFAuthentication from '../containers/IIIFAuthentication';\nimport { PluginHook } from './PluginHook';\n/**\n * Represents a Window in the mirador workspace\n * @param {object} window\n */\n\nexport var Window = /*#__PURE__*/function (_Component) {\n  _inherits(Window, _Component);\n\n  var _super = _createSuper(Window);\n\n  /** */\n  function Window(props) {\n    var _this;\n\n    _classCallCheck(this, Window);\n\n    _this = _super.call(this, props);\n    _this.state = {};\n    return _this;\n  }\n  /** */\n\n\n  _createClass(Window, [{\n    key: \"wrappedTopBar\",\n    value:\n    /**\n     * wrappedTopBar - will conditionally wrap a WindowTopBar for needed\n     * additional functionality based on workspace type\n     */\n    function wrappedTopBar() {\n      var _this$props = this.props,\n          windowId = _this$props.windowId,\n          workspaceType = _this$props.workspaceType,\n          windowDraggable = _this$props.windowDraggable;\n      var topBar = /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(WindowTopBar, {\n        windowId: windowId,\n        windowDraggable: windowDraggable\n      }), /*#__PURE__*/React.createElement(IIIFAuthentication, {\n        windowId: windowId\n      }));\n\n      if (workspaceType === 'mosaic' && windowDraggable) {\n        var mosaicWindowActions = this.context.mosaicWindowActions;\n        return mosaicWindowActions.connectDragSource(topBar);\n      }\n\n      return topBar;\n    }\n    /**\n     * Renders things\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          focusWindow = _this$props2.focusWindow,\n          label = _this$props2.label,\n          isFetching = _this$props2.isFetching,\n          maximized = _this$props2.maximized,\n          sideBarOpen = _this$props2.sideBarOpen,\n          view = _this$props2.view,\n          windowId = _this$props2.windowId,\n          classes = _this$props2.classes,\n          t = _this$props2.t,\n          manifestError = _this$props2.manifestError;\n      var _this$state = this.state,\n          error = _this$state.error,\n          hasError = _this$state.hasError;\n\n      if (hasError) {\n        return /*#__PURE__*/React.createElement(MinimalWindow, {\n          windowId: windowId\n        }, /*#__PURE__*/React.createElement(ErrorContent, {\n          error: error,\n          windowId: windowId\n        }));\n      }\n\n      return /*#__PURE__*/React.createElement(Paper, {\n        onFocus: focusWindow,\n        component: \"section\",\n        elevation: 1,\n        id: windowId,\n        className: cn(classes.window, ns('window'), maximized ? classes.maximized : null),\n        \"aria-label\": t('window', {\n          label: label\n        })\n      }, this.wrappedTopBar(), manifestError && /*#__PURE__*/React.createElement(ErrorContent, {\n        error: {\n          stack: manifestError\n        },\n        windowId: windowId\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: classes.middle\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: classes.middleLeft\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: classes.primaryWindow\n      }, /*#__PURE__*/React.createElement(PrimaryWindow, {\n        view: view,\n        windowId: windowId,\n        isFetching: isFetching,\n        sideBarOpen: sideBarOpen\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: classes.companionAreaBottom\n      }, /*#__PURE__*/React.createElement(CompanionArea, {\n        windowId: windowId,\n        position: \"bottom\"\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: classes.companionAreaRight\n      }, /*#__PURE__*/React.createElement(CompanionArea, {\n        windowId: windowId,\n        position: \"right\"\n      }), /*#__PURE__*/React.createElement(CompanionArea, {\n        windowId: windowId,\n        position: \"far-right\"\n      }))), /*#__PURE__*/React.createElement(CompanionArea, {\n        windowId: windowId,\n        position: \"far-bottom\"\n      }), /*#__PURE__*/React.createElement(PluginHook, this.props));\n    }\n  }], [{\n    key: \"getDerivedStateFromError\",\n    value: function getDerivedStateFromError(error) {\n      // Update state so the next render will show the fallback UI.\n      return {\n        error: error,\n        hasError: true\n      };\n    }\n  }]);\n\n  return Window;\n}(Component);\nWindow.contextType = MosaicWindowContext;\nWindow.defaultProps = {\n  classes: {},\n  focusWindow: function focusWindow() {},\n  isFetching: false,\n  label: null,\n  manifestError: null,\n  maximized: false,\n  sideBarOpen: false,\n  view: undefined,\n  windowDraggable: null,\n  workspaceType: null\n};","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withStyles } from '@material-ui/core';\nimport { withTranslation } from 'react-i18next';\nimport { withPlugins } from '../extend/withPlugins';\nimport * as actions from '../state/actions';\nimport { Window } from '../components/Window';\nimport { getManifestStatus, getManifestTitle, getThumbnailNavigationPosition, getWindow, getWorkspaceType, getWindowDraggability, getWindowViewType, getManifestError } from '../state/selectors';\n/**\n * mapStateToProps - used to hook up connect to action creators\n * @memberof Window\n * @private\n */\n\nvar mapStateToProps = function mapStateToProps(state, _ref) {\n  var windowId = _ref.windowId;\n  return {\n    isFetching: getManifestStatus(state, {\n      windowId: windowId\n    }).isFetching,\n    label: getManifestTitle(state, {\n      windowId: windowId\n    }),\n    manifestError: getManifestError(state, {\n      windowId: windowId\n    }),\n    maximized: (getWindow(state, {\n      windowId: windowId\n    }) || {}).maximized,\n    sideBarOpen: (getWindow(state, {\n      windowId: windowId\n    }) || {}).sideBarOpen,\n    thumbnailNavigationPosition: getThumbnailNavigationPosition(state, {\n      windowId: windowId\n    }),\n    view: getWindowViewType(state, {\n      windowId: windowId\n    }),\n    window: getWindow(state, {\n      windowId: windowId\n    }),\n    windowDraggable: getWindowDraggability(state, {\n      windowId: windowId\n    }),\n    workspaceType: getWorkspaceType(state)\n  };\n};\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof ManifestListItem\n * @private\n */\n\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch, _ref2) {\n  var windowId = _ref2.windowId;\n  return {\n    focusWindow: function focusWindow() {\n      return dispatch(actions.focusWindow(windowId));\n    }\n  };\n};\n/**\n * @param theme\n */\n\n\nvar styles = function styles(theme) {\n  return {\n    companionAreaBottom: {\n      display: 'flex',\n      flex: '0',\n      flexBasis: 'auto',\n      minHeight: 0\n    },\n    companionAreaRight: {\n      display: 'flex',\n      flex: '0 1 auto',\n      minHeight: 0\n    },\n    maximized: {},\n    middle: {\n      display: 'flex',\n      flex: '1',\n      flexDirection: 'row',\n      minHeight: 0\n    },\n    middleLeft: {\n      display: 'flex',\n      flex: '1',\n      flexDirection: 'column',\n      minHeight: 0\n    },\n    primaryWindow: {\n      display: 'flex',\n      flex: '1',\n      height: '300px',\n      minHeight: 0,\n      position: 'relative'\n    },\n    thumbnailArea: {\n      backgroundColor: theme.palette.shades.dark\n    },\n    thumbnailAreaBottom: {},\n    thumbnailAreaRight: {\n      minWidth: 100\n    },\n    window: {\n      '&$maximized': {\n        left: 0,\n        position: 'absolute',\n        top: 0,\n        zIndex: theme.zIndex.modal - 1\n      },\n      backgroundColor: theme.palette.shades.dark,\n      borderRadius: 0,\n      display: 'flex',\n      flexDirection: 'column',\n      height: '100%',\n      minHeight: 0,\n      overflow: 'hidden',\n      width: '100%'\n    }\n  };\n};\n\nvar enhance = compose(withTranslation(), withStyles(styles), connect(mapStateToProps, mapDispatchToProps), withPlugins('Window'));\nexport default enhance(Window);","import React from 'react';\nimport MinimalWindow from '../containers/MinimalWindow';\n/**\n * MosaicRenderPreview is used to for the preview when dragging a mosaic window/tile\n*/\n\nexport function MosaicRenderPreview(props) {\n  var t = props.t,\n      title = props.title,\n      windowId = props.windowId;\n  return /*#__PURE__*/React.createElement(MinimalWindow, {\n    windowId: \"\".concat(windowId, \"-preview\"),\n    label: t('previewWindowTitle', {\n      title: title\n    }),\n    ariaLabel: false\n  });\n}\nMosaicRenderPreview.defaultProps = {\n  t: function t(k) {\n    return k;\n  },\n  title: ''\n};","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withStyles } from '@material-ui/core/styles';\nimport { withTranslation } from 'react-i18next';\nimport { withPlugins } from '../extend/withPlugins';\nimport { getManifestTitle } from '../state/selectors';\nimport { MosaicRenderPreview } from '../components/MosaicRenderPreview';\n/** */\n\nvar mapStateToProps = function mapStateToProps(state, _ref) {\n  var windowId = _ref.windowId;\n  return {\n    title: getManifestTitle(state, {\n      windowId: windowId\n    })\n  };\n};\n/**\n *\n * @param theme\n */\n\n\nvar styles = function styles(theme) {\n  return {\n    preview: _objectSpread({}, theme.typography.h4)\n  };\n};\n\nvar enhance = compose(withStyles(styles), withTranslation(), connect(mapStateToProps, null), withPlugins('MosaicRenderPreview'));\nexport default enhance(MosaicRenderPreview);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { createRemoveUpdate, updateTree } from 'react-mosaic-component/lib/util/mosaicUpdates';\nimport { getNodeAtPath, getOtherDirection, getPathToCorner, Corner } from 'react-mosaic-component/lib/util/mosaicUtilities';\nimport dropRight from 'lodash/dropRight';\n/** */\n\nvar MosaicLayout = /*#__PURE__*/function () {\n  /** */\n  function MosaicLayout(layout) {\n    _classCallCheck(this, MosaicLayout);\n\n    this.layout = layout;\n  }\n  /** */\n\n\n  _createClass(MosaicLayout, [{\n    key: \"pathToCorner\",\n    value: function pathToCorner() {\n      var corner = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : Corner.TOP_RIGHT;\n      return getPathToCorner(this.layout, corner);\n    }\n    /** */\n\n  }, {\n    key: \"pathToParent\",\n    value: function pathToParent(path) {\n      return getNodeAtPath(this.layout, dropRight(path));\n    }\n    /** */\n\n  }, {\n    key: \"nodeAtPath\",\n    value: function nodeAtPath(path) {\n      return getNodeAtPath(this.layout, path);\n    }\n    /**\n     * addWindows - updates the layout with new windows using an algorithm ported\n     * from the react-mosaic-components examples. Will always add to the Top Right\n     * https://github.com/nomcopter/react-mosaic/blob/5081df8d1528d4c3b83a72763a46a30b3048fe95/demo/ExampleApp.tsx#L119-L154\n     * @param {Array} addedWindowIds [description]\n     */\n\n  }, {\n    key: \"addWindows\",\n    value: function addWindows(addedWindowIds) {\n      var _this = this;\n\n      addedWindowIds.forEach(function (windowId, i) {\n        var path = _this.pathToCorner();\n\n        var parent = _this.pathToParent(path);\n\n        var destination = _this.nodeAtPath(path);\n\n        var direction = parent ? getOtherDirection(parent.direction) : 'row';\n        var first;\n        var second;\n\n        if (direction === 'row') {\n          first = destination;\n          second = addedWindowIds[i];\n        } else {\n          first = addedWindowIds[i];\n          second = destination;\n        }\n\n        var update = {\n          path: path,\n          spec: {\n            $set: {\n              direction: direction,\n              first: first,\n              second: second\n            }\n          }\n        }; // We cannot batch the updates together because we need to recalculate\n        // the new location for each new window\n\n        _this.layout = updateTree(_this.layout, [update]);\n      });\n    }\n    /**\n     * removeWindows - Generate a set of \"removeUpdates\" to update layout binary\n     * tree. Then update the layout.\n     * @param  {Array} removedWindowIds\n     * @param  {Object} windowPaths - a lookup table for window paths\n     */\n\n  }, {\n    key: \"removeWindows\",\n    value: function removeWindows(removedWindowIds, windowPaths) {\n      var _this2 = this;\n\n      var removeUpdates = removedWindowIds.map(function (windowId) {\n        return createRemoveUpdate(_this2.layout, windowPaths[windowId]);\n      });\n      this.layout = updateTree(this.layout, removeUpdates);\n    }\n  }]);\n\n  return MosaicLayout;\n}();\n\nexport { MosaicLayout as default };","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React from 'react';\nimport { MosaicWithoutDragDropContext, MosaicWindow, getLeaves, createBalancedTreeFromLeaves } from 'react-mosaic-component';\nimport difference from 'lodash/difference';\nimport isEqual from 'lodash/isEqual';\nimport classNames from 'classnames';\nimport MosaicRenderPreview from '../containers/MosaicRenderPreview';\nimport Window from '../containers/Window';\nimport MosaicLayout from '../lib/MosaicLayout';\n/**\n * Represents a work area that contains any number of windows\n * @memberof Workspace\n * @private\n */\n\nexport var WorkspaceMosaic = /*#__PURE__*/function (_React$Component) {\n  _inherits(WorkspaceMosaic, _React$Component);\n\n  var _super = _createSuper(WorkspaceMosaic);\n\n  /**\n   */\n  function WorkspaceMosaic(props) {\n    var _this;\n\n    _classCallCheck(this, WorkspaceMosaic);\n\n    _this = _super.call(this, props);\n    _this.tileRenderer = _this.tileRenderer.bind(_assertThisInitialized(_this));\n    _this.mosaicChange = _this.mosaicChange.bind(_assertThisInitialized(_this));\n    _this.determineWorkspaceLayout = _this.determineWorkspaceLayout.bind(_assertThisInitialized(_this));\n    _this.zeroStateView = /*#__PURE__*/React.createElement(\"div\", null);\n    _this.windowPaths = {};\n    _this.toolbarControls = [];\n    _this.additionalControls = [];\n    return _this;\n  }\n  /** */\n\n\n  _createClass(WorkspaceMosaic, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var updateWorkspaceMosaicLayout = this.props.updateWorkspaceMosaicLayout;\n      var newLayout = this.determineWorkspaceLayout();\n      if (newLayout) updateWorkspaceMosaicLayout(newLayout);\n    }\n    /** */\n\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var _this$props = this.props,\n          windowIds = _this$props.windowIds,\n          layout = _this$props.layout,\n          updateWorkspaceMosaicLayout = _this$props.updateWorkspaceMosaicLayout;\n      var prevWindows = prevProps.windowIds; // Handles when Windows are added (not via Add Resource UI) Could be a workspace import\n\n      if (!windowIds.every(function (e) {\n        return prevWindows.includes(e);\n      })) {\n        var newLayout = this.determineWorkspaceLayout();\n        if (!isEqual(newLayout, layout)) updateWorkspaceMosaicLayout(newLayout);\n        return;\n      } // Handles when Windows are removed from the state\n\n\n      if (!prevWindows.every(function (e) {\n        return windowIds.includes(e);\n      })) {\n        // There are no more remaining Windows, just return an empty layout\n        if (windowIds.length === 0) {\n          updateWorkspaceMosaicLayout(null);\n          return;\n        }\n\n        var removedWindows = difference(prevWindows, windowIds);\n\n        var _newLayout = new MosaicLayout(layout);\n\n        _newLayout.removeWindows(removedWindows, this.windowPaths);\n\n        updateWorkspaceMosaicLayout(_newLayout.layout);\n      }\n    }\n    /**\n     * bookkeepPath - used to book keep Window's path's\n     * @param  {String} windowId   [description]\n     * @param  {Array} path [description]\n     */\n\n  }, {\n    key: \"bookkeepPath\",\n    value: function bookkeepPath(windowId, path) {\n      this.windowPaths[windowId] = path;\n    }\n    /**\n     * Used to determine whether or not a \"new\" layout should be autogenerated.\n     */\n\n  }, {\n    key: \"determineWorkspaceLayout\",\n    value: function determineWorkspaceLayout() {\n      var _this$props2 = this.props,\n          windowIds = _this$props2.windowIds,\n          layout = _this$props2.layout;\n      var leaveKeys = getLeaves(layout); // Windows were added\n\n      if (!windowIds.every(function (e) {\n        return leaveKeys.includes(e);\n      })) {\n        // No current layout, so just generate a new one\n        if (leaveKeys.length < 2) {\n          return createBalancedTreeFromLeaves(windowIds);\n        } // Add new windows to layout\n\n\n        var addedWindows = difference(windowIds, leaveKeys);\n        var newLayout = new MosaicLayout(layout);\n        newLayout.addWindows(addedWindows);\n        return newLayout.layout;\n      } // Windows were removed (perhaps in a different Workspace). We don't have a\n      // way to reconfigure.. so we have to random generate\n\n\n      if (!leaveKeys.every(function (e) {\n        return windowIds.includes(e);\n      })) {\n        return createBalancedTreeFromLeaves(windowIds);\n      }\n\n      return layout;\n    }\n    /** */\n\n  }, {\n    key: \"tileRenderer\",\n    value:\n    /**\n     * Render a tile (Window) in the Mosaic.\n     */\n    function tileRenderer(id, path) {\n      var _this$props3 = this.props,\n          windowIds = _this$props3.windowIds,\n          workspaceId = _this$props3.workspaceId;\n      if (!windowIds.includes(id)) return null;\n      this.bookkeepPath(id, path);\n      return /*#__PURE__*/React.createElement(MosaicWindow, {\n        toolbarControls: this.toolbarControls,\n        additionalControls: this.additionalControls,\n        path: path,\n        windowId: id,\n        renderPreview: WorkspaceMosaic.renderPreview\n      }, /*#__PURE__*/React.createElement(Window, {\n        key: \"\".concat(id, \"-\").concat(workspaceId),\n        windowId: id\n      }));\n    }\n    /**\n     * Update the redux store when the Mosaic is changed.\n     */\n\n  }, {\n    key: \"mosaicChange\",\n    value: function mosaicChange(newLayout) {\n      var updateWorkspaceMosaicLayout = this.props.updateWorkspaceMosaicLayout;\n      updateWorkspaceMosaicLayout(newLayout);\n    }\n    /**\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props4 = this.props,\n          layout = _this$props4.layout,\n          classes = _this$props4.classes;\n      return /*#__PURE__*/React.createElement(MosaicWithoutDragDropContext, {\n        renderTile: this.tileRenderer,\n        initialValue: layout || this.determineWorkspaceLayout(),\n        onChange: this.mosaicChange,\n        className: classNames('mirador-mosaic', classes.root),\n        zeroStateView: this.zeroStateView\n      });\n    }\n  }], [{\n    key: \"renderPreview\",\n    value: function renderPreview(mosaicProps) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"mosaic-preview\",\n        \"aria-hidden\": true\n      }, /*#__PURE__*/React.createElement(MosaicRenderPreview, {\n        windowId: mosaicProps.windowId\n      }));\n    }\n  }]);\n\n  return WorkspaceMosaic;\n}(React.Component);\nWorkspaceMosaic.defaultProps = {\n  layout: undefined,\n  windowIds: []\n};","// Generated using jss convert node_modules/react-mosaic-component/react-mosaic-component.css > src/styles/react-mosaic-component.js\n// .mosaic-blueprint-theme styles have also been removed\nvar globalReactMosaicStyles = {\n  '@global': {\n    '.mosaic': {\n      height: '100%',\n      width: '100%'\n    },\n    '.mosaic, .mosaic > *': {\n      boxSizing: 'border-box'\n    },\n    '.mosaic .mosaic-zero-state': {\n      position: 'absolute',\n      top: 6,\n      right: 6,\n      bottom: 6,\n      left: 6,\n      width: 'auto',\n      height: 'auto',\n      zIndex: '1'\n    },\n    '.mosaic-root': {\n      position: 'absolute',\n      top: 3,\n      right: 3,\n      bottom: 3,\n      left: 3\n    },\n    '.mosaic-split': {\n      position: 'absolute',\n      zIndex: '1',\n      touchAction: 'none'\n    },\n    '.mosaic-split:hover': {\n      background: 'black'\n    },\n    '.mosaic-split .mosaic-split-line': {\n      position: 'absolute'\n    },\n    '.mosaic-split.-row': {\n      marginLeft: -3,\n      width: 6,\n      cursor: 'ew-resize'\n    },\n    '.mosaic-split.-row .mosaic-split-line': {\n      top: '0',\n      bottom: '0',\n      left: 3,\n      right: 3\n    },\n    '.mosaic-split.-column': {\n      marginTop: -3,\n      height: 6,\n      cursor: 'ns-resize'\n    },\n    '.mosaic-split.-column .mosaic-split-line': {\n      top: 3,\n      bottom: 3,\n      left: '0',\n      right: '0'\n    },\n    '.mosaic-tile': {\n      position: 'absolute',\n      margin: 3\n    },\n    '.mosaic-tile > *': {\n      height: '100%',\n      width: '100%'\n    },\n    '.mosaic-drop-target': {\n      position: 'relative'\n    },\n    '.mosaic-drop-target.drop-target-hover .drop-target-container': {\n      display: 'block'\n    },\n    '.mosaic-drop-target.mosaic > .drop-target-container .drop-target.left': {\n      right: 'calc(100% -  10px )'\n    },\n    '.mosaic-drop-target.mosaic > .drop-target-container .drop-target.right': {\n      left: 'calc(100% -  10px )'\n    },\n    '.mosaic-drop-target.mosaic > .drop-target-container .drop-target.bottom': {\n      top: 'calc(100% -  10px )'\n    },\n    '.mosaic-drop-target.mosaic > .drop-target-container .drop-target.top': {\n      bottom: 'calc(100% -  10px )'\n    },\n    '.mosaic-drop-target .drop-target-container': {\n      position: 'absolute',\n      top: '0',\n      right: '0',\n      bottom: '0',\n      left: '0',\n      display: 'none'\n    },\n    '.mosaic-drop-target .drop-target-container.-dragging': {\n      display: 'block'\n    },\n    '.mosaic-drop-target .drop-target-container .drop-target': {\n      position: 'absolute',\n      top: '0',\n      right: '0',\n      bottom: '0',\n      left: '0',\n      background: 'rgba(0, 0, 0, 0.2)',\n      border: '2px solid black',\n      opacity: '0',\n      zIndex: '5'\n    },\n    '.mosaic-drop-target .drop-target-container .drop-target.left': {\n      right: 'calc(100% -  30% )'\n    },\n    '.mosaic-drop-target .drop-target-container .drop-target.right': {\n      left: 'calc(100% -  30% )'\n    },\n    '.mosaic-drop-target .drop-target-container .drop-target.bottom': {\n      top: 'calc(100% -  30% )'\n    },\n    '.mosaic-drop-target .drop-target-container .drop-target.top': {\n      bottom: 'calc(100% -  30% )'\n    },\n    '.mosaic-drop-target .drop-target-container .drop-target.drop-target-hover': {\n      opacity: '1'\n    },\n    '.mosaic-drop-target .drop-target-container .drop-target.drop-target-hover.left': {\n      right: 'calc(100% -  50% )'\n    },\n    '.mosaic-drop-target .drop-target-container .drop-target.drop-target-hover.right': {\n      left: 'calc(100% -  50% )'\n    },\n    '.mosaic-drop-target .drop-target-container .drop-target.drop-target-hover.bottom': {\n      top: 'calc(100% -  50% )'\n    },\n    '.mosaic-drop-target .drop-target-container .drop-target.drop-target-hover.top': {\n      bottom: 'calc(100% -  50% )'\n    },\n    '.mosaic-window, .mosaic-preview': {\n      position: 'relative',\n      display: 'flex',\n      fallbacks: [{\n        display: '-webkit-box'\n      }],\n      webkitBoxOrient: 'vertical',\n      webkitBoxDirection: 'normal',\n      flexDirection: 'column',\n      overflow: 'hidden',\n      boxShadow: '0 0 1px rgba(0, 0, 0, 0.2)'\n    },\n    '.mosaic-window .mosaic-window-toolbar, .mosaic-preview .mosaic-window-toolbar': {\n      zIndex: '4',\n      display: 'flex',\n      fallbacks: [{\n        display: '-webkit-box'\n      }],\n      webkitBoxPack: 'justify',\n      justifyContent: 'space-between',\n      webkitBoxAlign: 'center',\n      alignItems: 'center',\n      flexShrink: '0',\n      height: 30,\n      background: 'white',\n      boxShadow: '0 1px 1px rgba(0, 0, 0, 0.2)'\n    },\n    '.mosaic-window .mosaic-window-toolbar.draggable, .mosaic-preview .mosaic-window-toolbar.draggable': {\n      cursor: 'move'\n    },\n    '.mosaic-window .mosaic-window-title, .mosaic-preview .mosaic-window-title': {\n      paddingLeft: 15,\n      webkitBoxFlex: '1',\n      flex: '1',\n      textOverflow: 'ellipsis',\n      whiteSpace: 'nowrap',\n      overflow: 'hidden',\n      minHeight: 18\n    },\n    '.mosaic-window .mosaic-window-controls, .mosaic-preview .mosaic-window-controls': {\n      display: 'flex',\n      fallbacks: [{\n        display: '-webkit-box'\n      }],\n      height: '100%'\n    },\n    '.mosaic-window .mosaic-window-controls .separator, .mosaic-preview .mosaic-window-controls .separator': {\n      height: 20,\n      borderLeft: '1px solid black',\n      margin: '5px 4px'\n    },\n    '.mosaic-window .mosaic-window-body, .mosaic-preview .mosaic-window-body': {\n      position: 'relative',\n      webkitBoxFlex: '1',\n      flex: '1',\n      height: '0',\n      background: 'white',\n      zIndex: '1',\n      overflow: 'hidden'\n    },\n    '.mosaic-window .mosaic-window-additional-actions-bar, .mosaic-preview .mosaic-window-additional-actions-bar': {\n      position: 'absolute',\n      top: 30,\n      right: '0',\n      bottom: 'initial',\n      left: '0',\n      height: '0',\n      overflow: 'hidden',\n      background: 'white',\n      webkitBoxPack: 'end',\n      justifyContent: 'flex-end',\n      display: 'flex',\n      fallbacks: [{\n        display: '-webkit-box'\n      }],\n      zIndex: '3'\n    },\n    '.mosaic-window .mosaic-window-additional-actions-bar .bp3-button, .mosaic-preview .mosaic-window-additional-actions-bar .bp3-button': {\n      margin: '0'\n    },\n    '.mosaic-window .mosaic-window-additional-actions-bar .bp3-button:after, .mosaic-preview .mosaic-window-additional-actions-bar .bp3-button:after': {\n      display: 'none'\n    },\n    '.mosaic-window .mosaic-window-body-overlay, .mosaic-preview .mosaic-window-body-overlay': {\n      position: 'absolute',\n      top: '0',\n      right: '0',\n      bottom: '0',\n      left: '0',\n      opacity: '0',\n      background: 'white',\n      display: 'none',\n      zIndex: '2'\n    },\n    '.mosaic-window.additional-controls-open .mosaic-window-additional-actions-bar, .mosaic-preview.additional-controls-open .mosaic-window-additional-actions-bar': {\n      height: 30\n    },\n    '.mosaic-window.additional-controls-open .mosaic-window-body-overlay, .mosaic-preview.additional-controls-open .mosaic-window-body-overlay': {\n      display: 'block'\n    },\n    '.mosaic-window .mosaic-preview, .mosaic-preview .mosaic-preview': {\n      height: '100%',\n      width: '100%',\n      position: 'absolute',\n      zIndex: '0',\n      border: '1px solid black',\n      maxHeight: 400\n    },\n    '.mosaic-window .mosaic-preview .mosaic-window-body, .mosaic-preview .mosaic-preview .mosaic-window-body': {\n      display: 'flex',\n      fallbacks: [{\n        display: '-webkit-box'\n      }],\n      webkitBoxOrient: 'vertical',\n      webkitBoxDirection: 'normal',\n      flexDirection: 'column',\n      webkitBoxAlign: 'center',\n      alignItems: 'center',\n      webkitBoxPack: 'center',\n      justifyContent: 'center'\n    },\n    '.mosaic-window .mosaic-preview h4, .mosaic-preview .mosaic-preview h4': {\n      marginBottom: 10\n    },\n    '.mosaic:not(.mosaic-blueprint-theme) .mosaic-default-control.close-button:before': {\n      content: '\\'Close\\''\n    },\n    '.mosaic:not(.mosaic-blueprint-theme) .mosaic-default-control.split-button:before': {\n      content: '\\'Split\\''\n    },\n    '.mosaic:not(.mosaic-blueprint-theme) .mosaic-default-control.replace-button:before': {\n      content: '\\'Replace\\''\n    },\n    '.mosaic:not(.mosaic-blueprint-theme) .mosaic-default-control.expand-button:before': {\n      content: '\\'Expand\\''\n    }\n  }\n};\nexport default globalReactMosaicStyles;","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withStyles } from '@material-ui/core/styles';\nimport { withPlugins } from '../extend/withPlugins';\nimport { getWorkspace } from '../state/selectors';\nimport * as actions from '../state/actions';\nimport { WorkspaceMosaic } from '../components/WorkspaceMosaic';\nimport globalReactMosaicStyles from '../styles/react-mosaic-component';\n/**\n * mapStateToProps - to hook up connect\n * @memberof Workspace\n * @private\n */\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    layout: getWorkspace(state).layout,\n    windowIds: getWorkspace(state).windowIds,\n    workspaceId: getWorkspace(state).id\n  };\n};\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof Workspace\n * @private\n */\n\n\nvar mapDispatchToProps = {\n  updateWorkspaceMosaicLayout: actions.updateWorkspaceMosaicLayout\n};\n\nvar styles = _objectSpread({\n  root: {\n    '& .mosaic-preview': {\n      boxShadow: 'none'\n    },\n    '& .mosaic-tile': {\n      boxShadow: '0 1px 3px 0 rgba(0, 0, 0, .2), 0 1px 1px 0 rgba(0, 0, 0, .2), 0 2px 1px -1px rgba(0, 0, 0, .2)'\n    },\n    '& .mosaic-window': {\n      boxShadow: 'none'\n    },\n    '& .mosaic-window-toolbar': {\n      display: 'none !important'\n    }\n  }\n}, globalReactMosaicStyles);\n\nvar enhance = compose(withStyles(styles), connect(mapStateToProps, mapDispatchToProps), withPlugins('WorkspaceMosaic') // further HOC go here\n);\nexport default enhance(WorkspaceMosaic);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React from 'react';\nimport { Rnd } from 'react-rnd';\nimport Window from '../containers/Window';\nimport ns from '../config/css-ns';\n/**\n * Represents a work area that contains any number of windows\n * @memberof Workspace\n * @private\n */\n\nvar WorkspaceElasticWindow = /*#__PURE__*/function (_React$Component) {\n  _inherits(WorkspaceElasticWindow, _React$Component);\n\n  var _super = _createSuper(WorkspaceElasticWindow);\n\n  function WorkspaceElasticWindow() {\n    _classCallCheck(this, WorkspaceElasticWindow);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(WorkspaceElasticWindow, [{\n    key: \"render\",\n    value:\n    /**\n     */\n    function render() {\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          companionWindowDimensions = _this$props.companionWindowDimensions,\n          focused = _this$props.focused,\n          layout = _this$props.layout,\n          workspace = _this$props.workspace,\n          updateElasticWindowLayout = _this$props.updateElasticWindowLayout;\n      var offsetX = workspace.width / 2;\n      var offsetY = workspace.height / 2;\n      return /*#__PURE__*/React.createElement(Rnd, {\n        key: \"\".concat(layout.windowId, \"-\").concat(workspace.id),\n        size: {\n          height: layout.height + companionWindowDimensions.height,\n          width: layout.width + companionWindowDimensions.width\n        },\n        position: {\n          x: layout.x + offsetX,\n          y: layout.y + offsetY\n        },\n        bounds: \"parent\",\n        onDragStop: function onDragStop(e, d) {\n          updateElasticWindowLayout(layout.windowId, {\n            x: d.x - offsetX,\n            y: d.y - offsetY\n          });\n        },\n        onResize: function onResize(e, direction, ref, delta, position) {\n          updateElasticWindowLayout(layout.windowId, {\n            height: Number.parseInt(ref.style.height, 10) - companionWindowDimensions.height,\n            width: Number.parseInt(ref.style.width, 10) - companionWindowDimensions.width,\n            x: position.x - offsetX,\n            y: position.y - offsetY\n          });\n        },\n        dragHandleClassName: ns('window-top-bar'),\n        className: focused ? classes.focused : null\n      }, /*#__PURE__*/React.createElement(Window, {\n        windowId: layout.windowId\n      }));\n    }\n  }]);\n\n  return WorkspaceElasticWindow;\n}(React.Component);\n\nWorkspaceElasticWindow.defaultProps = {\n  classes: {},\n  companionWindowDimensions: {\n    height: 0,\n    width: 0\n  },\n  focused: false\n};\nexport default WorkspaceElasticWindow;","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withStyles } from '@material-ui/core';\nimport * as actions from '../state/actions';\nimport WorkspaceElasticWindow from '../components/WorkspaceElasticWindow';\nimport { selectCompanionWindowDimensions, getWorkspace, isFocused, getElasticLayout } from '../state/selectors';\n/**\n * mapStateToProps - to hook up connect\n * @memberof Workspace\n * @private\n */\n\nvar mapStateToProps = function mapStateToProps(state, _ref) {\n  var windowId = _ref.windowId;\n  return {\n    companionWindowDimensions: selectCompanionWindowDimensions(state, {\n      windowId: windowId\n    }),\n    focused: isFocused(state, {\n      windowId: windowId\n    }),\n    layout: getElasticLayout(state)[windowId],\n    workspace: getWorkspace(state)\n  };\n};\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof Workspace\n * @private\n */\n\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch, props) {\n  return {\n    updateElasticWindowLayout: function updateElasticWindowLayout(windowId, position) {\n      dispatch(actions.updateElasticWindowLayout(windowId, position));\n    }\n  };\n};\n/**\n * @param theme\n */\n\n\nvar styles = function styles(theme) {\n  return {\n    focused: {\n      zIndex: theme.zIndex.modal - 1\n    }\n  };\n};\n\nvar enhance = compose(withStyles(styles), connect(mapStateToProps, mapDispatchToProps) // further HOC go here\n);\nexport default enhance(WorkspaceElasticWindow);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React from 'react';\nimport { Rnd } from 'react-rnd';\nimport ResizeObserver from 'react-resize-observer';\nimport classNames from 'classnames';\nimport WorkspaceElasticWindow from '../containers/WorkspaceElasticWindow';\nimport ns from '../config/css-ns';\n/**\n * Represents a work area that contains any number of windows\n * @memberof Workspace\n * @private\n */\n\nvar WorkspaceElastic = /*#__PURE__*/function (_React$Component) {\n  _inherits(WorkspaceElastic, _React$Component);\n\n  var _super = _createSuper(WorkspaceElastic);\n\n  function WorkspaceElastic() {\n    _classCallCheck(this, WorkspaceElastic);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(WorkspaceElastic, [{\n    key: \"render\",\n    value:\n    /**\n     */\n    function render() {\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          workspace = _this$props.workspace,\n          elasticLayout = _this$props.elasticLayout,\n          setWorkspaceViewportDimensions = _this$props.setWorkspaceViewportDimensions,\n          setWorkspaceViewportPosition = _this$props.setWorkspaceViewportPosition;\n      var viewportPosition = workspace.viewportPosition;\n      var offsetX = workspace.width / 2;\n      var offsetY = workspace.height / 2;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          height: '100%',\n          position: 'relative',\n          width: '100%'\n        }\n      }, /*#__PURE__*/React.createElement(ResizeObserver, {\n        onResize: function onResize(rect) {\n          setWorkspaceViewportDimensions(rect);\n        }\n      }), /*#__PURE__*/React.createElement(Rnd, {\n        size: {\n          height: workspace.height,\n          width: workspace.width\n        },\n        position: {\n          x: -1 * viewportPosition.x - offsetX,\n          y: -1 * viewportPosition.y - offsetY\n        },\n        enableResizing: {\n          bottom: false,\n          bottomLeft: false,\n          bottomRight: false,\n          left: false,\n          right: false,\n          top: false,\n          topLeft: false,\n          topRight: false\n        },\n        onDragStop: function onDragStop(e, d) {\n          setWorkspaceViewportPosition({\n            x: -1 * d.x - offsetX,\n            y: -1 * d.y - offsetY\n          });\n        },\n        cancel: \".\".concat(ns('window')),\n        className: classNames(classes.workspace, ns('workspace')),\n        disableDragging: !workspace.draggingEnabled\n      }, Object.keys(elasticLayout).map(function (windowId) {\n        return /*#__PURE__*/React.createElement(WorkspaceElasticWindow, {\n          key: windowId,\n          windowId: windowId\n        });\n      })));\n    }\n  }]);\n\n  return WorkspaceElastic;\n}(React.Component);\n\nexport default WorkspaceElastic;","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withStyles } from '@material-ui/core/styles';\nimport { withPlugins } from '../extend/withPlugins';\nimport * as actions from '../state/actions';\nimport WorkspaceElastic from '../components/WorkspaceElastic';\nimport { getElasticLayout, getWorkspace } from '../state/selectors';\n/**\n * mapStateToProps - to hook up connect\n * @memberof Workspace\n * @private\n */\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    elasticLayout: getElasticLayout(state),\n    workspace: getWorkspace(state)\n  };\n};\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof Workspace\n * @private\n */\n\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch, props) {\n  return {\n    setWorkspaceViewportDimensions: function setWorkspaceViewportDimensions(position) {\n      dispatch(actions.setWorkspaceViewportDimensions(position));\n    },\n    setWorkspaceViewportPosition: function setWorkspaceViewportPosition(position) {\n      dispatch(actions.setWorkspaceViewportPosition(position));\n    },\n    updateElasticWindowLayout: function updateElasticWindowLayout(windowId, position) {\n      dispatch(actions.updateElasticWindowLayout(windowId, position));\n    }\n  };\n};\n\nvar styles = {\n  workspace: {\n    boxSizing: 'border-box',\n    margin: 0,\n    position: 'absolute',\n    transitionDuration: '.7s',\n    // order matters\n    // eslint-disable-next-line sort-keys\n    '& .react-draggable-dragging': {\n      transitionDuration: 'unset'\n    }\n  }\n};\nvar enhance = compose(withStyles(styles), connect(mapStateToProps, mapDispatchToProps), withPlugins('WorkspaceElastic') // further HOC go here\n);\nexport default enhance(WorkspaceElastic);","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport React from 'react';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport InsertDriveFileSharpIcon from '@material-ui/icons/InsertDriveFileSharp';\nimport { grey } from '@material-ui/core/colors';\nimport { v4 as uuid } from 'uuid';\nimport { NativeTypes } from 'react-dnd-html5-backend';\nimport { useDrop } from 'react-dnd';\nimport { readImageMetadata } from '../lib/readImageMetadata';\n/** */\n\nexport var handleDrop = function handleDrop(item, monitor, props) {\n  var onDrop = props.onDrop;\n\n  if (item.urls) {\n    item.urls.forEach(function (str) {\n      var url = new URL(str);\n      var manifestId = url.searchParams.get('manifest');\n      var canvasId = url.searchParams.get('canvas');\n      if (manifestId) onDrop({\n        canvasId: canvasId,\n        manifestId: manifestId\n      }, props, monitor);\n    });\n  }\n\n  if (item.files) {\n    var manifestFiles = item.files.filter(function (f) {\n      return f.type === 'application/json';\n    });\n    var manifestPromises = manifestFiles.map(function (file) {\n      return new Promise(function (resolve, reject) {\n        var reader = new FileReader();\n        reader.addEventListener('load', function () {\n          var manifestJson = reader.result;\n          var manifestId = uuid();\n          if (manifestJson) onDrop({\n            manifestId: manifestId,\n            manifestJson: manifestJson\n          }, props, monitor);\n          resolve();\n        });\n        reader.readAsText(file);\n      });\n    });\n    var imageFiles = item.files.filter(function (_ref) {\n      var type = _ref.type;\n      return type.startsWith('image/');\n    });\n    var imagePromise;\n\n    if (imageFiles.length > 0) {\n      var id = uuid();\n      var imageData = imageFiles.map(function (file) {\n        return readImageMetadata(file);\n      });\n      imagePromise = Promise.all(imageData).then(function (images) {\n        var manifestJson = {\n          '@context': 'http://iiif.io/api/presentation/3/context.json',\n          id: id,\n          items: images.map(function (_ref2, index) {\n            var name = _ref2.name,\n                type = _ref2.type,\n                width = _ref2.width,\n                height = _ref2.height,\n                url = _ref2.url;\n            return {\n              height: height,\n              id: \"\".concat(id, \"/canvas/\").concat(index),\n              items: [{\n                id: \"\".concat(id, \"/canvas/\").concat(index, \"/1\"),\n                items: [{\n                  body: {\n                    format: type,\n                    id: url,\n                    type: 'Image'\n                  },\n                  height: height,\n                  id: \"\".concat(id, \"/canvas/\").concat(index, \"/1/image\"),\n                  motivation: 'painting',\n                  target: \"\".concat(id, \"/canvas/\").concat(index, \"/1\"),\n                  type: 'Annotation',\n                  width: width\n                }],\n                type: 'AnnotationPage'\n              }],\n              label: name,\n              type: 'Canvas',\n              width: width\n            };\n          }),\n          label: images[0].name,\n          type: 'Manifest'\n        };\n        var manifestId = uuid();\n        if (manifestJson) onDrop({\n          manifestId: manifestId,\n          manifestJson: manifestJson\n        }, props, monitor);\n      });\n    }\n\n    return Promise.all([].concat(_toConsumableArray(manifestPromises), [imagePromise]));\n  }\n\n  return undefined;\n};\n/** */\n\nexport var IIIFDropTarget = function IIIFDropTarget(props) {\n  var children = props.children,\n      onDrop = props.onDrop;\n\n  var _useDrop = useDrop({\n    accept: [NativeTypes.URL, NativeTypes.FILE],\n    collect: function collect(monitor) {\n      return {\n        canDrop: monitor.canDrop(),\n        isOver: monitor.isOver()\n      };\n    },\n\n    /** */\n    drop: function drop(item, monitor) {\n      if (!onDrop) return;\n      handleDrop(item, monitor, props);\n    }\n  }),\n      _useDrop2 = _slicedToArray(_useDrop, 2),\n      _useDrop2$ = _useDrop2[0],\n      canDrop = _useDrop2$.canDrop,\n      isOver = _useDrop2$.isOver,\n      drop = _useDrop2[1];\n  /**\n   * Safari reports drag+drop'ed urls as both a file and uri-list\n   * which gets mis-classified by react-dnd.\n   */\n\n\n  var hackForSafari = function hackForSafari(e) {\n    if (!window.safari || !onDrop || !e.dataTransfer) return;\n\n    if (e.dataTransfer.types.includes('Files') && e.dataTransfer.types.includes('text/uri-list')) {\n      var url = e.dataTransfer.getData('text/uri-list');\n      if (!url) return;\n      handleDrop({\n        urls: [url]\n      }, null, props);\n    }\n  };\n\n  var isActive = canDrop && isOver;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    ref: drop,\n    onDrop: hackForSafari,\n    style: {\n      height: '100%',\n      width: '100%'\n    }\n  }, children, /*#__PURE__*/React.createElement(Backdrop, {\n    open: isActive,\n    style: {\n      zIndex: 9999\n    }\n  }, /*#__PURE__*/React.createElement(InsertDriveFileSharpIcon, {\n    style: {\n      color: grey[400],\n      fontSize: 256\n    }\n  })));\n};","/** Extract metadata from an image File */\nexport function readImageMetadata(file) {\n  return new Promise(function (resolve, reject) {\n    var reader = new FileReader();\n    reader.addEventListener('load', function () {\n      var image = new Image();\n      image.addEventListener('load', function () {\n        resolve({\n          height: image.height,\n          name: file.name,\n          type: file.type,\n          url: reader.result,\n          width: image.width\n        });\n      });\n      image.src = reader.result;\n    });\n    reader.readAsDataURL(file);\n  });\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React from 'react';\nimport classNames from 'classnames';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport Window from '../containers/Window';\nimport WorkspaceMosaic from '../containers/WorkspaceMosaic';\nimport WorkspaceElastic from '../containers/WorkspaceElastic';\nimport ns from '../config/css-ns';\nimport { IIIFDropTarget } from './IIIFDropTarget';\n/**\n * Represents a work area that contains any number of windows\n * @memberof Workspace\n * @private\n */\n\nexport var Workspace = /*#__PURE__*/function (_React$Component) {\n  _inherits(Workspace, _React$Component);\n\n  var _super = _createSuper(Workspace);\n\n  /** */\n  function Workspace(props) {\n    var _this;\n\n    _classCallCheck(this, Workspace);\n\n    _this = _super.call(this, props);\n    _this.handleDrop = _this.handleDrop.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /** */\n\n\n  _createClass(Workspace, [{\n    key: \"handleDrop\",\n    value: function handleDrop(_ref, props, monitor) {\n      var canvasId = _ref.canvasId,\n          manifestId = _ref.manifestId,\n          manifestJson = _ref.manifestJson;\n      var _this$props = this.props,\n          addWindow = _this$props.addWindow,\n          allowNewWindows = _this$props.allowNewWindows;\n      if (!allowNewWindows) return;\n      addWindow({\n        canvasId: canvasId,\n        manifest: manifestJson,\n        manifestId: manifestId\n      });\n    }\n    /**\n     * Determine which workspace to render by configured type\n     */\n\n  }, {\n    key: \"workspaceByType\",\n    value: function workspaceByType() {\n      var _this$props2 = this.props,\n          workspaceId = _this$props2.workspaceId,\n          workspaceType = _this$props2.workspaceType,\n          windowIds = _this$props2.windowIds;\n\n      if (this.maximizedWindows()) {\n        return this.maximizedWindows();\n      }\n\n      if (windowIds.length === 0) return this.zeroWindows();\n\n      switch (workspaceType) {\n        case 'elastic':\n          return /*#__PURE__*/React.createElement(WorkspaceElastic, null);\n\n        case 'mosaic':\n          return /*#__PURE__*/React.createElement(WorkspaceMosaic, null);\n\n        default:\n          return windowIds.map(function (windowId) {\n            return /*#__PURE__*/React.createElement(Window, {\n              key: \"\".concat(windowId, \"-\").concat(workspaceId),\n              windowId: windowId\n            });\n          });\n      }\n    }\n    /** */\n\n  }, {\n    key: \"zeroWindows\",\n    value: function zeroWindows() {\n      var t = this.props.t;\n      return /*#__PURE__*/React.createElement(Grid, {\n        alignItems: \"center\",\n        container: true,\n        style: {\n          height: '100%'\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        xs: 12,\n        item: true\n      }, /*#__PURE__*/React.createElement(Typography, {\n        variant: \"h1\",\n        component: \"div\",\n        align: \"center\"\n      }, t('welcome'))));\n    }\n    /**\n     * Determine whether or not there are maximized windows\n     */\n\n  }, {\n    key: \"maximizedWindows\",\n    value: function maximizedWindows() {\n      var _this$props3 = this.props,\n          maximizedWindowIds = _this$props3.maximizedWindowIds,\n          workspaceId = _this$props3.workspaceId;\n\n      if (maximizedWindowIds.length > 0) {\n        return maximizedWindowIds.map(function (windowId) {\n          return /*#__PURE__*/React.createElement(Window, {\n            key: \"\".concat(windowId, \"-\").concat(workspaceId),\n            windowId: windowId,\n            className: classNames(ns('workspace-maximized-window'))\n          });\n        });\n      }\n\n      return false;\n    }\n    /**\n     * render\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props4 = this.props,\n          classes = _this$props4.classes,\n          isWorkspaceControlPanelVisible = _this$props4.isWorkspaceControlPanelVisible,\n          t = _this$props4.t;\n      return /*#__PURE__*/React.createElement(IIIFDropTarget, {\n        onDrop: this.handleDrop\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: classNames(ns('workspace-viewport'), isWorkspaceControlPanelVisible && ns('workspace-with-control-panel'), isWorkspaceControlPanelVisible && classes.workspaceWithControlPanel, classes.workspaceViewport)\n      }, /*#__PURE__*/React.createElement(Typography, {\n        variant: \"srOnly\",\n        component: \"h1\"\n      }, t('miradorViewer')), this.workspaceByType()));\n    }\n  }]);\n\n  return Workspace;\n}(React.Component);\nWorkspace.defaultProps = {\n  addWindow: function addWindow() {},\n  allowNewWindows: true,\n  maximizedWindowIds: [],\n  windowIds: []\n};","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles } from '@material-ui/core/styles';\nimport { withPlugins } from '../extend/withPlugins';\nimport { Workspace } from '../components/Workspace';\nimport { getMaximizedWindowsIds, getWindowIds, getWorkspaceType, getConfig, getWorkspace } from '../state/selectors';\nimport * as actions from '../state/actions';\n/**\n * mapStateToProps - to hook up connect\n * @memberof Workspace\n * @private\n */\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    allowNewWindows: getConfig(state).workspace.allowNewWindows,\n    isWorkspaceControlPanelVisible: getConfig(state).workspaceControlPanel.enabled,\n    maximizedWindowIds: getMaximizedWindowsIds(state),\n    windowIds: getWindowIds(state),\n    workspaceId: getWorkspace(state).id,\n    workspaceType: getWorkspaceType(state)\n  };\n};\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof Workspace\n * @private\n */\n\n\nvar mapDispatchToProps = {\n  addWindow: actions.addWindow\n};\n/**\n * @param theme\n */\n\nvar styles = function styles(theme) {\n  return {\n    workspaceViewport: {\n      bottom: 0,\n      left: 0,\n      margin: 0,\n      overflow: 'hidden',\n      position: 'absolute',\n      right: 0,\n      top: 0\n    },\n    workspaceWithControlPanel: {\n      paddingTop: 74\n    },\n    // injection order matters here\n    // eslint-disable-next-line sort-keys\n    '@media (min-width: 600px)': {\n      workspaceWithControlPanel: {\n        paddingLeft: 68,\n        paddingTop: 0\n      }\n    }\n  };\n};\n\nvar enhance = compose(withTranslation(), withStyles(styles), connect(mapStateToProps, mapDispatchToProps), withPlugins('Workspace') // further HOC go here\n);\nexport default enhance(Workspace);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\nimport TextField from '@material-ui/core/TextField';\n/**\n * Provides a form for user input of a manifest url\n * @prop {Function} fetchManifest\n */\n\nexport var ManifestForm = /*#__PURE__*/function (_Component) {\n  _inherits(ManifestForm, _Component);\n\n  var _super = _createSuper(ManifestForm);\n\n  /**\n   * constructor -\n   */\n  function ManifestForm(props) {\n    var _this;\n\n    _classCallCheck(this, ManifestForm);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      formValue: ''\n    };\n    _this.formSubmit = _this.formSubmit.bind(_assertThisInitialized(_this));\n    _this.handleCancel = _this.handleCancel.bind(_assertThisInitialized(_this));\n    _this.handleInputChange = _this.handleInputChange.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /**\n   * Reset the form state\n   */\n\n\n  _createClass(ManifestForm, [{\n    key: \"handleCancel\",\n    value: function handleCancel() {\n      var onCancel = this.props.onCancel;\n      onCancel();\n      this.setState({\n        formValue: ''\n      });\n    }\n    /**\n     * handleInputChange - sets state based on input change.\n     * @param  {Event} event\n     * @private\n     */\n\n  }, {\n    key: \"handleInputChange\",\n    value: function handleInputChange(event) {\n      var that = this;\n      event.preventDefault();\n      that.setState({\n        formValue: event.target.value\n      });\n    }\n    /**\n     * formSubmit - triggers manifest update and sets lastRequested\n     * @param  {Event} event\n     * @private\n     */\n\n  }, {\n    key: \"formSubmit\",\n    value: function formSubmit(event) {\n      var _this$props = this.props,\n          addResource = _this$props.addResource,\n          onSubmit = _this$props.onSubmit;\n      var formValue = this.state.formValue;\n      event.preventDefault();\n      onSubmit();\n      addResource(formValue);\n      this.setState({\n        formValue: ''\n      });\n    }\n    /**\n     * render\n     * @return {String} - HTML markup for the component\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var formValue = this.state.formValue;\n      var _this$props2 = this.props,\n          addResourcesOpen = _this$props2.addResourcesOpen,\n          classes = _this$props2.classes,\n          onCancel = _this$props2.onCancel,\n          t = _this$props2.t;\n      if (!addResourcesOpen) return null;\n      return /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: this.formSubmit\n      }, /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        spacing: 2\n      }, /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        sm: 8,\n        md: 9\n      }, /*#__PURE__*/React.createElement(TextField, {\n        autoFocus: true,\n        fullWidth: true,\n        value: formValue,\n        id: \"manifestURL\",\n        type: \"text\",\n        onChange: this.handleInputChange,\n        variant: \"filled\",\n        label: t('addManifestUrl'),\n        helperText: t('addManifestUrlHelp'),\n        InputLabelProps: {\n          shrink: true\n        },\n        InputProps: {\n          className: classes.input\n        }\n      })), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        sm: 4,\n        md: 3,\n        className: classes.buttons\n      }, onCancel && /*#__PURE__*/React.createElement(Button, {\n        onClick: this.handleCancel\n      }, t('cancel')), /*#__PURE__*/React.createElement(Button, {\n        id: \"fetchBtn\",\n        type: \"submit\",\n        variant: \"contained\",\n        color: \"primary\"\n      }, t('fetchManifest')))));\n    }\n  }]);\n\n  return ManifestForm;\n}(Component);\nManifestForm.defaultProps = {\n  classes: {},\n  onCancel: null,\n  onSubmit: function onSubmit() {},\n  t: function t(key) {\n    return key;\n  }\n};","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles } from '@material-ui/core';\nimport { withPlugins } from '../extend/withPlugins';\nimport * as actions from '../state/actions';\nimport { ManifestForm } from '../components/ManifestForm';\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof ManifestForm\n * @private\n */\n\nvar mapDispatchToProps = {\n  addResource: actions.addResource\n};\n/**\n *\n * @param theme\n */\n\nvar styles = function styles(theme) {\n  return {\n    buttons: _defineProperty({\n      textAlign: 'right'\n    }, theme.breakpoints.up('sm'), {\n      textAlign: 'inherit'\n    }),\n    input: _objectSpread({}, theme.typography.body1)\n  };\n};\n\nvar enhance = compose(withStyles(styles), withTranslation(), connect(null, mapDispatchToProps), withPlugins('ManifestForm'));\nexport default enhance(ManifestForm);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport Button from '@material-ui/core/Button';\nimport ErrorIcon from '@material-ui/icons/ErrorOutlineSharp';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\n/**\n * ManifestListItemError renders a component displaying a\n * message to the user about a problem loading a manifest\n*/\n\nexport var ManifestListItemError = /*#__PURE__*/function (_Component) {\n  _inherits(ManifestListItemError, _Component);\n\n  var _super = _createSuper(ManifestListItemError);\n\n  function ManifestListItemError() {\n    _classCallCheck(this, ManifestListItemError);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(ManifestListItemError, [{\n    key: \"render\",\n    value:\n    /**\n     * Returns the rendered component\n    */\n    function render() {\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          manifestId = _this$props.manifestId,\n          onDismissClick = _this$props.onDismissClick,\n          onTryAgainClick = _this$props.onTryAgainClick,\n          t = _this$props.t;\n      return /*#__PURE__*/React.createElement(Grid, {\n        container: true\n      }, /*#__PURE__*/React.createElement(Grid, {\n        container: true\n      }, /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        item: true,\n        xs: 12,\n        sm: 6\n      }, /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 4,\n        sm: 3\n      }, /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        justify: \"center\"\n      }, /*#__PURE__*/React.createElement(ErrorIcon, {\n        className: classes.errorIcon\n      }))), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 8,\n        sm: 9\n      }, /*#__PURE__*/React.createElement(Typography, null, t('manifestError')), /*#__PURE__*/React.createElement(Typography, {\n        className: classes.manifestIdText\n      }, manifestId)))), /*#__PURE__*/React.createElement(Grid, {\n        container: true\n      }, /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        item: true,\n        xs: 12,\n        sm: 6,\n        justify: \"flex-end\"\n      }, /*#__PURE__*/React.createElement(Grid, {\n        item: true\n      }, /*#__PURE__*/React.createElement(Button, {\n        onClick: function onClick() {\n          onDismissClick(manifestId);\n        }\n      }, t('dismiss')), /*#__PURE__*/React.createElement(Button, {\n        onClick: function onClick() {\n          onTryAgainClick(manifestId);\n        }\n      }, t('tryAgain'))))));\n    }\n  }]);\n\n  return ManifestListItemError;\n}(Component);","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles } from '@material-ui/core/styles';\nimport { withPlugins } from '../extend/withPlugins';\nimport { fetchManifest, removeResource } from '../state/actions';\nimport { ManifestListItemError } from '../components/ManifestListItemError';\n/** */\n\nvar mapDispatchToProps = {\n  onDismissClick: removeResource,\n  onTryAgainClick: fetchManifest\n};\n/**\n *\n * @param theme\n * @returns {{manifestIdText: {wordBreak: string},\n * errorIcon: {color: string, width: string, height: string}}}\n */\n\nvar styles = function styles(theme) {\n  return {\n    errorIcon: {\n      color: theme.palette.error.main,\n      height: '2rem',\n      width: '2rem'\n    },\n    manifestIdText: {\n      wordBreak: 'break-all'\n    }\n  };\n};\n\nvar enhance = compose(withTranslation(), withStyles(styles), connect(null, mapDispatchToProps), withPlugins('ManifestListItemError'));\nexport default enhance(ManifestListItemError);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React from 'react';\nimport ListItem from '@material-ui/core/ListItem';\nimport ButtonBase from '@material-ui/core/ButtonBase';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport { Img } from 'react-image';\nimport ManifestListItemError from '../containers/ManifestListItemError';\nimport ns from '../config/css-ns';\n/**\n * Represents an item in a list of currently-loaded or loading manifests\n * @param {object} props\n * @param {object} [props.manifest = string]\n */\n\n/** */\n\nexport var ManifestListItem = /*#__PURE__*/function (_React$Component) {\n  _inherits(ManifestListItem, _React$Component);\n\n  var _super = _createSuper(ManifestListItem);\n\n  /** */\n  function ManifestListItem(props) {\n    var _this;\n\n    _classCallCheck(this, ManifestListItem);\n\n    _this = _super.call(this, props);\n    _this.handleOpenButtonClick = _this.handleOpenButtonClick.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /** */\n\n\n  _createClass(ManifestListItem, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this$props = this.props,\n          fetchManifest = _this$props.fetchManifest,\n          manifestId = _this$props.manifestId,\n          ready = _this$props.ready,\n          isFetching = _this$props.isFetching,\n          error = _this$props.error,\n          provider = _this$props.provider;\n      if (!ready && !error && !isFetching && provider !== 'file') fetchManifest(manifestId);\n    }\n    /**\n     * Handling open button click\n     */\n\n  }, {\n    key: \"handleOpenButtonClick\",\n    value: function handleOpenButtonClick() {\n      var _this$props2 = this.props,\n          addWindow = _this$props2.addWindow,\n          handleClose = _this$props2.handleClose,\n          manifestId = _this$props2.manifestId;\n      addWindow({\n        manifestId: manifestId\n      });\n      handleClose();\n    }\n    /** */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props3 = this.props,\n          active = _this$props3.active,\n          buttonRef = _this$props3.buttonRef,\n          manifestId = _this$props3.manifestId,\n          ready = _this$props3.ready,\n          title = _this$props3.title,\n          thumbnail = _this$props3.thumbnail,\n          manifestLogo = _this$props3.manifestLogo,\n          size = _this$props3.size,\n          classes = _this$props3.classes,\n          provider = _this$props3.provider,\n          t = _this$props3.t,\n          error = _this$props3.error,\n          isCollection = _this$props3.isCollection,\n          isMultipart = _this$props3.isMultipart;\n      var placeholder = /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        className: ns('manifest-list-item'),\n        spacing: 2\n      }, /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 3,\n        sm: 2\n      }, /*#__PURE__*/React.createElement(Skeleton, {\n        className: classes.placeholder,\n        variant: \"rect\",\n        height: 80,\n        width: 120\n      })), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 9,\n        sm: 6\n      }, /*#__PURE__*/React.createElement(Skeleton, {\n        className: classes.placeholder,\n        variant: \"text\"\n      })), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 8,\n        sm: 2\n      }, /*#__PURE__*/React.createElement(Skeleton, {\n        className: classes.placeholder,\n        variant: \"text\"\n      }), /*#__PURE__*/React.createElement(Skeleton, {\n        className: classes.placeholder,\n        variant: \"text\"\n      })), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 4,\n        sm: 2\n      }, /*#__PURE__*/React.createElement(Skeleton, {\n        className: classes.placeholder,\n        variant: \"rect\",\n        height: 60,\n        width: 60\n      })));\n\n      if (error) {\n        return /*#__PURE__*/React.createElement(ListItem, {\n          divider: true,\n          className: classes.root,\n          \"data-manifestid\": manifestId\n        }, /*#__PURE__*/React.createElement(ManifestListItemError, {\n          manifestId: manifestId\n        }));\n      }\n\n      return /*#__PURE__*/React.createElement(ListItem, {\n        divider: true,\n        className: [classes.root, active ? classes.active : ''].join(' '),\n        \"data-manifestid\": manifestId\n      }, ready ? /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        className: ns('manifest-list-item'),\n        spacing: 2\n      }, /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        className: classes.buttonGrid\n      }, /*#__PURE__*/React.createElement(ButtonBase, {\n        ref: buttonRef,\n        className: ns('manifest-list-item-title'),\n        style: {\n          width: '100%'\n        },\n        onClick: this.handleOpenButtonClick\n      }, /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        spacing: 2,\n        className: classes.label,\n        component: \"span\"\n      }, /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 4,\n        sm: 3,\n        component: \"span\"\n      }, thumbnail ? /*#__PURE__*/React.createElement(Img, {\n        className: [classes.thumbnail, ns('manifest-list-item-thumb')].join(' '),\n        src: [thumbnail],\n        alt: \"\",\n        height: \"80\",\n        unloader: /*#__PURE__*/React.createElement(Skeleton, {\n          variant: \"rect\",\n          animation: false,\n          className: classes.placeholder,\n          height: 80,\n          width: 120\n        })\n      }) : /*#__PURE__*/React.createElement(Skeleton, {\n        className: classes.placeholder,\n        variant: \"rect\",\n        height: 80,\n        width: 120\n      })), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 8,\n        sm: 9,\n        component: \"span\"\n      }, isCollection && /*#__PURE__*/React.createElement(Typography, {\n        component: \"div\",\n        variant: \"overline\"\n      }, t(isMultipart ? 'multipartCollection' : 'collection')), /*#__PURE__*/React.createElement(Typography, {\n        component: \"span\",\n        variant: \"h6\"\n      }, title || manifestId))))), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 8,\n        sm: 4\n      }, /*#__PURE__*/React.createElement(Typography, {\n        className: ns('manifest-list-item-provider')\n      }, provider), /*#__PURE__*/React.createElement(Typography, null, t('numItems', {\n        count: size,\n        number: size\n      }))), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 4,\n        sm: 2\n      }, manifestLogo && /*#__PURE__*/React.createElement(Img, {\n        src: [manifestLogo],\n        alt: \"\",\n        role: \"presentation\",\n        className: classes.logo,\n        unloader: /*#__PURE__*/React.createElement(Skeleton, {\n          variant: \"rect\",\n          animation: false,\n          className: classes.placeholder,\n          height: 60,\n          width: 60\n        })\n      }))) : placeholder);\n    }\n  }]);\n\n  return ManifestListItem;\n}(React.Component);\nManifestListItem.defaultProps = {\n  active: false,\n  buttonRef: undefined,\n  classes: {},\n  error: null,\n  handleClose: function handleClose() {},\n  isCollection: false,\n  isFetching: false,\n  isMultipart: false,\n  manifestLogo: null,\n  provider: null,\n  ready: false,\n  size: 0,\n  t: function t(key) {\n    return key;\n  },\n  thumbnail: null,\n  title: null\n};","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles } from '@material-ui/core';\nimport { withPlugins } from '../extend/withPlugins';\nimport { getManifest, getManifestTitle, getManifestThumbnail, getCanvases, getManifestLogo, getManifestProvider, getWindowManifests, getManifestoInstance, getSequenceBehaviors } from '../state/selectors';\nimport * as actions from '../state/actions';\nimport { ManifestListItem } from '../components/ManifestListItem';\n/** */\n\nvar mapStateToProps = function mapStateToProps(state, _ref) {\n  var manifestId = _ref.manifestId,\n      provider = _ref.provider;\n  var manifest = getManifest(state, {\n    manifestId: manifestId\n  }) || {};\n  var manifesto = getManifestoInstance(state, {\n    manifestId: manifestId\n  });\n  var isCollection = (manifesto || {\n    isCollection: function isCollection() {\n      return false;\n    }\n  }).isCollection();\n  var size = isCollection ? manifesto.getTotalItems() : getCanvases(state, {\n    manifestId: manifestId\n  }).length;\n  return {\n    active: getWindowManifests(state).includes(manifestId),\n    error: manifest.error,\n    isCollection: isCollection,\n    isFetching: manifest.isFetching,\n    isMultipart: isCollection && getSequenceBehaviors(state, {\n      manifestId: manifestId\n    }).includes('multi-part'),\n    manifestLogo: getManifestLogo(state, {\n      manifestId: manifestId\n    }),\n    provider: provider || getManifestProvider(state, {\n      manifestId: manifestId\n    }),\n    ready: !!manifest.json,\n    size: size,\n    thumbnail: getManifestThumbnail(state, {\n      manifestId: manifestId\n    }),\n    title: getManifestTitle(state, {\n      manifestId: manifestId\n    })\n  };\n};\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof ManifestListItem\n * @private\n */\n\n\nvar mapDispatchToProps = {\n  addWindow: actions.addWindow,\n  fetchManifest: actions.fetchManifest\n};\n/**\n *\n * @param theme\n * @returns {{root: {}, label: {textAlign: string, textTransform: string}}}\n */\n\nvar styles = function styles(theme) {\n  return {\n    active: {},\n    buttonGrid: {},\n    label: {\n      textAlign: 'left',\n      textTransform: 'initial'\n    },\n    logo: {\n      height: '2.5rem',\n      maxWidth: '100%',\n      objectFit: 'contain',\n      paddingRight: 8\n    },\n    placeholder: {\n      backgroundColor: theme.palette.grey[300]\n    },\n    root: _objectSpread(_objectSpread({}, theme.mixins.gutters()), {}, {\n      '&$active': {\n        borderLeft: \"4px solid \".concat(theme.palette.primary.main)\n      },\n      '&:hover,&:focus-within': {\n        '&$active': {\n          borderLeft: \"4px solid \".concat(theme.palette.primary.main)\n        },\n        backgroundColor: theme.palette.action.hover,\n        borderLeft: \"4px solid \".concat(theme.palette.action.hover)\n      },\n      borderLeft: '4px solid transparent'\n    }),\n    thumbnail: {\n      maxWidth: '100%',\n      objectFit: 'contain'\n    }\n  };\n};\n\nvar enhance = compose(withTranslation(), withStyles(styles), connect(mapStateToProps, mapDispatchToProps), withPlugins('ManifestListItem'));\nexport default enhance(ManifestListItem);","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React from 'react';\nimport classNames from 'classnames';\nimport AddIcon from '@material-ui/icons/AddSharp';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMoreSharp';\nimport AppBar from '@material-ui/core/AppBar';\nimport Drawer from '@material-ui/core/Drawer';\nimport Grid from '@material-ui/core/Grid';\nimport Fab from '@material-ui/core/Fab';\nimport List from '@material-ui/core/List';\nimport Paper from '@material-ui/core/Paper';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport ns from '../config/css-ns';\nimport ManifestForm from '../containers/ManifestForm';\nimport ManifestListItem from '../containers/ManifestListItem';\nimport MiradorMenuButton from '../containers/MiradorMenuButton';\nimport { IIIFDropTarget } from './IIIFDropTarget';\nimport { PluginHook } from './PluginHook';\n/**\n * An area for managing manifests and adding them to workspace\n * @memberof Workspace\n * @private\n */\n\nexport var WorkspaceAdd = /*#__PURE__*/function (_React$Component) {\n  _inherits(WorkspaceAdd, _React$Component);\n\n  var _super = _createSuper(WorkspaceAdd);\n\n  /** */\n  function WorkspaceAdd(props) {\n    var _this;\n\n    _classCallCheck(this, WorkspaceAdd);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      addResourcesOpen: false\n    };\n    _this.ref = /*#__PURE__*/React.createRef();\n    _this.onSubmit = _this.onSubmit.bind(_assertThisInitialized(_this));\n    _this.setAddResourcesVisibility = _this.setAddResourcesVisibility.bind(_assertThisInitialized(_this));\n    _this.handleDrop = _this.handleDrop.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /** */\n\n\n  _createClass(WorkspaceAdd, [{\n    key: \"handleDrop\",\n    value: function handleDrop(_ref, props, monitor) {\n      var manifestId = _ref.manifestId,\n          manifestJson = _ref.manifestJson;\n      var addResource = this.props.addResource;\n\n      if (manifestJson) {\n        addResource(manifestId, manifestJson, {\n          provider: 'file'\n        });\n      } else {\n        addResource(manifestId);\n      }\n\n      this.scrollToTop();\n    }\n    /** @private */\n\n  }, {\n    key: \"onSubmit\",\n    value: function onSubmit() {\n      this.setAddResourcesVisibility(false);\n      this.scrollToTop();\n    }\n    /**\n     * @private\n     */\n\n  }, {\n    key: \"setAddResourcesVisibility\",\n    value: function setAddResourcesVisibility(bool) {\n      this.setState({\n        addResourcesOpen: bool\n      });\n    }\n    /** Scroll the list back to the top */\n\n  }, {\n    key: \"scrollToTop\",\n    value: function scrollToTop() {\n      if (this.ref.current) {\n        var el = this.ref.current;\n        el.scrollTo({\n          behavior: 'smooth',\n          left: 0,\n          top: 0\n        });\n      }\n    }\n    /**\n     * render\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          catalog = _this$props.catalog,\n          setWorkspaceAddVisibility = _this$props.setWorkspaceAddVisibility,\n          t = _this$props.t,\n          classes = _this$props.classes;\n      var addResourcesOpen = this.state.addResourcesOpen;\n      var manifestList = catalog.map(function (resource, index) {\n        return /*#__PURE__*/React.createElement(ManifestListItem, Object.assign({}, index === 0 && {\n          buttonRef: function buttonRef(ref) {\n            return ref && ref.focus();\n          }\n        }, {\n          key: resource.manifestId,\n          manifestId: resource.manifestId,\n          provider: resource.provider,\n          handleClose: function handleClose() {\n            return setWorkspaceAddVisibility(false);\n          }\n        }));\n      });\n      return /*#__PURE__*/React.createElement(IIIFDropTarget, {\n        onDrop: this.handleDrop\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        ref: this.ref,\n        className: classNames(ns('workspace-add'), classes.workspaceAdd)\n      }, catalog.length < 1 ? /*#__PURE__*/React.createElement(Grid, {\n        alignItems: \"center\",\n        container: true,\n        style: {\n          height: '100%'\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        xs: 12,\n        item: true\n      }, /*#__PURE__*/React.createElement(Typography, {\n        variant: \"h1\",\n        component: \"div\",\n        align: \"center\"\n      }, t('emptyResourceList')))) : /*#__PURE__*/React.createElement(Paper, {\n        className: classes.list\n      }, /*#__PURE__*/React.createElement(Typography, {\n        variant: \"srOnly\",\n        component: \"h1\"\n      }, t('miradorResources')), /*#__PURE__*/React.createElement(PluginHook, this.props), /*#__PURE__*/React.createElement(List, {\n        disablePadding: true\n      }, manifestList)), /*#__PURE__*/React.createElement(Fab, {\n        variant: \"extended\",\n        disabled: addResourcesOpen,\n        className: classNames(classes.fab, ns('add-resource-button')),\n        color: \"primary\",\n        onClick: function onClick() {\n          return _this2.setAddResourcesVisibility(true);\n        }\n      }, /*#__PURE__*/React.createElement(AddIcon, null), t('addResource')), /*#__PURE__*/React.createElement(Drawer, {\n        className: classNames(_defineProperty({}, classes.displayNone, !addResourcesOpen)),\n        classes: {\n          paper: classes.paper\n        },\n        variant: \"persistent\",\n        anchor: \"bottom\",\n        open: addResourcesOpen,\n        ModalProps: {\n          disablePortal: true,\n          hideBackdrop: true,\n          style: {\n            position: 'absolute'\n          }\n        }\n      }, /*#__PURE__*/React.createElement(Paper, {\n        className: classes.form\n      }, /*#__PURE__*/React.createElement(AppBar, {\n        position: \"absolute\",\n        color: \"primary\",\n        onClick: function onClick() {\n          return _this2.setAddResourcesVisibility(false);\n        }\n      }, /*#__PURE__*/React.createElement(Toolbar, {\n        variant: \"dense\"\n      }, /*#__PURE__*/React.createElement(MiradorMenuButton, {\n        \"aria-label\": t('closeAddResourceForm'),\n        className: classes.menuButton,\n        color: \"inherit\"\n      }, /*#__PURE__*/React.createElement(ExpandMoreIcon, null)), /*#__PURE__*/React.createElement(Typography, {\n        variant: \"h2\",\n        noWrap: true,\n        color: \"inherit\",\n        className: classes.typographyBody\n      }, t('addResource')))), /*#__PURE__*/React.createElement(ManifestForm, {\n        addResourcesOpen: addResourcesOpen,\n        onSubmit: this.onSubmit,\n        onCancel: function onCancel() {\n          return _this2.setAddResourcesVisibility(false);\n        }\n      })))));\n    }\n  }]);\n\n  return WorkspaceAdd;\n}(React.Component);\nWorkspaceAdd.defaultProps = {\n  addResource: function addResource() {},\n  catalog: [],\n  classes: {},\n  t: function t(key) {\n    return key;\n  }\n};","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles } from '@material-ui/core';\nimport { withPlugins } from '../extend/withPlugins';\nimport * as actions from '../state/actions';\nimport { WorkspaceAdd } from '../components/WorkspaceAdd';\nimport { getCatalog } from '../state/selectors';\n/**\n * mapStateToProps - to hook up connect\n * @memberof Workspace\n * @private\n */\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    catalog: getCatalog(state)\n  };\n};\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof Workspace\n * @private\n */\n\n\nvar mapDispatchToProps = {\n  addResource: actions.addResource,\n  setWorkspaceAddVisibility: actions.setWorkspaceAddVisibility\n};\n/**\n *\n * @param theme\n * @returns {{typographyBody: {flexGrow: number, fontSize: string},\n * form: {paddingBottom: number, paddingTop: number, marginTop: number},\n * fab: {bottom: number, position: string, right: number},\n * menuButton: {marginRight: number, marginLeft: number}}}\n */\n\nvar styles = function styles(theme) {\n  return {\n    displayNone: {\n      display: 'none'\n    },\n    fab: {\n      bottom: theme.spacing(2),\n      position: 'absolute',\n      right: theme.spacing(2)\n    },\n    form: _objectSpread(_objectSpread({}, theme.mixins.gutters()), {}, {\n      left: '0',\n      marginTop: 48,\n      paddingBottom: theme.spacing(2),\n      paddingTop: theme.spacing(2),\n      right: '0'\n    }),\n    list: {\n      margin: '16px'\n    },\n    menuButton: {\n      marginLeft: -12,\n      marginRight: 20\n    },\n    paper: _defineProperty({\n      borderTop: '0',\n      left: '0'\n    }, theme.breakpoints.up('sm'), {\n      left: '65px'\n    }),\n    typographyBody: {\n      flexGrow: 1\n    },\n    workspaceAdd: {\n      boxSizing: 'border-box',\n      height: '100%',\n      overflowX: 'hidden',\n      overflowY: 'auto',\n      paddingTop: 68\n    },\n    // injection order matters\n    // eslint-disable-next-line sort-keys\n    '@media (min-width: 600px)': {\n      workspaceAdd: {\n        paddingLeft: 68,\n        paddingTop: 0\n      }\n    }\n  };\n};\n\nvar enhance = compose(withTranslation(), withStyles(styles), connect(mapStateToProps, mapDispatchToProps), withPlugins('WorkspaceAdd'));\nexport default enhance(WorkspaceAdd);","import React from 'react';\nimport ns from '../config/css-ns';\nimport { PluginHook } from './PluginHook';\n/** invisible area where background plugins can add to */\n\nexport var BackgroundPluginArea = function BackgroundPluginArea(props) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: ns('background-plugin-area'),\n    style: {\n      display: 'none'\n    }\n  }, /*#__PURE__*/React.createElement(PluginHook, props));\n};\nBackgroundPluginArea.defaultProps = {\n  PluginComponents: []\n};","import { withPlugins } from '../extend/withPlugins';\nimport { BackgroundPluginArea } from '../components/BackgroundPluginArea';\nexport default withPlugins('BackgroundPluginArea')(BackgroundPluginArea);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport classNames from 'classnames';\nimport ErrorDialog from '../containers/ErrorDialog';\nimport WorkspaceControlPanel from '../containers/WorkspaceControlPanel';\nimport Workspace from '../containers/Workspace';\nimport WorkspaceAdd from '../containers/WorkspaceAdd';\nimport BackgroundPluginArea from '../containers/BackgroundPluginArea';\nimport ns from '../config/css-ns';\n/**\n * This is the top level Mirador component.\n * @prop {Object} manifests\n */\n\nexport var WorkspaceArea = /*#__PURE__*/function (_Component) {\n  _inherits(WorkspaceArea, _Component);\n\n  var _super = _createSuper(WorkspaceArea);\n\n  function WorkspaceArea() {\n    _classCallCheck(this, WorkspaceArea);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(WorkspaceArea, [{\n    key: \"render\",\n    value:\n    /**\n     * render\n     * @return {String} - HTML markup for the component\n     */\n    function render() {\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          controlPanelVariant = _this$props.controlPanelVariant,\n          isWorkspaceAddVisible = _this$props.isWorkspaceAddVisible,\n          isWorkspaceControlPanelVisible = _this$props.isWorkspaceControlPanelVisible,\n          lang = _this$props.lang,\n          t = _this$props.t;\n      return /*#__PURE__*/React.createElement(React.Fragment, null, isWorkspaceControlPanelVisible && /*#__PURE__*/React.createElement(WorkspaceControlPanel, {\n        variant: controlPanelVariant\n      }), /*#__PURE__*/React.createElement(\"main\", {\n        className: classNames(classes.viewer, ns('viewer')),\n        lang: lang,\n        \"aria-label\": t('workspace')\n      }, isWorkspaceAddVisible ? /*#__PURE__*/React.createElement(WorkspaceAdd, null) : /*#__PURE__*/React.createElement(Workspace, null), /*#__PURE__*/React.createElement(ErrorDialog, null), /*#__PURE__*/React.createElement(BackgroundPluginArea, null)));\n    }\n  }]);\n\n  return WorkspaceArea;\n}(Component);\nWorkspaceArea.defaultProps = {\n  controlPanelVariant: undefined,\n  isWorkspaceAddVisible: false,\n  lang: undefined\n};","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles, lighten, darken } from '@material-ui/core/styles';\nimport { withPlugins } from '../extend/withPlugins';\nimport { WorkspaceArea } from '../components/WorkspaceArea';\nimport { getConfig, getWindowIds, getWorkspace } from '../state/selectors';\n/**\n * mapStateToProps - to hook up connect\n * @memberof App\n * @private\n */\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    controlPanelVariant: getWorkspace(state).isWorkspaceAddVisible || getWindowIds(state).length > 0 ? undefined : 'wide',\n    isWorkspaceAddVisible: getWorkspace(state).isWorkspaceAddVisible,\n    isWorkspaceControlPanelVisible: getConfig(state).workspaceControlPanel.enabled,\n    lang: getConfig(state).language\n  };\n};\n/**\n *\n * @param theme\n * @returns {{background: {background: string}}}\n */\n\n\nvar styles = function styles(theme) {\n  var getBackgroundColor = theme.palette.type === 'light' ? darken : lighten;\n  return {\n    viewer: {\n      background: getBackgroundColor(theme.palette.shades.light, 0.1),\n      bottom: 0,\n      left: 0,\n      overflow: 'hidden',\n      position: 'absolute',\n      right: 0,\n      top: 0\n    }\n  };\n};\n\nvar enhance = compose(withTranslation(), withStyles(styles), connect(mapStateToProps), withPlugins('WorkspaceArea'));\nexport default enhance(WorkspaceArea);","import * as React from 'react';\n/*\n * A utility for rendering a drag preview image\n */\n\nexport var DragPreviewImage = React.memo(function (_ref) {\n  var connect = _ref.connect,\n      src = _ref.src;\n\n  if (typeof Image !== 'undefined') {\n    var img = new Image();\n    img.src = src;\n\n    img.onload = function () {\n      return connect(img);\n    };\n  }\n\n  return null;\n});\nDragPreviewImage.displayName = 'DragPreviewImage';","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { invariant } from '@react-dnd/invariant';\nvar isCallingCanDrag = false;\nvar isCallingIsDragging = false;\nexport var DragSourceMonitorImpl =\n/*#__PURE__*/\nfunction () {\n  function DragSourceMonitorImpl(manager) {\n    _classCallCheck(this, DragSourceMonitorImpl);\n\n    this.sourceId = null;\n    this.internalMonitor = manager.getMonitor();\n  }\n\n  _createClass(DragSourceMonitorImpl, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(sourceId) {\n      this.sourceId = sourceId;\n    }\n  }, {\n    key: \"getHandlerId\",\n    value: function getHandlerId() {\n      return this.sourceId;\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      invariant(!isCallingCanDrag, 'You may not call monitor.canDrag() inside your canDrag() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor');\n\n      try {\n        isCallingCanDrag = true;\n        return this.internalMonitor.canDragSource(this.sourceId);\n      } finally {\n        isCallingCanDrag = false;\n      }\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging() {\n      if (!this.sourceId) {\n        return false;\n      }\n\n      invariant(!isCallingIsDragging, 'You may not call monitor.isDragging() inside your isDragging() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor');\n\n      try {\n        isCallingIsDragging = true;\n        return this.internalMonitor.isDraggingSource(this.sourceId);\n      } finally {\n        isCallingIsDragging = false;\n      }\n    }\n  }, {\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener, options) {\n      return this.internalMonitor.subscribeToStateChange(listener, options);\n    }\n  }, {\n    key: \"isDraggingSource\",\n    value: function isDraggingSource(sourceId) {\n      return this.internalMonitor.isDraggingSource(sourceId);\n    }\n  }, {\n    key: \"isOverTarget\",\n    value: function isOverTarget(targetId, options) {\n      return this.internalMonitor.isOverTarget(targetId, options);\n    }\n  }, {\n    key: \"getTargetIds\",\n    value: function getTargetIds() {\n      return this.internalMonitor.getTargetIds();\n    }\n  }, {\n    key: \"isSourcePublic\",\n    value: function isSourcePublic() {\n      return this.internalMonitor.isSourcePublic();\n    }\n  }, {\n    key: \"getSourceId\",\n    value: function getSourceId() {\n      return this.internalMonitor.getSourceId();\n    }\n  }, {\n    key: \"subscribeToOffsetChange\",\n    value: function subscribeToOffsetChange(listener) {\n      return this.internalMonitor.subscribeToOffsetChange(listener);\n    }\n  }, {\n    key: \"canDragSource\",\n    value: function canDragSource(sourceId) {\n      return this.internalMonitor.canDragSource(sourceId);\n    }\n  }, {\n    key: \"canDropOnTarget\",\n    value: function canDropOnTarget(targetId) {\n      return this.internalMonitor.canDropOnTarget(targetId);\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.internalMonitor.getItemType();\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.internalMonitor.getItem();\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.internalMonitor.getDropResult();\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.internalMonitor.didDrop();\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.internalMonitor.getInitialClientOffset();\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.internalMonitor.getInitialSourceClientOffset();\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset() {\n      return this.internalMonitor.getSourceClientOffset();\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.internalMonitor.getClientOffset();\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset() {\n      return this.internalMonitor.getDifferenceFromInitialOffset();\n    }\n  }]);\n\n  return DragSourceMonitorImpl;\n}();","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport wrapConnectorHooks from './wrapConnectorHooks';\nimport { isRef } from '../utils/isRef';\nimport { shallowEqual } from '@react-dnd/shallowequal';\nexport var SourceConnector =\n/*#__PURE__*/\nfunction () {\n  function SourceConnector(backend) {\n    var _this = this;\n\n    _classCallCheck(this, SourceConnector);\n\n    this.hooks = wrapConnectorHooks({\n      dragSource: function dragSource(node, options) {\n        _this.clearDragSource();\n\n        _this.dragSourceOptions = options || null;\n\n        if (isRef(node)) {\n          _this.dragSourceRef = node;\n        } else {\n          _this.dragSourceNode = node;\n        }\n\n        _this.reconnectDragSource();\n      },\n      dragPreview: function dragPreview(node, options) {\n        _this.clearDragPreview();\n\n        _this.dragPreviewOptions = options || null;\n\n        if (isRef(node)) {\n          _this.dragPreviewRef = node;\n        } else {\n          _this.dragPreviewNode = node;\n        }\n\n        _this.reconnectDragPreview();\n      }\n    });\n    this.handlerId = null; // The drop target may either be attached via ref or connect function\n\n    this.dragSourceRef = null;\n    this.dragSourceOptionsInternal = null; // The drag preview may either be attached via ref or connect function\n\n    this.dragPreviewRef = null;\n    this.dragPreviewOptionsInternal = null;\n    this.lastConnectedHandlerId = null;\n    this.lastConnectedDragSource = null;\n    this.lastConnectedDragSourceOptions = null;\n    this.lastConnectedDragPreview = null;\n    this.lastConnectedDragPreviewOptions = null;\n    this.backend = backend;\n  }\n\n  _createClass(SourceConnector, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(newHandlerId) {\n      if (this.handlerId === newHandlerId) {\n        return;\n      }\n\n      this.handlerId = newHandlerId;\n      this.reconnect();\n    }\n  }, {\n    key: \"reconnect\",\n    value: function reconnect() {\n      this.reconnectDragSource();\n      this.reconnectDragPreview();\n    }\n  }, {\n    key: \"reconnectDragSource\",\n    value: function reconnectDragSource() {\n      var dragSource = this.dragSource; // if nothing has changed then don't resubscribe\n\n      var didChange = this.didHandlerIdChange() || this.didConnectedDragSourceChange() || this.didDragSourceOptionsChange();\n\n      if (didChange) {\n        this.disconnectDragSource();\n      }\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dragSource) {\n        this.lastConnectedDragSource = dragSource;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDragSource = dragSource;\n        this.lastConnectedDragSourceOptions = this.dragSourceOptions;\n        this.dragSourceUnsubscribe = this.backend.connectDragSource(this.handlerId, dragSource, this.dragSourceOptions);\n      }\n    }\n  }, {\n    key: \"reconnectDragPreview\",\n    value: function reconnectDragPreview() {\n      var dragPreview = this.dragPreview; // if nothing has changed then don't resubscribe\n\n      var didChange = this.didHandlerIdChange() || this.didConnectedDragPreviewChange() || this.didDragPreviewOptionsChange();\n\n      if (!this.handlerId) {\n        this.disconnectDragPreview();\n      } else if (this.dragPreview && didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDragPreview = dragPreview;\n        this.lastConnectedDragPreviewOptions = this.dragPreviewOptions;\n        this.disconnectDragPreview();\n        this.dragPreviewUnsubscribe = this.backend.connectDragPreview(this.handlerId, dragPreview, this.dragPreviewOptions);\n      }\n    }\n  }, {\n    key: \"didHandlerIdChange\",\n    value: function didHandlerIdChange() {\n      return this.lastConnectedHandlerId !== this.handlerId;\n    }\n  }, {\n    key: \"didConnectedDragSourceChange\",\n    value: function didConnectedDragSourceChange() {\n      return this.lastConnectedDragSource !== this.dragSource;\n    }\n  }, {\n    key: \"didConnectedDragPreviewChange\",\n    value: function didConnectedDragPreviewChange() {\n      return this.lastConnectedDragPreview !== this.dragPreview;\n    }\n  }, {\n    key: \"didDragSourceOptionsChange\",\n    value: function didDragSourceOptionsChange() {\n      return !shallowEqual(this.lastConnectedDragSourceOptions, this.dragSourceOptions);\n    }\n  }, {\n    key: \"didDragPreviewOptionsChange\",\n    value: function didDragPreviewOptionsChange() {\n      return !shallowEqual(this.lastConnectedDragPreviewOptions, this.dragPreviewOptions);\n    }\n  }, {\n    key: \"disconnectDragSource\",\n    value: function disconnectDragSource() {\n      if (this.dragSourceUnsubscribe) {\n        this.dragSourceUnsubscribe();\n        this.dragSourceUnsubscribe = undefined;\n      }\n    }\n  }, {\n    key: \"disconnectDragPreview\",\n    value: function disconnectDragPreview() {\n      if (this.dragPreviewUnsubscribe) {\n        this.dragPreviewUnsubscribe();\n        this.dragPreviewUnsubscribe = undefined;\n        this.dragPreviewNode = null;\n        this.dragPreviewRef = null;\n      }\n    }\n  }, {\n    key: \"clearDragSource\",\n    value: function clearDragSource() {\n      this.dragSourceNode = null;\n      this.dragSourceRef = null;\n    }\n  }, {\n    key: \"clearDragPreview\",\n    value: function clearDragPreview() {\n      this.dragPreviewNode = null;\n      this.dragPreviewRef = null;\n    }\n  }, {\n    key: \"connectTarget\",\n    get: function get() {\n      return this.dragSource;\n    }\n  }, {\n    key: \"dragSourceOptions\",\n    get: function get() {\n      return this.dragSourceOptionsInternal;\n    },\n    set: function set(options) {\n      this.dragSourceOptionsInternal = options;\n    }\n  }, {\n    key: \"dragPreviewOptions\",\n    get: function get() {\n      return this.dragPreviewOptionsInternal;\n    },\n    set: function set(options) {\n      this.dragPreviewOptionsInternal = options;\n    }\n  }, {\n    key: \"dragSource\",\n    get: function get() {\n      return this.dragSourceNode || this.dragSourceRef && this.dragSourceRef.current;\n    }\n  }, {\n    key: \"dragPreview\",\n    get: function get() {\n      return this.dragPreviewNode || this.dragPreviewRef && this.dragPreviewRef.current;\n    }\n  }]);\n\n  return SourceConnector;\n}();","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport { useMemo } from 'react';\nimport { invariant } from '@react-dnd/invariant';\nimport { registerSource } from '../../common/registration';\nimport { useDragDropManager } from './useDragDropManager';\nimport { DragSourceMonitorImpl } from '../../common/DragSourceMonitorImpl';\nimport { SourceConnector } from '../../common/SourceConnector';\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect';\nexport function useDragSourceMonitor() {\n  var manager = useDragDropManager();\n  var monitor = useMemo(function () {\n    return new DragSourceMonitorImpl(manager);\n  }, [manager]);\n  var connector = useMemo(function () {\n    return new SourceConnector(manager.getBackend());\n  }, [manager]);\n  return [monitor, connector];\n}\nexport function useDragHandler(spec, monitor, connector) {\n  var manager = useDragDropManager();\n  var handler = useMemo(function () {\n    return {\n      beginDrag: function beginDrag() {\n        var _spec$current = spec.current,\n            begin = _spec$current.begin,\n            item = _spec$current.item;\n\n        if (begin) {\n          var beginResult = begin(monitor);\n          invariant(beginResult == null || _typeof(beginResult) === 'object', 'dragSpec.begin() must either return an object, undefined, or null');\n          return beginResult || item || {};\n        }\n\n        return item || {};\n      },\n      canDrag: function canDrag() {\n        if (typeof spec.current.canDrag === 'boolean') {\n          return spec.current.canDrag;\n        } else if (typeof spec.current.canDrag === 'function') {\n          return spec.current.canDrag(monitor);\n        } else {\n          return true;\n        }\n      },\n      isDragging: function isDragging(globalMonitor, target) {\n        var isDragging = spec.current.isDragging;\n        return isDragging ? isDragging(monitor) : target === globalMonitor.getSourceId();\n      },\n      endDrag: function endDrag() {\n        var end = spec.current.end;\n\n        if (end) {\n          end(monitor.getItem(), monitor);\n        }\n\n        connector.reconnect();\n      }\n    };\n  }, []);\n  useIsomorphicLayoutEffect(function registerHandler() {\n    var _registerSource = registerSource(spec.current.item.type, handler, manager),\n        _registerSource2 = _slicedToArray(_registerSource, 2),\n        handlerId = _registerSource2[0],\n        unregister = _registerSource2[1];\n\n    monitor.receiveHandlerId(handlerId);\n    connector.receiveHandlerId(handlerId);\n    return unregister;\n  }, []);\n}","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { useRef, useMemo } from 'react';\nimport { invariant } from '@react-dnd/invariant';\nimport { useMonitorOutput } from './internal/useMonitorOutput';\nimport { useIsomorphicLayoutEffect } from './internal/useIsomorphicLayoutEffect';\nimport { useDragSourceMonitor, useDragHandler } from './internal/drag';\n/**\n * useDragSource hook\n * @param sourceSpec The drag source specification *\n */\n\nexport function useDrag(spec) {\n  var specRef = useRef(spec);\n  specRef.current = spec; // TODO: wire options into createSourceConnector\n\n  invariant(spec.item != null, 'item must be defined');\n  invariant(spec.item.type != null, 'item type must be defined');\n\n  var _useDragSourceMonitor = useDragSourceMonitor(),\n      _useDragSourceMonitor2 = _slicedToArray(_useDragSourceMonitor, 2),\n      monitor = _useDragSourceMonitor2[0],\n      connector = _useDragSourceMonitor2[1];\n\n  useDragHandler(specRef, monitor, connector);\n  var result = useMonitorOutput(monitor, specRef.current.collect || function () {\n    return {};\n  }, function () {\n    return connector.reconnect();\n  });\n  var connectDragSource = useMemo(function () {\n    return connector.hooks.dragSource();\n  }, [connector]);\n  var connectDragPreview = useMemo(function () {\n    return connector.hooks.dragPreview();\n  }, [connector]);\n  useIsomorphicLayoutEffect(function () {\n    connector.dragSourceOptions = specRef.current.options || null;\n    connector.reconnect();\n  }, [connector]);\n  useIsomorphicLayoutEffect(function () {\n    connector.dragPreviewOptions = specRef.current.previewOptions || null;\n    connector.reconnect();\n  }, [connector]);\n  return [result, connectDragSource, connectDragPreview];\n}","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n// cheap lodash replacements\nexport function isFunction(input) {\n  return typeof input === 'function';\n}\nexport function noop() {// noop\n}\n\nfunction isObjectLike(input) {\n  return _typeof(input) === 'object' && input !== null;\n}\n\nexport function isPlainObject(input) {\n  if (!isObjectLike(input)) {\n    return false;\n  }\n\n  if (Object.getPrototypeOf(input) === null) {\n    return true;\n  }\n\n  var proto = input;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(input) === proto;\n}","export function getDecoratedComponent(instanceRef) {\n  var currentRef = instanceRef.current;\n\n  if (currentRef == null) {\n    return null;\n  } else if (currentRef.decoratedRef) {\n    // go through the private field in decorateHandler to avoid the invariant hit\n    return currentRef.decoratedRef.current;\n  } else {\n    return currentRef;\n  }\n}\nexport function isClassComponent(Component) {\n  return Component && Component.prototype && typeof Component.prototype.render === 'function';\n}\nexport function isRefForwardingComponent(C) {\n  return C && C.$$typeof && C.$$typeof.toString() === 'Symbol(react.forward_ref)';\n}\nexport function isRefable(C) {\n  return isClassComponent(C) || isRefForwardingComponent(C);\n}\nexport function checkDecoratorArguments(functionName, signature) {\n  if (process.env.NODE_ENV !== 'production') {\n    for (var i = 0; i < (arguments.length <= 2 ? 0 : arguments.length - 2); i++) {\n      var arg = i + 2 < 2 || arguments.length <= i + 2 ? undefined : arguments[i + 2];\n\n      if (arg && arg.prototype && arg.prototype.render) {\n        // eslint-disable-next-line no-console\n        console.error('You seem to be applying the arguments in the wrong order. ' + \"It should be \".concat(functionName, \"(\").concat(signature, \")(Component), not the other way around. \") + 'Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#you-seem-to-be-applying-the-arguments-in-the-wrong-order');\n        return;\n      }\n    }\n  }\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { isFunction, noop } from '../utils/js_utils';\n/**\n * Provides a set of static methods for creating Disposables.\n * @param {Function} action Action to run during the first call to dispose.\n * The action is guaranteed to be run at most once.\n */\n\nexport var Disposable =\n/*#__PURE__*/\nfunction () {\n  function Disposable(action) {\n    _classCallCheck(this, Disposable);\n\n    this.isDisposed = false;\n    this.action = isFunction(action) ? action : noop;\n  }\n  /**\n   * Validates whether the given object is a disposable\n   * @param {Object} Object to test whether it has a dispose method\n   * @returns {Boolean} true if a disposable object, else false.\n   */\n\n\n  _createClass(Disposable, [{\n    key: \"dispose\",\n\n    /** Performs the task of cleaning up resources. */\n    value: function dispose() {\n      if (!this.isDisposed) {\n        this.action();\n        this.isDisposed = true;\n      }\n    }\n  }], [{\n    key: \"isDisposable\",\n    value: function isDisposable(d) {\n      return d && isFunction(d.dispose);\n    }\n  }, {\n    key: \"_fixup\",\n    value: function _fixup(result) {\n      return Disposable.isDisposable(result) ? result : Disposable.empty;\n    }\n    /**\n     * Creates a disposable object that invokes the specified action when disposed.\n     * @param {Function} dispose Action to run during the first call to dispose.\n     * The action is guaranteed to be run at most once.\n     * @return {Disposable} The disposable object that runs the given action upon disposal.\n     */\n\n  }, {\n    key: \"create\",\n    value: function create(action) {\n      return new Disposable(action);\n    }\n  }]);\n\n  return Disposable;\n}();\n/**\n * Gets the disposable that does nothing when disposed.\n */\n\nDisposable.empty = {\n  dispose: noop\n};\n/**\n * Represents a group of disposable resources that are disposed together.\n * @constructor\n */\n\nexport var CompositeDisposable =\n/*#__PURE__*/\nfunction () {\n  function CompositeDisposable() {\n    _classCallCheck(this, CompositeDisposable);\n\n    this.isDisposed = false;\n\n    for (var _len = arguments.length, disposables = new Array(_len), _key = 0; _key < _len; _key++) {\n      disposables[_key] = arguments[_key];\n    }\n\n    this.disposables = disposables;\n  }\n  /**\n   * Adds a disposable to the CompositeDisposable or disposes the disposable if the CompositeDisposable is disposed.\n   * @param {Any} item Disposable to add.\n   */\n\n\n  _createClass(CompositeDisposable, [{\n    key: \"add\",\n    value: function add(item) {\n      if (this.isDisposed) {\n        item.dispose();\n      } else {\n        this.disposables.push(item);\n      }\n    }\n    /**\n     * Removes and disposes the first occurrence of a disposable from the CompositeDisposable.\n     * @param {Any} item Disposable to remove.\n     * @returns {Boolean} true if found; false otherwise.\n     */\n\n  }, {\n    key: \"remove\",\n    value: function remove(item) {\n      var shouldDispose = false;\n\n      if (!this.isDisposed) {\n        var idx = this.disposables.indexOf(item);\n\n        if (idx !== -1) {\n          shouldDispose = true;\n          this.disposables.splice(idx, 1);\n          item.dispose();\n        }\n      }\n\n      return shouldDispose;\n    }\n    /**\n     *  Disposes all disposables in the group and removes them from the group but\n     *  does not dispose the CompositeDisposable.\n     */\n\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      if (!this.isDisposed) {\n        var len = this.disposables.length;\n        var currentDisposables = new Array(len);\n\n        for (var i = 0; i < len; i++) {\n          currentDisposables[i] = this.disposables[i];\n        }\n\n        this.disposables = [];\n\n        for (var _i = 0; _i < len; _i++) {\n          currentDisposables[_i].dispose();\n        }\n      }\n    }\n    /**\n     *  Disposes all disposables in the group and removes them from the group.\n     */\n\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      if (!this.isDisposed) {\n        this.isDisposed = true;\n        var len = this.disposables.length;\n        var currentDisposables = new Array(len);\n\n        for (var i = 0; i < len; i++) {\n          currentDisposables[i] = this.disposables[i];\n        }\n\n        this.disposables = [];\n\n        for (var _i2 = 0; _i2 < len; _i2++) {\n          currentDisposables[_i2].dispose();\n        }\n      }\n    }\n  }]);\n\n  return CompositeDisposable;\n}();\n/**\n * Represents a disposable resource whose underlying disposable resource can\n * be replaced by another disposable resource, causing automatic disposal of\n * the previous underlying disposable resource.\n */\n\nexport var SerialDisposable =\n/*#__PURE__*/\nfunction () {\n  function SerialDisposable() {\n    _classCallCheck(this, SerialDisposable);\n\n    this.isDisposed = false;\n  }\n  /**\n   * Gets the underlying disposable.\n   * @returns {Any} the underlying disposable.\n   */\n\n\n  _createClass(SerialDisposable, [{\n    key: \"getDisposable\",\n    value: function getDisposable() {\n      return this.current;\n    }\n  }, {\n    key: \"setDisposable\",\n    value: function setDisposable(value) {\n      var shouldDispose = this.isDisposed;\n\n      if (!shouldDispose) {\n        var old = this.current;\n        this.current = value;\n\n        if (old) {\n          old.dispose();\n        }\n      }\n\n      if (shouldDispose && value) {\n        value.dispose();\n      }\n    }\n    /** Performs the task of cleaning up resources. */\n\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      if (!this.isDisposed) {\n        this.isDisposed = true;\n        var old = this.current;\n        this.current = undefined;\n\n        if (old) {\n          old.dispose();\n        }\n      }\n    }\n  }]);\n\n  return SerialDisposable;\n}();","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport * as React from 'react';\nimport { shallowEqual } from '@react-dnd/shallowequal';\nimport { invariant } from '@react-dnd/invariant';\nimport hoistStatics from 'hoist-non-react-statics';\nimport { DndContext } from '../index';\nimport { isPlainObject } from '../utils/js_utils';\nimport { Disposable, CompositeDisposable, SerialDisposable } from './disposables';\nimport { isRefable } from './utils';\nexport default function decorateHandler(_ref) {\n  var DecoratedComponent = _ref.DecoratedComponent,\n      createHandler = _ref.createHandler,\n      createMonitor = _ref.createMonitor,\n      createConnector = _ref.createConnector,\n      registerHandler = _ref.registerHandler,\n      containerDisplayName = _ref.containerDisplayName,\n      getType = _ref.getType,\n      collect = _ref.collect,\n      options = _ref.options;\n  var _options$arePropsEqua = options.arePropsEqual,\n      arePropsEqual = _options$arePropsEqua === void 0 ? shallowEqual : _options$arePropsEqua;\n  var Decorated = DecoratedComponent;\n  var displayName = DecoratedComponent.displayName || DecoratedComponent.name || 'Component';\n\n  var DragDropContainer =\n  /*#__PURE__*/\n  function (_React$Component) {\n    _inherits(DragDropContainer, _React$Component);\n\n    function DragDropContainer(props) {\n      var _this;\n\n      _classCallCheck(this, DragDropContainer);\n\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(DragDropContainer).call(this, props));\n      _this.decoratedRef = React.createRef();\n\n      _this.handleChange = function () {\n        var nextState = _this.getCurrentState();\n\n        if (!shallowEqual(nextState, _this.state)) {\n          _this.setState(nextState);\n        }\n      };\n\n      _this.disposable = new SerialDisposable();\n\n      _this.receiveProps(props);\n\n      _this.dispose();\n\n      return _this;\n    }\n\n    _createClass(DragDropContainer, [{\n      key: \"getHandlerId\",\n      value: function getHandlerId() {\n        return this.handlerId;\n      }\n    }, {\n      key: \"getDecoratedComponentInstance\",\n      value: function getDecoratedComponentInstance() {\n        invariant(this.decoratedRef.current, 'In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()');\n        return this.decoratedRef.current;\n      }\n    }, {\n      key: \"shouldComponentUpdate\",\n      value: function shouldComponentUpdate(nextProps, nextState) {\n        return !arePropsEqual(nextProps, this.props) || !shallowEqual(nextState, this.state);\n      }\n    }, {\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        this.disposable = new SerialDisposable();\n        this.currentType = undefined;\n        this.receiveProps(this.props);\n        this.handleChange();\n      }\n    }, {\n      key: \"componentDidUpdate\",\n      value: function componentDidUpdate(prevProps) {\n        if (!arePropsEqual(this.props, prevProps)) {\n          this.receiveProps(this.props);\n          this.handleChange();\n        }\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        this.dispose();\n      }\n    }, {\n      key: \"receiveProps\",\n      value: function receiveProps(props) {\n        if (!this.handler) {\n          return;\n        }\n\n        this.handler.receiveProps(props);\n        this.receiveType(getType(props));\n      }\n    }, {\n      key: \"receiveType\",\n      value: function receiveType(type) {\n        if (!this.handlerMonitor || !this.manager || !this.handlerConnector) {\n          return;\n        }\n\n        if (type === this.currentType) {\n          return;\n        }\n\n        this.currentType = type;\n\n        var _registerHandler = registerHandler(type, this.handler, this.manager),\n            _registerHandler2 = _slicedToArray(_registerHandler, 2),\n            handlerId = _registerHandler2[0],\n            unregister = _registerHandler2[1];\n\n        this.handlerId = handlerId;\n        this.handlerMonitor.receiveHandlerId(handlerId);\n        this.handlerConnector.receiveHandlerId(handlerId);\n        var globalMonitor = this.manager.getMonitor();\n        var unsubscribe = globalMonitor.subscribeToStateChange(this.handleChange, {\n          handlerIds: [handlerId]\n        });\n        this.disposable.setDisposable(new CompositeDisposable(new Disposable(unsubscribe), new Disposable(unregister)));\n      }\n    }, {\n      key: \"dispose\",\n      value: function dispose() {\n        this.disposable.dispose();\n\n        if (this.handlerConnector) {\n          this.handlerConnector.receiveHandlerId(null);\n        }\n      }\n    }, {\n      key: \"getCurrentState\",\n      value: function getCurrentState() {\n        if (!this.handlerConnector) {\n          return {};\n        }\n\n        var nextState = collect(this.handlerConnector.hooks, this.handlerMonitor, this.props);\n\n        if (process.env.NODE_ENV !== 'production') {\n          invariant(isPlainObject(nextState), 'Expected `collect` specified as the second argument to ' + '%s for %s to return a plain object of props to inject. ' + 'Instead, received %s.', containerDisplayName, displayName, nextState);\n        }\n\n        return nextState;\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this2 = this;\n\n        return React.createElement(DndContext.Consumer, null, function (_ref2) {\n          var dragDropManager = _ref2.dragDropManager;\n\n          _this2.receiveDragDropManager(dragDropManager);\n\n          if (typeof requestAnimationFrame !== 'undefined') {\n            requestAnimationFrame(function () {\n              return _this2.handlerConnector.reconnect();\n            });\n          }\n\n          return React.createElement(Decorated, Object.assign({}, _this2.props, _this2.getCurrentState(), {\n            // NOTE: if Decorated is a Function Component, decoratedRef will not be populated unless it's a refforwarding component.\n            ref: isRefable(Decorated) ? _this2.decoratedRef : null\n          }));\n        });\n      }\n    }, {\n      key: \"receiveDragDropManager\",\n      value: function receiveDragDropManager(dragDropManager) {\n        if (this.manager !== undefined) {\n          return;\n        }\n\n        invariant(dragDropManager !== undefined, 'Could not find the drag and drop manager in the context of %s. ' + 'Make sure to render a DndProvider component in your top-level component. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context', displayName, displayName);\n\n        if (dragDropManager === undefined) {\n          return;\n        }\n\n        this.manager = dragDropManager;\n        this.handlerMonitor = createMonitor(dragDropManager);\n        this.handlerConnector = createConnector(dragDropManager.getBackend());\n        this.handler = createHandler(this.handlerMonitor, this.decoratedRef);\n      }\n    }]);\n\n    return DragDropContainer;\n  }(React.Component);\n\n  DragDropContainer.DecoratedComponent = DecoratedComponent;\n  DragDropContainer.displayName = \"\".concat(containerDisplayName, \"(\").concat(displayName, \")\");\n  return hoistStatics(DragDropContainer, DecoratedComponent);\n}","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nexport function isValidType(type, allowArray) {\n  return typeof type === 'string' || _typeof(type) === 'symbol' || !!allowArray && Array.isArray(type) && type.every(function (t) {\n    return isValidType(t, false);\n  });\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { isPlainObject } from '../utils/js_utils';\nimport { getDecoratedComponent } from './utils';\nvar ALLOWED_SPEC_METHODS = ['canDrag', 'beginDrag', 'isDragging', 'endDrag'];\nvar REQUIRED_SPEC_METHODS = ['beginDrag'];\n\nvar SourceImpl =\n/*#__PURE__*/\nfunction () {\n  function SourceImpl(spec, monitor, ref) {\n    var _this = this;\n\n    _classCallCheck(this, SourceImpl);\n\n    this.props = null;\n\n    this.beginDrag = function () {\n      if (!_this.props) {\n        return;\n      }\n\n      var item = _this.spec.beginDrag(_this.props, _this.monitor, _this.ref.current);\n\n      if (process.env.NODE_ENV !== 'production') {\n        invariant(isPlainObject(item), 'beginDrag() must return a plain object that represents the dragged item. ' + 'Instead received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', item);\n      }\n\n      return item;\n    };\n\n    this.spec = spec;\n    this.monitor = monitor;\n    this.ref = ref;\n  }\n\n  _createClass(SourceImpl, [{\n    key: \"receiveProps\",\n    value: function receiveProps(props) {\n      this.props = props;\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      if (!this.props) {\n        return false;\n      }\n\n      if (!this.spec.canDrag) {\n        return true;\n      }\n\n      return this.spec.canDrag(this.props, this.monitor);\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging(globalMonitor, sourceId) {\n      if (!this.props) {\n        return false;\n      }\n\n      if (!this.spec.isDragging) {\n        return sourceId === globalMonitor.getSourceId();\n      }\n\n      return this.spec.isDragging(this.props, this.monitor);\n    }\n  }, {\n    key: \"endDrag\",\n    value: function endDrag() {\n      if (!this.props) {\n        return;\n      }\n\n      if (!this.spec.endDrag) {\n        return;\n      }\n\n      this.spec.endDrag(this.props, this.monitor, getDecoratedComponent(this.ref));\n    }\n  }]);\n\n  return SourceImpl;\n}();\n\nexport default function createSourceFactory(spec) {\n  Object.keys(spec).forEach(function (key) {\n    invariant(ALLOWED_SPEC_METHODS.indexOf(key) > -1, 'Expected the drag source specification to only have ' + 'some of the following keys: %s. ' + 'Instead received a specification with an unexpected \"%s\" key. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', ALLOWED_SPEC_METHODS.join(', '), key);\n    invariant(typeof spec[key] === 'function', 'Expected %s in the drag source specification to be a function. ' + 'Instead received a specification with %s: %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', key, key, spec[key]);\n  });\n  REQUIRED_SPEC_METHODS.forEach(function (key) {\n    invariant(typeof spec[key] === 'function', 'Expected %s in the drag source specification to be a function. ' + 'Instead received a specification with %s: %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', key, key, spec[key]);\n  });\n  return function createSource(monitor, ref) {\n    return new SourceImpl(spec, monitor, ref);\n  };\n}","import { invariant } from '@react-dnd/invariant';\nimport { isPlainObject } from '../utils/js_utils';\nimport { checkDecoratorArguments } from './utils';\nimport decorateHandler from './decorateHandler';\nimport { registerSource } from '../common/registration';\nimport { DragSourceMonitorImpl } from '../common/DragSourceMonitorImpl';\nimport { SourceConnector } from '../common/SourceConnector';\nimport { isValidType } from '../utils/isValidType';\nimport createSourceFactory from './createSourceFactory';\n/**\n * Decorates a component as a dragsource\n * @param type The dragsource type\n * @param spec The drag source specification\n * @param collect The props collector function\n * @param options DnD options\n */\n\nexport function DragSource(type, spec, collect) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  checkDecoratorArguments('DragSource', 'type, spec, collect[, options]', type, spec, collect, options);\n  var getType = type;\n\n  if (typeof type !== 'function') {\n    invariant(isValidType(type), 'Expected \"type\" provided as the first argument to DragSource to be ' + 'a string, or a function that returns a string given the current props. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', type);\n\n    getType = function getType() {\n      return type;\n    };\n  }\n\n  invariant(isPlainObject(spec), 'Expected \"spec\" provided as the second argument to DragSource to be ' + 'a plain object. Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', spec);\n  var createSource = createSourceFactory(spec);\n  invariant(typeof collect === 'function', 'Expected \"collect\" provided as the third argument to DragSource to be ' + 'a function that returns a plain object of props to inject. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', collect);\n  invariant(isPlainObject(options), 'Expected \"options\" provided as the fourth argument to DragSource to be ' + 'a plain object when specified. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', collect);\n  return function decorateSource(DecoratedComponent) {\n    return decorateHandler({\n      containerDisplayName: 'DragSource',\n      createHandler: createSource,\n      registerHandler: registerSource,\n      createConnector: function createConnector(backend) {\n        return new SourceConnector(backend);\n      },\n      createMonitor: function createMonitor(manager) {\n        return new DragSourceMonitorImpl(manager);\n      },\n      DecoratedComponent: DecoratedComponent,\n      getType: getType,\n      collect: collect,\n      options: options\n    });\n  };\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { isPlainObject } from '../utils/js_utils';\nimport { getDecoratedComponent } from './utils';\nvar ALLOWED_SPEC_METHODS = ['canDrop', 'hover', 'drop'];\n\nvar TargetImpl =\n/*#__PURE__*/\nfunction () {\n  function TargetImpl(spec, monitor, ref) {\n    _classCallCheck(this, TargetImpl);\n\n    this.props = null;\n    this.spec = spec;\n    this.monitor = monitor;\n    this.ref = ref;\n  }\n\n  _createClass(TargetImpl, [{\n    key: \"receiveProps\",\n    value: function receiveProps(props) {\n      this.props = props;\n    }\n  }, {\n    key: \"receiveMonitor\",\n    value: function receiveMonitor(monitor) {\n      this.monitor = monitor;\n    }\n  }, {\n    key: \"canDrop\",\n    value: function canDrop() {\n      if (!this.spec.canDrop) {\n        return true;\n      }\n\n      return this.spec.canDrop(this.props, this.monitor);\n    }\n  }, {\n    key: \"hover\",\n    value: function hover() {\n      if (!this.spec.hover) {\n        return;\n      }\n\n      this.spec.hover(this.props, this.monitor, getDecoratedComponent(this.ref));\n    }\n  }, {\n    key: \"drop\",\n    value: function drop() {\n      if (!this.spec.drop) {\n        return undefined;\n      }\n\n      var dropResult = this.spec.drop(this.props, this.monitor, this.ref.current);\n\n      if (process.env.NODE_ENV !== 'production') {\n        invariant(typeof dropResult === 'undefined' || isPlainObject(dropResult), 'drop() must either return undefined, or an object that represents the drop result. ' + 'Instead received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', dropResult);\n      }\n\n      return dropResult;\n    }\n  }]);\n\n  return TargetImpl;\n}();\n\nexport default function createTargetFactory(spec) {\n  Object.keys(spec).forEach(function (key) {\n    invariant(ALLOWED_SPEC_METHODS.indexOf(key) > -1, 'Expected the drop target specification to only have ' + 'some of the following keys: %s. ' + 'Instead received a specification with an unexpected \"%s\" key. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', ALLOWED_SPEC_METHODS.join(', '), key);\n    invariant(typeof spec[key] === 'function', 'Expected %s in the drop target specification to be a function. ' + 'Instead received a specification with %s: %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', key, key, spec[key]);\n  });\n  return function createTarget(monitor, ref) {\n    return new TargetImpl(spec, monitor, ref);\n  };\n}","import { invariant } from '@react-dnd/invariant';\nimport { isPlainObject } from '../utils/js_utils';\nimport { registerTarget } from '../common/registration';\nimport { isValidType } from '../utils/isValidType';\nimport { TargetConnector } from '../common/TargetConnector';\nimport { DropTargetMonitorImpl } from '../common/DropTargetMonitorImpl';\nimport { checkDecoratorArguments } from './utils';\nimport decorateHandler from './decorateHandler';\nimport createTargetFactory from './createTargetFactory';\nexport function DropTarget(type, spec, collect) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  checkDecoratorArguments('DropTarget', 'type, spec, collect[, options]', type, spec, collect, options);\n  var getType = type;\n\n  if (typeof type !== 'function') {\n    invariant(isValidType(type, true), 'Expected \"type\" provided as the first argument to DropTarget to be ' + 'a string, an array of strings, or a function that returns either given ' + 'the current props. Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', type);\n\n    getType = function getType() {\n      return type;\n    };\n  }\n\n  invariant(isPlainObject(spec), 'Expected \"spec\" provided as the second argument to DropTarget to be ' + 'a plain object. Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', spec);\n  var createTarget = createTargetFactory(spec);\n  invariant(typeof collect === 'function', 'Expected \"collect\" provided as the third argument to DropTarget to be ' + 'a function that returns a plain object of props to inject. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', collect);\n  invariant(isPlainObject(options), 'Expected \"options\" provided as the fourth argument to DropTarget to be ' + 'a plain object when specified. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', collect);\n  return function decorateTarget(DecoratedComponent) {\n    return decorateHandler({\n      containerDisplayName: 'DropTarget',\n      createHandler: createTarget,\n      registerHandler: registerTarget,\n      createMonitor: function createMonitor(manager) {\n        return new DropTargetMonitorImpl(manager);\n      },\n      createConnector: function createConnector(backend) {\n        return new TargetConnector(backend);\n      },\n      DecoratedComponent: DecoratedComponent,\n      getType: getType,\n      collect: collect,\n      options: options\n    });\n  };\n}","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport * as React from 'react';\nimport { shallowEqual } from '@react-dnd/shallowequal';\nimport hoistStatics from 'hoist-non-react-statics';\nimport { invariant } from '@react-dnd/invariant';\nimport { DndContext } from '../index';\nimport { isPlainObject } from '../utils/js_utils';\nimport { isRefable, checkDecoratorArguments } from './utils';\nexport function DragLayer(collect) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  checkDecoratorArguments('DragLayer', 'collect[, options]', collect, options);\n  invariant(typeof collect === 'function', 'Expected \"collect\" provided as the first argument to DragLayer to be a function that collects props to inject into the component. ', 'Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer', collect);\n  invariant(isPlainObject(options), 'Expected \"options\" provided as the second argument to DragLayer to be a plain object when specified. ' + 'Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer', options);\n  return function decorateLayer(DecoratedComponent) {\n    var Decorated = DecoratedComponent;\n    var _options$arePropsEqua = options.arePropsEqual,\n        arePropsEqual = _options$arePropsEqua === void 0 ? shallowEqual : _options$arePropsEqua;\n    var displayName = Decorated.displayName || Decorated.name || 'Component';\n\n    var DragLayerContainer =\n    /*#__PURE__*/\n    function (_React$Component) {\n      _inherits(DragLayerContainer, _React$Component);\n\n      function DragLayerContainer() {\n        var _this;\n\n        _classCallCheck(this, DragLayerContainer);\n\n        _this = _possibleConstructorReturn(this, _getPrototypeOf(DragLayerContainer).apply(this, arguments));\n        _this.isCurrentlyMounted = false;\n        _this.ref = React.createRef();\n\n        _this.handleChange = function () {\n          if (!_this.isCurrentlyMounted) {\n            return;\n          }\n\n          var nextState = _this.getCurrentState();\n\n          if (!shallowEqual(nextState, _this.state)) {\n            _this.setState(nextState);\n          }\n        };\n\n        return _this;\n      }\n\n      _createClass(DragLayerContainer, [{\n        key: \"getDecoratedComponentInstance\",\n        value: function getDecoratedComponentInstance() {\n          invariant(this.ref.current, 'In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()');\n          return this.ref.current;\n        }\n      }, {\n        key: \"shouldComponentUpdate\",\n        value: function shouldComponentUpdate(nextProps, nextState) {\n          return !arePropsEqual(nextProps, this.props) || !shallowEqual(nextState, this.state);\n        }\n      }, {\n        key: \"componentDidMount\",\n        value: function componentDidMount() {\n          this.isCurrentlyMounted = true;\n          this.handleChange();\n        }\n      }, {\n        key: \"componentWillUnmount\",\n        value: function componentWillUnmount() {\n          this.isCurrentlyMounted = false;\n\n          if (this.unsubscribeFromOffsetChange) {\n            this.unsubscribeFromOffsetChange();\n            this.unsubscribeFromOffsetChange = undefined;\n          }\n\n          if (this.unsubscribeFromStateChange) {\n            this.unsubscribeFromStateChange();\n            this.unsubscribeFromStateChange = undefined;\n          }\n        }\n      }, {\n        key: \"render\",\n        value: function render() {\n          var _this2 = this;\n\n          return React.createElement(DndContext.Consumer, null, function (_ref) {\n            var dragDropManager = _ref.dragDropManager;\n\n            if (dragDropManager === undefined) {\n              return null;\n            }\n\n            _this2.receiveDragDropManager(dragDropManager); // Let componentDidMount fire to initialize the collected state\n\n\n            if (!_this2.isCurrentlyMounted) {\n              return null;\n            }\n\n            return React.createElement(Decorated, Object.assign({}, _this2.props, _this2.state, {\n              ref: isRefable(Decorated) ? _this2.ref : null\n            }));\n          });\n        }\n      }, {\n        key: \"receiveDragDropManager\",\n        value: function receiveDragDropManager(dragDropManager) {\n          if (this.manager !== undefined) {\n            return;\n          }\n\n          this.manager = dragDropManager;\n          invariant(_typeof(dragDropManager) === 'object', 'Could not find the drag and drop manager in the context of %s. ' + 'Make sure to render a DndProvider component in your top-level component. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context', displayName, displayName);\n          var monitor = this.manager.getMonitor();\n          this.unsubscribeFromOffsetChange = monitor.subscribeToOffsetChange(this.handleChange);\n          this.unsubscribeFromStateChange = monitor.subscribeToStateChange(this.handleChange);\n        }\n      }, {\n        key: \"getCurrentState\",\n        value: function getCurrentState() {\n          if (!this.manager) {\n            return {};\n          }\n\n          var monitor = this.manager.getMonitor();\n          return collect(monitor, this.props);\n        }\n      }]);\n\n      return DragLayerContainer;\n    }(React.Component);\n\n    DragLayerContainer.displayName = \"DragLayer(\".concat(displayName, \")\");\n    DragLayerContainer.DecoratedComponent = DecoratedComponent;\n    return hoistStatics(DragLayerContainer, DecoratedComponent);\n  };\n}","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MosaicWindowContext = exports.MosaicContext = void 0;\nvar react_1 = __importDefault(require(\"react\"));\nexports.MosaicContext = react_1.default.createContext(undefined);\nexports.MosaicWindowContext = react_1.default.createContext(undefined);\n//# sourceMappingURL=contextTypes.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OptionalBlueprint = void 0;\nvar React = __importStar(require(\"react\"));\nvar OptionalBlueprint;\n(function (OptionalBlueprint) {\n    var _a;\n    var Classes;\n    var IconNames;\n    try {\n        // Webpack is quieter about these errors\n        // https://github.com/nomcopter/react-mosaic/issues/109\n        require.resolve('@blueprintjs/core');\n        require.resolve('@blueprintjs/icons');\n        (_a = require('@blueprintjs/core'), Classes = _a.Classes, OptionalBlueprint.Icon = _a.Icon);\n        (IconNames = require('@blueprintjs/icons').IconNames);\n    }\n    catch (_b) {\n        OptionalBlueprint.Icon = function (_a) {\n            var icon = _a.icon;\n            return React.createElement(\"span\", null, icon);\n        };\n    }\n    function getClasses() {\n        var names = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            names[_i] = arguments[_i];\n        }\n        if (Classes) {\n            return names.map(function (name) { return Classes[name]; }).join(' ');\n        }\n        return '';\n    }\n    OptionalBlueprint.getClasses = getClasses;\n    function getIconClass(iconName) {\n        if (Classes && IconNames) {\n            return Classes.iconClass(IconNames[iconName]);\n        }\n        return '';\n    }\n    OptionalBlueprint.getIconClass = getIconClass;\n})(OptionalBlueprint = exports.OptionalBlueprint || (exports.OptionalBlueprint = {}));\n//# sourceMappingURL=OptionalBlueprint.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getAndAssertNodeAtPathExists = exports.getNodeAtPath = exports.getLeaves = exports.getPathToCorner = exports.getOtherDirection = exports.getOtherBranch = exports.createBalancedTreeFromLeaves = exports.isParent = exports.Corner = void 0;\nvar clone_1 = __importDefault(require(\"lodash/clone\"));\nvar get_1 = __importDefault(require(\"lodash/get\"));\nfunction alternateDirection(node, direction) {\n    if (direction === void 0) { direction = 'row'; }\n    if (isParent(node)) {\n        var nextDirection = getOtherDirection(direction);\n        return {\n            direction: direction,\n            first: alternateDirection(node.first, nextDirection),\n            second: alternateDirection(node.second, nextDirection),\n        };\n    }\n    else {\n        return node;\n    }\n}\nvar Corner;\n(function (Corner) {\n    Corner[Corner[\"TOP_LEFT\"] = 1] = \"TOP_LEFT\";\n    Corner[Corner[\"TOP_RIGHT\"] = 2] = \"TOP_RIGHT\";\n    Corner[Corner[\"BOTTOM_LEFT\"] = 3] = \"BOTTOM_LEFT\";\n    Corner[Corner[\"BOTTOM_RIGHT\"] = 4] = \"BOTTOM_RIGHT\";\n})(Corner = exports.Corner || (exports.Corner = {}));\n/**\n * Returns `true` if `node` is a MosaicParent\n * @param node\n * @returns {boolean}\n */\nfunction isParent(node) {\n    return node.direction != null;\n}\nexports.isParent = isParent;\n/**\n * Creates a balanced binary tree from `leaves` with the goal of making them as equal area as possible\n * @param leaves\n * @param startDirection\n * @returns {MosaicNode<T>}\n */\nfunction createBalancedTreeFromLeaves(leaves, startDirection) {\n    if (startDirection === void 0) { startDirection = 'row'; }\n    if (leaves.length === 0) {\n        return null;\n    }\n    var current = clone_1.default(leaves);\n    var next = [];\n    while (current.length > 1) {\n        while (current.length > 0) {\n            if (current.length > 1) {\n                next.push({\n                    direction: 'row',\n                    first: current.shift(),\n                    second: current.shift(),\n                });\n            }\n            else {\n                next.unshift(current.shift());\n            }\n        }\n        current = next;\n        next = [];\n    }\n    return alternateDirection(current[0], startDirection);\n}\nexports.createBalancedTreeFromLeaves = createBalancedTreeFromLeaves;\n/**\n * Gets the sibling of `branch`\n * @param branch\n * @returns {any}\n */\nfunction getOtherBranch(branch) {\n    if (branch === 'first') {\n        return 'second';\n    }\n    else if (branch === 'second') {\n        return 'first';\n    }\n    else {\n        throw new Error(\"Branch '\" + branch + \"' not a valid branch\");\n    }\n}\nexports.getOtherBranch = getOtherBranch;\n/**\n * Gets the opposite of `direction`\n * @param direction\n * @returns {any}\n */\nfunction getOtherDirection(direction) {\n    if (direction === 'row') {\n        return 'column';\n    }\n    else {\n        return 'row';\n    }\n}\nexports.getOtherDirection = getOtherDirection;\n/**\n * Traverses `tree` to find the path to the specified `corner`\n * @param tree\n * @param corner\n * @returns {MosaicPath}\n */\nfunction getPathToCorner(tree, corner) {\n    var currentNode = tree;\n    var currentPath = [];\n    while (isParent(currentNode)) {\n        if (currentNode.direction === 'row' && (corner === Corner.TOP_LEFT || corner === Corner.BOTTOM_LEFT)) {\n            currentPath.push('first');\n            currentNode = currentNode.first;\n        }\n        else if (currentNode.direction === 'column' && (corner === Corner.TOP_LEFT || corner === Corner.TOP_RIGHT)) {\n            currentPath.push('first');\n            currentNode = currentNode.first;\n        }\n        else {\n            currentPath.push('second');\n            currentNode = currentNode.second;\n        }\n    }\n    return currentPath;\n}\nexports.getPathToCorner = getPathToCorner;\n/**\n * Gets all leaves of `tree`\n * @param tree\n * @returns {T[]}\n */\nfunction getLeaves(tree) {\n    if (tree == null) {\n        return [];\n    }\n    else if (isParent(tree)) {\n        return getLeaves(tree.first).concat(getLeaves(tree.second));\n    }\n    else {\n        return [tree];\n    }\n}\nexports.getLeaves = getLeaves;\n/**\n * Gets node at `path` from `tree`\n * @param tree\n * @param path\n * @returns {MosaicNode<T>|null}\n */\nfunction getNodeAtPath(tree, path) {\n    if (path.length > 0) {\n        return get_1.default(tree, path, null);\n    }\n    else {\n        return tree;\n    }\n}\nexports.getNodeAtPath = getNodeAtPath;\n/**\n * Gets node at `path` from `tree` and verifies that neither `tree` nor the result are null\n * @param tree\n * @param path\n * @returns {MosaicNode<T>}\n */\nfunction getAndAssertNodeAtPathExists(tree, path) {\n    if (tree == null) {\n        throw new Error('Root is empty, cannot fetch path');\n    }\n    var node = getNodeAtPath(tree, path);\n    if (node == null) {\n        throw new Error(\"Path [\" + path.join(', ') + \"] did not resolve to a node\");\n    }\n    return node;\n}\nexports.getAndAssertNodeAtPathExists = getAndAssertNodeAtPathExists;\n//# sourceMappingURL=mosaicUtilities.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createDefaultToolbarButton = void 0;\nvar classnames_1 = __importDefault(require(\"classnames\"));\nvar react_1 = __importDefault(require(\"react\"));\nvar OptionalBlueprint_1 = require(\"../util/OptionalBlueprint\");\nfunction createDefaultToolbarButton(title, className, onClick, text) {\n    return (react_1.default.createElement(\"button\", { title: title, onClick: onClick, className: classnames_1.default('mosaic-default-control', OptionalBlueprint_1.OptionalBlueprint.getClasses('BUTTON', 'MINIMAL'), className) }, text && react_1.default.createElement(\"span\", { className: \"control-text\" }, text)));\n}\nexports.createDefaultToolbarButton = createDefaultToolbarButton;\n//# sourceMappingURL=MosaicButton.js.map","export function registerTarget(type, target, manager) {\n  var registry = manager.getRegistry();\n  var targetId = registry.addTarget(type, target);\n  return [targetId, function () {\n    return registry.removeTarget(targetId);\n  }];\n}\nexport function registerSource(type, source, manager) {\n  var registry = manager.getRegistry();\n  var sourceId = registry.addSource(type, source);\n  return [sourceId, function () {\n    return registry.removeSource(sourceId);\n  }];\n}","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createExpandUpdate = exports.createHideUpdate = exports.createDragToUpdates = exports.createRemoveUpdate = exports.updateTree = exports.buildSpecFromUpdate = void 0;\nvar immutability_helper_1 = __importDefault(require(\"immutability-helper\"));\nvar drop_1 = __importDefault(require(\"lodash/drop\"));\nvar dropRight_1 = __importDefault(require(\"lodash/dropRight\"));\nvar isEqual_1 = __importDefault(require(\"lodash/isEqual\"));\nvar last_1 = __importDefault(require(\"lodash/last\"));\nvar set_1 = __importDefault(require(\"lodash/set\"));\nvar take_1 = __importDefault(require(\"lodash/take\"));\nvar internalTypes_1 = require(\"../internalTypes\");\nvar mosaicUtilities_1 = require(\"./mosaicUtilities\");\n/**\n * Used to prepare `update` for `immutability-helper`\n * @param mosaicUpdate\n * @returns {any}\n */\nfunction buildSpecFromUpdate(mosaicUpdate) {\n    if (mosaicUpdate.path.length > 0) {\n        return set_1.default({}, mosaicUpdate.path, mosaicUpdate.spec);\n    }\n    else {\n        return mosaicUpdate.spec;\n    }\n}\nexports.buildSpecFromUpdate = buildSpecFromUpdate;\n/**\n * Applies `updates` to `root`\n * @param root\n * @param updates\n * @returns {MosaicNode<T>}\n */\nfunction updateTree(root, updates) {\n    var currentNode = root;\n    updates.forEach(function (mUpdate) {\n        currentNode = immutability_helper_1.default(currentNode, buildSpecFromUpdate(mUpdate));\n    });\n    return currentNode;\n}\nexports.updateTree = updateTree;\n/**\n * Creates a `MosaicUpdate<T>` to remove the node at `path` from `root`\n * @param root\n * @param path\n * @returns {{path: T[], spec: {$set: MosaicNode<T>}}}\n */\nfunction createRemoveUpdate(root, path) {\n    var parentPath = dropRight_1.default(path);\n    var nodeToRemove = last_1.default(path);\n    var siblingPath = parentPath.concat(mosaicUtilities_1.getOtherBranch(nodeToRemove));\n    var sibling = mosaicUtilities_1.getAndAssertNodeAtPathExists(root, siblingPath);\n    return {\n        path: parentPath,\n        spec: {\n            $set: sibling,\n        },\n    };\n}\nexports.createRemoveUpdate = createRemoveUpdate;\nfunction isPathPrefixEqual(a, b, length) {\n    return isEqual_1.default(take_1.default(a, length), take_1.default(b, length));\n}\n/**\n * Creates a `MosaicUpdate<T>` to split the _leaf_ at `destinationPath` into a node of it and the node from `sourcePath`\n * placing the node from `sourcePath` in `position`.\n * @param root\n * @param sourcePath\n * @param destinationPath\n * @param position\n * @returns {(MosaicUpdate<T>|{path: MosaicPath, spec: {$set: {first: MosaicNode<T>, second: MosaicNode<T>, direction: MosaicDirection}}})[]}\n */\nfunction createDragToUpdates(root, sourcePath, destinationPath, position) {\n    var destinationNode = mosaicUtilities_1.getAndAssertNodeAtPathExists(root, destinationPath);\n    var updates = [];\n    var destinationIsParentOfSource = isPathPrefixEqual(sourcePath, destinationPath, destinationPath.length);\n    if (destinationIsParentOfSource) {\n        // Must explicitly remove source from the destination node\n        destinationNode = updateTree(destinationNode, [\n            createRemoveUpdate(destinationNode, drop_1.default(sourcePath, destinationPath.length)),\n        ]);\n    }\n    else {\n        // Can remove source normally\n        updates.push(createRemoveUpdate(root, sourcePath));\n        // Have to drop in the correct destination after the source has been removed\n        var removedNodeParentIsInPath = isPathPrefixEqual(sourcePath, destinationPath, sourcePath.length - 1);\n        if (removedNodeParentIsInPath) {\n            destinationPath.splice(sourcePath.length - 1, 1);\n        }\n    }\n    var sourceNode = mosaicUtilities_1.getAndAssertNodeAtPathExists(root, sourcePath);\n    var first;\n    var second;\n    if (position === internalTypes_1.MosaicDropTargetPosition.LEFT || position === internalTypes_1.MosaicDropTargetPosition.TOP) {\n        first = sourceNode;\n        second = destinationNode;\n    }\n    else {\n        first = destinationNode;\n        second = sourceNode;\n    }\n    var direction = 'column';\n    if (position === internalTypes_1.MosaicDropTargetPosition.LEFT || position === internalTypes_1.MosaicDropTargetPosition.RIGHT) {\n        direction = 'row';\n    }\n    updates.push({\n        path: destinationPath,\n        spec: {\n            $set: { first: first, second: second, direction: direction },\n        },\n    });\n    return updates;\n}\nexports.createDragToUpdates = createDragToUpdates;\n/**\n * Sets the splitPercentage to hide the node at `path`\n * @param path\n * @returns {{path: T[], spec: {splitPercentage: {$set: number}}}}\n */\nfunction createHideUpdate(path) {\n    var targetPath = dropRight_1.default(path);\n    var thisBranch = last_1.default(path);\n    var splitPercentage;\n    if (thisBranch === 'first') {\n        splitPercentage = 0;\n    }\n    else {\n        splitPercentage = 100;\n    }\n    return {\n        path: targetPath,\n        spec: {\n            splitPercentage: {\n                $set: splitPercentage,\n            },\n        },\n    };\n}\nexports.createHideUpdate = createHideUpdate;\n/**\n * Sets the splitPercentage of node at `path` and all of its parents to `percentage` in order to expand it\n * @param path\n * @param percentage\n * @returns {{spec: MosaicUpdateSpec<T>, path: Array}}\n */\nfunction createExpandUpdate(path, percentage) {\n    var _a;\n    var spec = {};\n    for (var i = path.length - 1; i >= 0; i--) {\n        var branch = path[i];\n        var splitPercentage = branch === 'first' ? percentage : 100 - percentage;\n        spec = (_a = {\n                splitPercentage: {\n                    $set: splitPercentage,\n                }\n            },\n            _a[branch] = spec,\n            _a);\n    }\n    return {\n        spec: spec,\n        path: [],\n    };\n}\nexports.createExpandUpdate = createExpandUpdate;\n//# sourceMappingURL=mosaicUpdates.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MosaicDragType = void 0;\n/**\n * Used by `react-dnd`\n * @type {{WINDOW: string}}\n */\nexports.MosaicDragType = {\n    WINDOW: 'MosaicWindow',\n};\n//# sourceMappingURL=types.js.map","var baseSlice = require('./_baseSlice'),\n    toInteger = require('./toInteger');\n\n/**\n * Creates a slice of `array` with `n` elements dropped from the end.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Array\n * @param {Array} array The array to query.\n * @param {number} [n=1] The number of elements to drop.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Array} Returns the slice of `array`.\n * @example\n *\n * _.dropRight([1, 2, 3]);\n * // => [1, 2]\n *\n * _.dropRight([1, 2, 3], 2);\n * // => [1]\n *\n * _.dropRight([1, 2, 3], 5);\n * // => []\n *\n * _.dropRight([1, 2, 3], 0);\n * // => [1, 2, 3]\n */\nfunction dropRight(array, n, guard) {\n  var length = array == null ? 0 : array.length;\n  if (!length) {\n    return [];\n  }\n  n = (guard || n === undefined) ? 1 : toInteger(n);\n  n = length - n;\n  return baseSlice(array, 0, n < 0 ? 0 : n);\n}\n\nmodule.exports = dropRight;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MosaicDropTargetPosition = void 0;\nexports.MosaicDropTargetPosition = {\n    TOP: 'top',\n    BOTTOM: 'bottom',\n    LEFT: 'left',\n    RIGHT: 'right',\n};\n//# sourceMappingURL=internalTypes.js.map","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"\n}), 'AddSharp');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6-1.41-1.41z\"\n}), 'ExpandMoreSharp');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11 15h2v2h-2v-2zm0-8h2v6h-2V7zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\"\n}), 'ErrorOutlineSharp');\n\nexports.default = _default;","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { invariant } from '@react-dnd/invariant';\nvar isCallingCanDrop = false;\nexport var DropTargetMonitorImpl =\n/*#__PURE__*/\nfunction () {\n  function DropTargetMonitorImpl(manager) {\n    _classCallCheck(this, DropTargetMonitorImpl);\n\n    this.targetId = null;\n    this.internalMonitor = manager.getMonitor();\n  }\n\n  _createClass(DropTargetMonitorImpl, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(targetId) {\n      this.targetId = targetId;\n    }\n  }, {\n    key: \"getHandlerId\",\n    value: function getHandlerId() {\n      return this.targetId;\n    }\n  }, {\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener, options) {\n      return this.internalMonitor.subscribeToStateChange(listener, options);\n    }\n  }, {\n    key: \"canDrop\",\n    value: function canDrop() {\n      // Cut out early if the target id has not been set. This should prevent errors\n      // where the user has an older version of dnd-core like in\n      // https://github.com/react-dnd/react-dnd/issues/1310\n      if (!this.targetId) {\n        return false;\n      }\n\n      invariant(!isCallingCanDrop, 'You may not call monitor.canDrop() inside your canDrop() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor');\n\n      try {\n        isCallingCanDrop = true;\n        return this.internalMonitor.canDropOnTarget(this.targetId);\n      } finally {\n        isCallingCanDrop = false;\n      }\n    }\n  }, {\n    key: \"isOver\",\n    value: function isOver(options) {\n      if (!this.targetId) {\n        return false;\n      }\n\n      return this.internalMonitor.isOverTarget(this.targetId, options);\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.internalMonitor.getItemType();\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.internalMonitor.getItem();\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.internalMonitor.getDropResult();\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.internalMonitor.didDrop();\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.internalMonitor.getInitialClientOffset();\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.internalMonitor.getInitialSourceClientOffset();\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset() {\n      return this.internalMonitor.getSourceClientOffset();\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.internalMonitor.getClientOffset();\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset() {\n      return this.internalMonitor.getDifferenceFromInitialOffset();\n    }\n  }]);\n\n  return DropTargetMonitorImpl;\n}();","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { shallowEqual } from '@react-dnd/shallowequal';\nimport wrapConnectorHooks from './wrapConnectorHooks';\nimport { isRef } from '../utils/isRef';\nexport var TargetConnector =\n/*#__PURE__*/\nfunction () {\n  function TargetConnector(backend) {\n    var _this = this;\n\n    _classCallCheck(this, TargetConnector);\n\n    this.hooks = wrapConnectorHooks({\n      dropTarget: function dropTarget(node, options) {\n        _this.clearDropTarget();\n\n        _this.dropTargetOptions = options;\n\n        if (isRef(node)) {\n          _this.dropTargetRef = node;\n        } else {\n          _this.dropTargetNode = node;\n        }\n\n        _this.reconnect();\n      }\n    });\n    this.handlerId = null; // The drop target may either be attached via ref or connect function\n\n    this.dropTargetRef = null;\n    this.dropTargetOptionsInternal = null;\n    this.lastConnectedHandlerId = null;\n    this.lastConnectedDropTarget = null;\n    this.lastConnectedDropTargetOptions = null;\n    this.backend = backend;\n  }\n\n  _createClass(TargetConnector, [{\n    key: \"reconnect\",\n    value: function reconnect() {\n      // if nothing has changed then don't resubscribe\n      var didChange = this.didHandlerIdChange() || this.didDropTargetChange() || this.didOptionsChange();\n\n      if (didChange) {\n        this.disconnectDropTarget();\n      }\n\n      var dropTarget = this.dropTarget;\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dropTarget) {\n        this.lastConnectedDropTarget = dropTarget;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDropTarget = dropTarget;\n        this.lastConnectedDropTargetOptions = this.dropTargetOptions;\n        this.unsubscribeDropTarget = this.backend.connectDropTarget(this.handlerId, dropTarget, this.dropTargetOptions);\n      }\n    }\n  }, {\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(newHandlerId) {\n      if (newHandlerId === this.handlerId) {\n        return;\n      }\n\n      this.handlerId = newHandlerId;\n      this.reconnect();\n    }\n  }, {\n    key: \"didHandlerIdChange\",\n    value: function didHandlerIdChange() {\n      return this.lastConnectedHandlerId !== this.handlerId;\n    }\n  }, {\n    key: \"didDropTargetChange\",\n    value: function didDropTargetChange() {\n      return this.lastConnectedDropTarget !== this.dropTarget;\n    }\n  }, {\n    key: \"didOptionsChange\",\n    value: function didOptionsChange() {\n      return !shallowEqual(this.lastConnectedDropTargetOptions, this.dropTargetOptions);\n    }\n  }, {\n    key: \"disconnectDropTarget\",\n    value: function disconnectDropTarget() {\n      if (this.unsubscribeDropTarget) {\n        this.unsubscribeDropTarget();\n        this.unsubscribeDropTarget = undefined;\n      }\n    }\n  }, {\n    key: \"clearDropTarget\",\n    value: function clearDropTarget() {\n      this.dropTargetRef = null;\n      this.dropTargetNode = null;\n    }\n  }, {\n    key: \"connectTarget\",\n    get: function get() {\n      return this.dropTarget;\n    }\n  }, {\n    key: \"dropTargetOptions\",\n    get: function get() {\n      return this.dropTargetOptionsInternal;\n    },\n    set: function set(options) {\n      this.dropTargetOptionsInternal = options;\n    }\n  }, {\n    key: \"dropTarget\",\n    get: function get() {\n      return this.dropTargetNode || this.dropTargetRef && this.dropTargetRef.current;\n    }\n  }]);\n\n  return TargetConnector;\n}();","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nexport function isRef(obj) {\n  return (// eslint-disable-next-line no-prototype-builtins\n    obj !== null && _typeof(obj) === 'object' && obj.hasOwnProperty('current')\n  );\n}","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect';\nimport { useCollector } from './useCollector';\nexport function useMonitorOutput(monitor, collect, onCollect) {\n  var _useCollector = useCollector(monitor, collect, onCollect),\n      _useCollector2 = _slicedToArray(_useCollector, 2),\n      collected = _useCollector2[0],\n      updateCollected = _useCollector2[1];\n\n  useIsomorphicLayoutEffect(function subscribeToMonitorStateChange() {\n    var handlerId = monitor.getHandlerId();\n\n    if (handlerId == null) {\n      return undefined;\n    }\n\n    return monitor.subscribeToStateChange(updateCollected, {\n      handlerIds: [handlerId]\n    });\n  }, [monitor, updateCollected]);\n  return collected;\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z\"\n}), 'MenuSharp');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M21.99 2H2v16h16l4 4-.01-20zM18 14H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z\"\n}), 'CommentSharp');\n\nexports.default = _default;","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n// implementation. Also, find the complete implementation of crypto on IE11.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto));\n\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n  return ([\n    bth[buf[i++]], bth[buf[i++]],\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]],\n    bth[buf[i++]], bth[buf[i++]],\n    bth[buf[i++]], bth[buf[i++]]\n  ]).join('');\n}\n\nmodule.exports = bytesToUuid;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BoundingBox = void 0;\nvar assertNever_1 = require(\"./assertNever\");\nvar BoundingBox;\n(function (BoundingBox) {\n    function empty() {\n        return {\n            top: 0,\n            right: 0,\n            bottom: 0,\n            left: 0,\n        };\n    }\n    BoundingBox.empty = empty;\n    function split(boundingBox, relativeSplitPercentage, direction) {\n        var absolutePercentage = getAbsoluteSplitPercentage(boundingBox, relativeSplitPercentage, direction);\n        if (direction === 'column') {\n            return {\n                first: __assign(__assign({}, boundingBox), { bottom: 100 - absolutePercentage }),\n                second: __assign(__assign({}, boundingBox), { top: absolutePercentage }),\n            };\n        }\n        else if (direction === 'row') {\n            return {\n                first: __assign(__assign({}, boundingBox), { right: 100 - absolutePercentage }),\n                second: __assign(__assign({}, boundingBox), { left: absolutePercentage }),\n            };\n        }\n        else {\n            return assertNever_1.assertNever(direction);\n        }\n    }\n    BoundingBox.split = split;\n    function getAbsoluteSplitPercentage(boundingBox, relativeSplitPercentage, direction) {\n        var top = boundingBox.top, right = boundingBox.right, bottom = boundingBox.bottom, left = boundingBox.left;\n        if (direction === 'column') {\n            var height = 100 - top - bottom;\n            return (height * relativeSplitPercentage) / 100 + top;\n        }\n        else if (direction === 'row') {\n            var width = 100 - right - left;\n            return (width * relativeSplitPercentage) / 100 + left;\n        }\n        else {\n            return assertNever_1.assertNever(direction);\n        }\n    }\n    BoundingBox.getAbsoluteSplitPercentage = getAbsoluteSplitPercentage;\n    function getRelativeSplitPercentage(boundingBox, absoluteSplitPercentage, direction) {\n        var top = boundingBox.top, right = boundingBox.right, bottom = boundingBox.bottom, left = boundingBox.left;\n        if (direction === 'column') {\n            var height = 100 - top - bottom;\n            return ((absoluteSplitPercentage - top) / height) * 100;\n        }\n        else if (direction === 'row') {\n            var width = 100 - right - left;\n            return ((absoluteSplitPercentage - left) / width) * 100;\n        }\n        else {\n            return assertNever_1.assertNever(direction);\n        }\n    }\n    BoundingBox.getRelativeSplitPercentage = getRelativeSplitPercentage;\n    function asStyles(_a) {\n        var top = _a.top, right = _a.right, bottom = _a.bottom, left = _a.left;\n        return {\n            top: top + \"%\",\n            right: right + \"%\",\n            bottom: bottom + \"%\",\n            left: left + \"%\",\n        };\n    }\n    BoundingBox.asStyles = asStyles;\n})(BoundingBox = exports.BoundingBox || (exports.BoundingBox = {}));\n//# sourceMappingURL=BoundingBox.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MosaicZeroState = void 0;\nvar classnames_1 = __importDefault(require(\"classnames\"));\nvar noop_1 = __importDefault(require(\"lodash/noop\"));\nvar react_1 = __importDefault(require(\"react\"));\nvar contextTypes_1 = require(\"./contextTypes\");\nvar OptionalBlueprint_1 = require(\"./util/OptionalBlueprint\");\nvar MosaicZeroState = /** @class */ (function (_super) {\n    __extends(MosaicZeroState, _super);\n    function MosaicZeroState() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.replace = function () {\n            return Promise.resolve(_this.props.createNode())\n                .then(function (node) { return _this.context.mosaicActions.replaceWith([], node); })\n                .catch(noop_1.default);\n        }; // Swallow rejections (i.e. on user cancel)\n        return _this;\n    }\n    MosaicZeroState.prototype.render = function () {\n        return (react_1.default.createElement(\"div\", { className: classnames_1.default('mosaic-zero-state', OptionalBlueprint_1.OptionalBlueprint.getClasses('NON_IDEAL_STATE')) },\n            react_1.default.createElement(\"div\", { className: OptionalBlueprint_1.OptionalBlueprint.getClasses('NON_IDEAL_STATE_VISUAL') },\n                react_1.default.createElement(OptionalBlueprint_1.OptionalBlueprint.Icon, { iconSize: 120, icon: \"applications\" })),\n            react_1.default.createElement(\"h4\", { className: OptionalBlueprint_1.OptionalBlueprint.getClasses('HEADING') }, \"No Windows Present\"),\n            react_1.default.createElement(\"div\", null, this.props.createNode && (react_1.default.createElement(\"button\", { className: classnames_1.default(OptionalBlueprint_1.OptionalBlueprint.getClasses('BUTTON'), OptionalBlueprint_1.OptionalBlueprint.getIconClass('ADD')), onClick: this.replace }, \"Add New Window\")))));\n    };\n    MosaicZeroState.contextType = contextTypes_1.MosaicContext;\n    return MosaicZeroState;\n}(react_1.default.PureComponent));\nexports.MosaicZeroState = MosaicZeroState;\n//# sourceMappingURL=MosaicZeroState.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MosaicDropTarget = void 0;\nvar classnames_1 = __importDefault(require(\"classnames\"));\nvar react_1 = __importDefault(require(\"react\"));\nvar react_dnd_1 = require(\"react-dnd\");\nvar contextTypes_1 = require(\"./contextTypes\");\nvar types_1 = require(\"./types\");\nvar dropTarget = {\n    drop: function (props, monitor, component) {\n        if (component.context.mosaicId === (monitor.getItem() || {}).mosaicId) {\n            return {\n                path: props.path,\n                position: props.position,\n            };\n        }\n        else {\n            return {};\n        }\n    },\n};\nvar MosaicDropTargetClass = /** @class */ (function (_super) {\n    __extends(MosaicDropTargetClass, _super);\n    function MosaicDropTargetClass() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    MosaicDropTargetClass.prototype.render = function () {\n        var _a = this.props, position = _a.position, isOver = _a.isOver, connectDropTarget = _a.connectDropTarget, draggedMosaicId = _a.draggedMosaicId;\n        return connectDropTarget(react_1.default.createElement(\"div\", { className: classnames_1.default('drop-target', position, {\n                'drop-target-hover': isOver && draggedMosaicId === this.context.mosaicId,\n            }) }));\n    };\n    MosaicDropTargetClass.contextType = contextTypes_1.MosaicContext;\n    return MosaicDropTargetClass;\n}(react_1.default.PureComponent));\nexports.MosaicDropTarget = react_dnd_1.DropTarget(types_1.MosaicDragType.WINDOW, dropTarget, function (connect, monitor) { return ({\n    connectDropTarget: connect.dropTarget(),\n    isOver: monitor.isOver(),\n    draggedMosaicId: (monitor.getItem() || {}).mosaicId,\n}); })(MosaicDropTargetClass);\n//# sourceMappingURL=MosaicDropTarget.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DEFAULT_CONTROLS_WITHOUT_CREATION = exports.DEFAULT_CONTROLS_WITH_CREATION = void 0;\nvar react_1 = __importDefault(require(\"react\"));\nvar ExpandButton_1 = require(\"./ExpandButton\");\nvar RemoveButton_1 = require(\"./RemoveButton\");\nvar ReplaceButton_1 = require(\"./ReplaceButton\");\nvar SplitButton_1 = require(\"./SplitButton\");\nexports.DEFAULT_CONTROLS_WITH_CREATION = react_1.default.Children.toArray([\n    react_1.default.createElement(ReplaceButton_1.ReplaceButton, null),\n    react_1.default.createElement(SplitButton_1.SplitButton, null),\n    react_1.default.createElement(ExpandButton_1.ExpandButton, null),\n    react_1.default.createElement(RemoveButton_1.RemoveButton, null),\n]);\nexports.DEFAULT_CONTROLS_WITHOUT_CREATION = react_1.default.Children.toArray([react_1.default.createElement(ExpandButton_1.ExpandButton, null), react_1.default.createElement(RemoveButton_1.RemoveButton, null)]);\n//# sourceMappingURL=defaultToolbarControls.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ExpandButton = void 0;\nvar classnames_1 = __importDefault(require(\"classnames\"));\nvar react_1 = __importDefault(require(\"react\"));\nvar contextTypes_1 = require(\"../contextTypes\");\nvar OptionalBlueprint_1 = require(\"../util/OptionalBlueprint\");\nvar MosaicButton_1 = require(\"./MosaicButton\");\nvar ExpandButton = /** @class */ (function (_super) {\n    __extends(ExpandButton, _super);\n    function ExpandButton() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ExpandButton.prototype.render = function () {\n        var _this = this;\n        return (react_1.default.createElement(contextTypes_1.MosaicContext.Consumer, null, function (_a) {\n            var mosaicActions = _a.mosaicActions;\n            return MosaicButton_1.createDefaultToolbarButton('Expand', classnames_1.default('expand-button', OptionalBlueprint_1.OptionalBlueprint.getIconClass('MAXIMIZE')), _this.createExpand(mosaicActions));\n        }));\n    };\n    ExpandButton.prototype.createExpand = function (mosaicActions) {\n        var _this = this;\n        return function () {\n            mosaicActions.expand(_this.context.mosaicWindowActions.getPath());\n            if (_this.props.onClick) {\n                _this.props.onClick();\n            }\n        };\n    };\n    ExpandButton.contextType = contextTypes_1.MosaicWindowContext;\n    return ExpandButton;\n}(react_1.default.PureComponent));\nexports.ExpandButton = ExpandButton;\n//# sourceMappingURL=ExpandButton.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RemoveButton = void 0;\nvar classnames_1 = __importDefault(require(\"classnames\"));\nvar react_1 = __importDefault(require(\"react\"));\nvar contextTypes_1 = require(\"../contextTypes\");\nvar OptionalBlueprint_1 = require(\"../util/OptionalBlueprint\");\nvar MosaicButton_1 = require(\"./MosaicButton\");\nvar RemoveButton = /** @class */ (function (_super) {\n    __extends(RemoveButton, _super);\n    function RemoveButton() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    RemoveButton.prototype.render = function () {\n        var _this = this;\n        return (react_1.default.createElement(contextTypes_1.MosaicContext.Consumer, null, function (_a) {\n            var mosaicActions = _a.mosaicActions;\n            return MosaicButton_1.createDefaultToolbarButton('Close Window', classnames_1.default('close-button', OptionalBlueprint_1.OptionalBlueprint.getIconClass('CROSS')), _this.createRemove(mosaicActions));\n        }));\n    };\n    RemoveButton.prototype.createRemove = function (mosaicActions) {\n        var _this = this;\n        return function () {\n            mosaicActions.remove(_this.context.mosaicWindowActions.getPath());\n            if (_this.props.onClick) {\n                _this.props.onClick();\n            }\n        };\n    };\n    RemoveButton.contextType = contextTypes_1.MosaicWindowContext;\n    return RemoveButton;\n}(react_1.default.PureComponent));\nexports.RemoveButton = RemoveButton;\n//# sourceMappingURL=RemoveButton.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ReplaceButton = void 0;\nvar classnames_1 = __importDefault(require(\"classnames\"));\nvar noop_1 = __importDefault(require(\"lodash/noop\"));\nvar react_1 = __importDefault(require(\"react\"));\nvar contextTypes_1 = require(\"../contextTypes\");\nvar OptionalBlueprint_1 = require(\"../util/OptionalBlueprint\");\nvar MosaicButton_1 = require(\"./MosaicButton\");\nvar ReplaceButton = /** @class */ (function (_super) {\n    __extends(ReplaceButton, _super);\n    function ReplaceButton() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.replace = function () {\n            _this.context.mosaicWindowActions\n                .replaceWithNew()\n                .then(function () {\n                if (_this.props.onClick) {\n                    _this.props.onClick();\n                }\n            })\n                .catch(noop_1.default); // Swallow rejections (i.e. on user cancel)\n        };\n        return _this;\n    }\n    ReplaceButton.prototype.render = function () {\n        return MosaicButton_1.createDefaultToolbarButton('Replace Window', classnames_1.default('replace-button', OptionalBlueprint_1.OptionalBlueprint.getIconClass('EXCHANGE')), this.replace);\n    };\n    ReplaceButton.contextType = contextTypes_1.MosaicWindowContext;\n    return ReplaceButton;\n}(react_1.default.PureComponent));\nexports.ReplaceButton = ReplaceButton;\n//# sourceMappingURL=ReplaceButton.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SplitButton = void 0;\nvar classnames_1 = __importDefault(require(\"classnames\"));\nvar noop_1 = __importDefault(require(\"lodash/noop\"));\nvar react_1 = __importDefault(require(\"react\"));\nvar contextTypes_1 = require(\"../contextTypes\");\nvar OptionalBlueprint_1 = require(\"../util/OptionalBlueprint\");\nvar MosaicButton_1 = require(\"./MosaicButton\");\nvar SplitButton = /** @class */ (function (_super) {\n    __extends(SplitButton, _super);\n    function SplitButton() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.split = function () {\n            _this.context.mosaicWindowActions\n                .split()\n                .then(function () {\n                if (_this.props.onClick) {\n                    _this.props.onClick();\n                }\n            })\n                .catch(noop_1.default); // Swallow rejections (i.e. on user cancel)\n        };\n        return _this;\n    }\n    SplitButton.prototype.render = function () {\n        return MosaicButton_1.createDefaultToolbarButton('Split Window', classnames_1.default('split-button', OptionalBlueprint_1.OptionalBlueprint.getIconClass('ADD_COLUMN_RIGHT')), this.split);\n    };\n    SplitButton.contextType = contextTypes_1.MosaicWindowContext;\n    return SplitButton;\n}(react_1.default.PureComponent));\nexports.SplitButton = SplitButton;\n//# sourceMappingURL=SplitButton.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Separator = void 0;\nvar react_1 = __importDefault(require(\"react\"));\nvar Separator = /** @class */ (function (_super) {\n    __extends(Separator, _super);\n    function Separator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Separator.prototype.render = function () {\n        return react_1.default.createElement(\"div\", { className: \"separator\" });\n    };\n    return Separator;\n}(react_1.default.PureComponent));\nexports.Separator = Separator;\n//# sourceMappingURL=Separator.js.map","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { useMemo } from 'react';\nimport { registerTarget } from '../../common/registration';\nimport { useDragDropManager } from './useDragDropManager';\nimport { TargetConnector } from '../../common/TargetConnector';\nimport { DropTargetMonitorImpl } from '../../common/DropTargetMonitorImpl';\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect';\nexport function useDropTargetMonitor() {\n  var manager = useDragDropManager();\n  var monitor = useMemo(function () {\n    return new DropTargetMonitorImpl(manager);\n  }, [manager]);\n  var connector = useMemo(function () {\n    return new TargetConnector(manager.getBackend());\n  }, [manager]);\n  return [monitor, connector];\n}\nexport function useDropHandler(spec, monitor, connector) {\n  var manager = useDragDropManager();\n  var handler = useMemo(function () {\n    return {\n      canDrop: function canDrop() {\n        var canDrop = spec.current.canDrop;\n        return canDrop ? canDrop(monitor.getItem(), monitor) : true;\n      },\n      hover: function hover() {\n        var hover = spec.current.hover;\n\n        if (hover) {\n          hover(monitor.getItem(), monitor);\n        }\n      },\n      drop: function drop() {\n        var drop = spec.current.drop;\n\n        if (drop) {\n          return drop(monitor.getItem(), monitor);\n        }\n      }\n    };\n  }, [monitor]);\n  useIsomorphicLayoutEffect(function registerHandler() {\n    var _registerTarget = registerTarget(spec.current.accept, handler, manager),\n        _registerTarget2 = _slicedToArray(_registerTarget, 2),\n        handlerId = _registerTarget2[0],\n        unregister = _registerTarget2[1];\n\n    monitor.receiveHandlerId(handlerId);\n    connector.receiveHandlerId(handlerId);\n    return unregister;\n  }, [monitor, connector]);\n}","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { useRef, useMemo } from 'react';\nimport { invariant } from '@react-dnd/invariant';\nimport { useMonitorOutput } from './internal/useMonitorOutput';\nimport { useIsomorphicLayoutEffect } from './internal/useIsomorphicLayoutEffect';\nimport { useDropHandler, useDropTargetMonitor } from './internal/drop';\n/**\n * useDropTarget Hook\n * @param spec The drop target specification\n */\n\nexport function useDrop(spec) {\n  var specRef = useRef(spec);\n  specRef.current = spec;\n  invariant(spec.accept != null, 'accept must be defined');\n\n  var _useDropTargetMonitor = useDropTargetMonitor(),\n      _useDropTargetMonitor2 = _slicedToArray(_useDropTargetMonitor, 2),\n      monitor = _useDropTargetMonitor2[0],\n      connector = _useDropTargetMonitor2[1];\n\n  useDropHandler(specRef, monitor, connector);\n  var result = useMonitorOutput(monitor, specRef.current.collect || function () {\n    return {};\n  }, function () {\n    return connector.reconnect();\n  });\n  var connectDropTarget = useMemo(function () {\n    return connector.hooks.dropTarget();\n  }, [connector]);\n  useIsomorphicLayoutEffect(function () {\n    connector.dropTargetOptions = spec.options || null;\n    connector.reconnect();\n  }, [spec.options]);\n  return [result, connectDropTarget];\n}","import { cloneElement } from 'react';\nimport { invariant } from '@react-dnd/invariant';\n\nfunction setRef(ref, node) {\n  if (typeof ref === 'function') {\n    ref(node);\n  } else {\n    ref.current = node;\n  }\n}\n\nexport function cloneWithRef(element, newRef) {\n  var previousRef = element.ref;\n  invariant(typeof previousRef !== 'string', 'Cannot connect React DnD to an element with an existing string ref. ' + 'Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. ' + 'Read more: https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute');\n\n  if (!previousRef) {\n    // When there is no ref on the element, use the new ref directly\n    return cloneElement(element, {\n      ref: newRef\n    });\n  } else {\n    return cloneElement(element, {\n      ref: function ref(node) {\n        setRef(previousRef, node);\n        setRef(newRef, node);\n      }\n    });\n  }\n}","import { isValidElement } from 'react';\nimport { cloneWithRef } from '../utils/cloneWithRef';\n\nfunction throwIfCompositeComponentElement(element) {\n  // Custom components can no longer be wrapped directly in React DnD 2.0\n  // so that we don't need to depend on findDOMNode() from react-dom.\n  if (typeof element.type === 'string') {\n    return;\n  }\n\n  var displayName = element.type.displayName || element.type.name || 'the component';\n  throw new Error('Only native element nodes can now be passed to React DnD connectors.' + \"You can either wrap \".concat(displayName, \" into a <div>, or turn it into a \") + 'drag source or a drop target itself.');\n}\n\nfunction wrapHookToRecognizeElement(hook) {\n  return function () {\n    var elementOrNode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n    // When passed a node, call the hook straight away.\n    if (!isValidElement(elementOrNode)) {\n      var node = elementOrNode;\n      hook(node, options); // return the node so it can be chained (e.g. when within callback refs\n      // <div ref={node => connectDragSource(connectDropTarget(node))}/>\n\n      return node;\n    } // If passed a ReactElement, clone it and attach this function as a ref.\n    // This helps us achieve a neat API where user doesn't even know that refs\n    // are being used under the hood.\n\n\n    var element = elementOrNode;\n    throwIfCompositeComponentElement(element); // When no options are passed, use the hook directly\n\n    var ref = options ? function (node) {\n      return hook(node, options);\n    } : hook;\n    return cloneWithRef(element, ref);\n  };\n}\n\nexport default function wrapConnectorHooks(hooks) {\n  var wrappedHooks = {};\n  Object.keys(hooks).forEach(function (key) {\n    var hook = hooks[key]; // ref objects should be passed straight through without wrapping\n\n    if (key.endsWith('Ref')) {\n      wrappedHooks[key] = hooks[key];\n    } else {\n      var wrappedHook = wrapHookToRecognizeElement(hook);\n\n      wrappedHooks[key] = function () {\n        return wrappedHook;\n      };\n    }\n  });\n  return wrappedHooks;\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 18l2 1V1H7v2h12v15zM17 5H3v18l7-3 7 3V5z\"\n}), 'BookmarksSharp');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19.44 12.99l-.01.02c.04-.33.08-.67.08-1.01 0-.34-.03-.66-.07-.99l.01.02 2.44-1.92-2.43-4.22-2.87 1.16.01.01c-.52-.4-1.09-.74-1.71-1h.01L14.44 2H9.57l-.44 3.07h.01c-.62.26-1.19.6-1.71 1l.01-.01-2.88-1.17-2.44 4.22 2.44 1.92.01-.02c-.04.33-.07.65-.07.99 0 .34.03.68.08 1.01l-.01-.02-2.1 1.65-.33.26 2.43 4.2 2.88-1.15-.02-.04c.53.41 1.1.75 1.73 1.01h-.03L9.58 22h4.85s.03-.18.06-.42l.38-2.65h-.01c.62-.26 1.2-.6 1.73-1.01l-.02.04 2.88 1.15 2.43-4.2s-.14-.12-.33-.26l-2.11-1.66zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z\"\n}), 'SettingsSharp');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14l-6-6z\"\n}), 'ExpandLessSharp');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z\"\n}), 'CheckSharp');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8zm-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12zm3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8zm5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8zm3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z\"\n}), 'PaletteSharp');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\"\n}), 'MoreHorizSharp');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 12v7H5v-7H3v9h18v-9h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2v9.67z\"\n}), 'SaveAltSharp');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M21 3.01H3c-1.1 0-2 .9-2 2V9h2V4.99h18v14.03H3V15H1v4.01c0 1.1.9 1.98 2 1.98h18c1.1 0 2-.88 2-1.98v-14c0-1.11-.9-2-2-2zM11 16l4-4-4-4v3H1v2h10v3z\"\n}), 'Input');\n\nexports.default = _default;","\"use strict\";\n\nvar _require = require('./Component'),\n    CopyToClipboard = _require.CopyToClipboard;\n\nCopyToClipboard.CopyToClipboard = CopyToClipboard;\nmodule.exports = CopyToClipboard;","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CopyToClipboard = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _copyToClipboard = _interopRequireDefault(require(\"copy-to-clipboard\"));\n\nvar _excluded = [\"text\", \"onCopy\", \"options\", \"children\"];\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar CopyToClipboard = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(CopyToClipboard, _React$PureComponent);\n\n  var _super = _createSuper(CopyToClipboard);\n\n  function CopyToClipboard() {\n    var _this;\n\n    _classCallCheck(this, CopyToClipboard);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"onClick\", function (event) {\n      var _this$props = _this.props,\n          text = _this$props.text,\n          onCopy = _this$props.onCopy,\n          children = _this$props.children,\n          options = _this$props.options;\n\n      var elem = _react[\"default\"].Children.only(children);\n\n      var result = (0, _copyToClipboard[\"default\"])(text, options);\n\n      if (onCopy) {\n        onCopy(text, result);\n      } // Bypass onClick if it was present\n\n\n      if (elem && elem.props && typeof elem.props.onClick === 'function') {\n        elem.props.onClick(event);\n      }\n    });\n\n    return _this;\n  }\n\n  _createClass(CopyToClipboard, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          _text = _this$props2.text,\n          _onCopy = _this$props2.onCopy,\n          _options = _this$props2.options,\n          children = _this$props2.children,\n          props = _objectWithoutProperties(_this$props2, _excluded);\n\n      var elem = _react[\"default\"].Children.only(children);\n\n      return /*#__PURE__*/_react[\"default\"].cloneElement(elem, _objectSpread(_objectSpread({}, props), {}, {\n        onClick: this.onClick\n      }));\n    }\n  }]);\n\n  return CopyToClipboard;\n}(_react[\"default\"].PureComponent);\n\nexports.CopyToClipboard = CopyToClipboard;\n\n_defineProperty(CopyToClipboard, \"defaultProps\", {\n  onCopy: undefined,\n  options: undefined\n});","\"use strict\";\n\nvar deselectCurrent = require(\"toggle-selection\");\n\nvar clipboardToIE11Formatting = {\n  \"text/plain\": \"Text\",\n  \"text/html\": \"Url\",\n  \"default\": \"Text\"\n}\n\nvar defaultMessage = \"Copy to clipboard: #{key}, Enter\";\n\nfunction format(message) {\n  var copyKey = (/mac os x/i.test(navigator.userAgent) ? \"\" : \"Ctrl\") + \"+C\";\n  return message.replace(/#{\\s*key\\s*}/g, copyKey);\n}\n\nfunction copy(text, options) {\n  var debug,\n    message,\n    reselectPrevious,\n    range,\n    selection,\n    mark,\n    success = false;\n  if (!options) {\n    options = {};\n  }\n  debug = options.debug || false;\n  try {\n    reselectPrevious = deselectCurrent();\n\n    range = document.createRange();\n    selection = document.getSelection();\n\n    mark = document.createElement(\"span\");\n    mark.textContent = text;\n    // avoid screen readers from reading out loud the text\n    mark.ariaHidden = \"true\"\n    // reset user styles for span element\n    mark.style.all = \"unset\";\n    // prevents scrolling to the end of the page\n    mark.style.position = \"fixed\";\n    mark.style.top = 0;\n    mark.style.clip = \"rect(0, 0, 0, 0)\";\n    // used to preserve spaces and line breaks\n    mark.style.whiteSpace = \"pre\";\n    // do not inherit user-select (it may be `none`)\n    mark.style.webkitUserSelect = \"text\";\n    mark.style.MozUserSelect = \"text\";\n    mark.style.msUserSelect = \"text\";\n    mark.style.userSelect = \"text\";\n    mark.addEventListener(\"copy\", function(e) {\n      e.stopPropagation();\n      if (options.format) {\n        e.preventDefault();\n        if (typeof e.clipboardData === \"undefined\") { // IE 11\n          debug && console.warn(\"unable to use e.clipboardData\");\n          debug && console.warn(\"trying IE specific stuff\");\n          window.clipboardData.clearData();\n          var format = clipboardToIE11Formatting[options.format] || clipboardToIE11Formatting[\"default\"]\n          window.clipboardData.setData(format, text);\n        } else { // all other browsers\n          e.clipboardData.clearData();\n          e.clipboardData.setData(options.format, text);\n        }\n      }\n      if (options.onCopy) {\n        e.preventDefault();\n        options.onCopy(e.clipboardData);\n      }\n    });\n\n    document.body.appendChild(mark);\n\n    range.selectNodeContents(mark);\n    selection.addRange(range);\n\n    var successful = document.execCommand(\"copy\");\n    if (!successful) {\n      throw new Error(\"copy command was unsuccessful\");\n    }\n    success = true;\n  } catch (err) {\n    debug && console.error(\"unable to copy using execCommand: \", err);\n    debug && console.warn(\"trying IE specific stuff\");\n    try {\n      window.clipboardData.setData(options.format || \"text\", text);\n      options.onCopy && options.onCopy(window.clipboardData);\n      success = true;\n    } catch (err) {\n      debug && console.error(\"unable to copy using clipboardData: \", err);\n      debug && console.error(\"falling back to prompt\");\n      message = format(\"message\" in options ? options.message : defaultMessage);\n      window.prompt(message, text);\n    }\n  } finally {\n    if (selection) {\n      if (typeof selection.removeRange == \"function\") {\n        selection.removeRange(range);\n      } else {\n        selection.removeAllRanges();\n      }\n    }\n\n    if (mark) {\n      document.body.removeChild(mark);\n    }\n    reselectPrevious();\n  }\n\n  return success;\n}\n\nmodule.exports = copy;\n","\nmodule.exports = function () {\n  var selection = document.getSelection();\n  if (!selection.rangeCount) {\n    return function () {};\n  }\n  var active = document.activeElement;\n\n  var ranges = [];\n  for (var i = 0; i < selection.rangeCount; i++) {\n    ranges.push(selection.getRangeAt(i));\n  }\n\n  switch (active.tagName.toUpperCase()) { // .toUpperCase handles XHTML\n    case 'INPUT':\n    case 'TEXTAREA':\n      active.blur();\n      break;\n\n    default:\n      active = null;\n      break;\n  }\n\n  selection.removeAllRanges();\n  return function () {\n    selection.type === 'Caret' &&\n    selection.removeAllRanges();\n\n    if (!selection.rangeCount) {\n      ranges.forEach(function(range) {\n        selection.addRange(range);\n      });\n    }\n\n    active &&\n    active.focus();\n  };\n};\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n}), 'Close');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z\"\n}), 'FullscreenExitSharp');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z\"\n}), 'FullscreenSharp');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M4.01 2L4 22h16V8l-6-6H4.01zM13 9V3.5L18.5 9H13z\"\n}), 'InsertDriveFileSharp');\n\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } _setPrototypeOf(subClass.prototype, superClass && superClass.prototype); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.getPrototypeOf || function _getPrototypeOf(o) { return o.__proto__; }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar style = {\n  position: 'absolute',\n  left: 0,\n  top: 0,\n  right: 0,\n  bottom: 0,\n  overflow: 'hidden',\n  zIndex: -1,\n  visibility: 'hidden',\n  pointerEvents: 'none'\n};\nvar styleChild = {\n  position: 'absolute',\n  left: 0,\n  top: 0,\n  transition: '0s'\n};\n\nfunction isAncestor(node, ancestor) {\n  var current = node.parentNode;\n\n  while (current) {\n    if (current === ancestor) {\n      return true;\n    }\n\n    current = current.parentNode;\n  }\n\n  return false;\n}\n\nvar ResizeObserver =\n/*#__PURE__*/\nfunction (_React$Component) {\n  function ResizeObserver() {\n    var _getPrototypeOf2;\n\n    var _temp, _this;\n\n    _classCallCheck(this, ResizeObserver);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _possibleConstructorReturn(_this, (_temp = _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ResizeObserver)).call.apply(_getPrototypeOf2, [this].concat(args))), _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"_expandRef\", null), _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"_shrinkRef\", null), _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"_node\", null), _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"_lastWidth\", void 0), _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"_lastHeight\", void 0), _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"_lastRect\", void 0), _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"_hasResize\", false), _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"_handleScroll\", function (event) {\n      if ((_this.props.onPosition || _this.props.onReflow || _this.props.onResize) && (_this._globalScollTarget(event.target) || _this._refScrollTarget(event.target) || _this._ancestorScollTarget(event.target))) {\n        _this._reflow();\n      }\n    }), _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"_globalScollTarget\", function (target) {\n      return target instanceof Node && (_this.props.onPosition || _this.props.onReflow) && (target === document || target === document.documentElement || target === document.body);\n    }), _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"_refScrollTarget\", function (target) {\n      if (target instanceof HTMLElement && (target === _this._expandRef || target === _this._shrinkRef)) {\n        var width = target.offsetWidth;\n        var height = target.offsetHeight;\n\n        if (width !== _this._lastWidth || height !== _this._lastHeight) {\n          _this._lastWidth = width;\n          _this._lastHeight = height;\n\n          _this._reset(_this._expandRef);\n\n          _this._reset(_this._shrinkRef);\n\n          return true;\n        }\n      }\n\n      return false;\n    }), _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"_ancestorScollTarget\", function (target) {\n      return target instanceof Node && (_this.props.onPosition || _this.props.onReflow) && _this._node && isAncestor(_this._node, target);\n    }), _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"_reflow\", function () {\n      if (!_this._node || !(_this._node.parentNode instanceof Element)) return;\n\n      var rect = _this._node.parentNode.getBoundingClientRect();\n\n      var sizeChanged = true;\n      var positionChanged = true;\n\n      if (_this._lastRect) {\n        sizeChanged = rect.width !== _this._lastRect.width || rect.height !== _this._lastRect.height;\n        positionChanged = rect.top !== _this._lastRect.top || rect.left !== _this._lastRect.left;\n      }\n\n      _this._lastRect = rect;\n\n      if (sizeChanged && _this.props.onResize) {\n        _this.props.onResize(rect);\n      }\n\n      if (positionChanged && _this.props.onPosition) {\n        _this.props.onPosition(rect);\n      }\n\n      if ((sizeChanged || positionChanged) && _this.props.onReflow) {\n        _this.props.onReflow(rect);\n      }\n    }), _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"_handleRef\", function (node) {\n      _this._node = node;\n    }), _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"_handleExpandRef\", function (node) {\n      _this._reset(node);\n\n      _this._expandRef = node;\n    }), _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"_handleShrinkRef\", function (node) {\n      _this._reset(node);\n\n      _this._shrinkRef = node;\n    }), _temp));\n  }\n\n  _createClass(ResizeObserver, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this._reflow();\n\n      window.addEventListener('scroll', this._handleScroll, true);\n\n      if (this.props.onPosition || this.props.onReflow) {\n        window.addEventListener('resize', this._reflow, true);\n        this._hasResize = true;\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      if ((this.props.onPosition || this.props.onReflow) && !this._hasResize) {\n        window.addEventListener('resize', this._reflow, true);\n        this._hasResize = true;\n      } else if (!(this.props.onPosition || this.props.onReflow) && this._hasResize) {\n        window.removeEventListener('resize', this._reflow, true);\n        this._hasResize = false;\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      window.removeEventListener('scroll', this._handleScroll, true);\n\n      if (this._hasResize) {\n        window.removeEventListener('resize', this._reflow, true);\n      }\n    }\n  }, {\n    key: \"_reset\",\n    value: function _reset(node) {\n      if (node) {\n        node.scrollLeft = 100000;\n        node.scrollTop = 100000;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.props.onResize || this.props.onReflow) {\n        return _react.default.createElement(\"div\", {\n          style: style,\n          ref: this._handleRef\n        }, _react.default.createElement(\"div\", {\n          ref: this._handleExpandRef,\n          style: style\n        }, _react.default.createElement(\"div\", {\n          style: _objectSpread({}, styleChild, {\n            width: 100000,\n            height: 100000\n          })\n        })), _react.default.createElement(\"div\", {\n          ref: this._handleShrinkRef,\n          style: style\n        }, _react.default.createElement(\"div\", {\n          style: _objectSpread({}, styleChild, {\n            width: '200%',\n            height: '200%'\n          })\n        })));\n      }\n\n      return _react.default.createElement(\"noscript\", {\n        ref: this._handleRef\n      });\n    }\n  }]);\n\n  _inherits(ResizeObserver, _React$Component);\n\n  return ResizeObserver;\n}(_react.default.Component);\n\n_defineProperty(ResizeObserver, \"displayName\", 'ResizeObserver');\n\nvar _default = ResizeObserver;\nexports.default = _default;\n//# sourceMappingURL=ResizeObserver.js.map","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M10 18h5V5h-5v13zm-6 0h5V5H4v13zM16 5v13h5V5h-5z\"\n}), 'ViewColumn');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M21 3H3v18h18V3zm-2 16H5V5h14v14zm-5.04-6.71l-2.75 3.54-1.96-2.36L6.5 17h11l-3.54-4.71z\"\n}), 'CropOriginalSharp');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M21 3H3v18h18V3zm-2 16H5V5h14v14z\"\n}), 'CropDinSharp');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\"\n}), 'MoreVertSharp');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M20 8h-3V6.21c0-2.61-1.91-4.94-4.51-5.19C9.51.74 7 3.08 7 6v2H4v14h16V8zm-8 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zM9 8V6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9z\"\n}), 'LockSharp');\n\nexports.default = _default;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar IComCom = function (_React$Component) {\n  _inherits(IComCom, _React$Component);\n\n  function IComCom(args) {\n    _classCallCheck(this, IComCom);\n\n    var _this = _possibleConstructorReturn(this, (IComCom.__proto__ || Object.getPrototypeOf(IComCom)).call(this, args));\n\n    _this.onReceiveMessage = _this.onReceiveMessage.bind(_this);\n    _this.onLoad = _this.onLoad.bind(_this);\n    _this.sendMessage = _this.sendMessage.bind(_this);\n    return _this;\n  }\n\n  _createClass(IComCom, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      window.addEventListener('message', this.onReceiveMessage);\n      if (this._frame) {\n        this._frame.addEventListener('load', this.onLoad);\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      window.removeEventListener('message', this.onReceiveMessage, false);\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      if (this.props.postMessageData !== nextProps.postMessageData) {\n        this.sendMessage(nextProps.postMessageData);\n      }\n    }\n  }, {\n    key: 'onReceiveMessage',\n    value: function onReceiveMessage(event) {\n      var handleReceiveMessage = this.props.handleReceiveMessage;\n\n      if (handleReceiveMessage) {\n        handleReceiveMessage(event);\n      }\n    }\n  }, {\n    key: 'onLoad',\n    value: function onLoad() {\n      var handleReady = this.props.handleReady;\n\n      if (handleReady) {\n        handleReady();\n      }\n\n      this.sendMessage(this.props.postMessageData);\n    }\n  }, {\n    key: 'sendMessage',\n    value: function sendMessage(postMessageData) {\n      this._frame.contentWindow.postMessage(postMessageData, this.props.targetOrigin);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var attributes = this.props.attributes;\n\n\n      return _react2.default.createElement('iframe', _extends({\n        ref: function ref(el) {\n          _this2._frame = el;\n        }\n      }, Object.assign({}, IComCom.defaultAttributes, attributes)));\n    }\n  }]);\n\n  return IComCom;\n}(_react2.default.Component);\n\nIComCom.propTypes = {\n  attributes: _propTypes2.default.shape({\n    frameBorder: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.number]),\n    height: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.number]),\n    name: _propTypes2.default.string,\n    scrolling: _propTypes2.default.string,\n    sandbox: _propTypes2.default.string,\n    srcDoc: _propTypes2.default.string,\n    src: _propTypes2.default.string.isRequired,\n    width: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.number])\n  }),\n  handleReceiveMessage: _propTypes2.default.func,\n  handleReady: _propTypes2.default.func,\n  postMessageData: _propTypes2.default.any,\n  targetOrigin: _propTypes2.default.string\n};\nIComCom.defaultProps = {\n  targetOrigin: '*'\n};\nIComCom.defaultAttributes = {\n  frameBorder: 0\n};\nexports.default = IComCom;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z\"\n}), 'InfoSharp');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M10.08 10.86c.05-.33.16-.62.3-.87s.34-.46.59-.62c.24-.15.54-.22.91-.23.23.01.44.05.63.13.2.09.38.21.52.36s.25.33.34.53.13.42.14.64h1.79c-.02-.47-.11-.9-.28-1.29s-.4-.73-.7-1.01-.66-.5-1.08-.66-.88-.23-1.39-.23c-.65 0-1.22.11-1.7.34s-.88.53-1.2.92-.56.84-.71 1.36S8 11.29 8 11.87v.27c0 .58.08 1.12.23 1.64s.39.97.71 1.35.72.69 1.2.91c.48.22 1.05.34 1.7.34.47 0 .91-.08 1.32-.23s.77-.36 1.08-.63.56-.58.74-.94.29-.74.3-1.15h-1.79c-.01.21-.06.4-.15.58s-.21.33-.36.46-.32.23-.52.3c-.19.07-.39.09-.6.1-.36-.01-.66-.08-.89-.23-.25-.16-.45-.37-.59-.62s-.25-.55-.3-.88-.08-.67-.08-1v-.27c0-.35.03-.68.08-1.01zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\"\n}), 'CopyrightSharp');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11.99 18.54l-7.37-5.73L3 14.07l9 7 9-7-1.63-1.27-7.38 5.74zM12 16l7.36-5.73L21 9l-9-7-9 7 1.63 1.27L12 16z\"\n}), 'LayersSharp');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M10 17l5-5-5-5v10z\"\n}), 'ArrowRightSharp');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M14 7l-5 5 5 5V7z\"\n}), 'ArrowLeftSharp');\n\nexports.default = _default;","var baseDifference = require('./_baseDifference'),\n    baseFlatten = require('./_baseFlatten'),\n    baseRest = require('./_baseRest'),\n    isArrayLikeObject = require('./isArrayLikeObject');\n\n/**\n * Creates an array of `array` values not included in the other given arrays\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons. The order and references of result values are\n * determined by the first array.\n *\n * **Note:** Unlike `_.pullAll`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {...Array} [values] The values to exclude.\n * @returns {Array} Returns the new array of filtered values.\n * @see _.without, _.xor\n * @example\n *\n * _.difference([2, 1], [2, 3]);\n * // => [1]\n */\nvar difference = baseRest(function(array, values) {\n  return isArrayLikeObject(array)\n    ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true))\n    : [];\n});\n\nmodule.exports = difference;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction stringifiable(obj) {\n    // Safely stringify Object.create(null)\n    /* istanbul ignore next */\n    return typeof obj === 'object' && !('toString' in obj) ?\n        Object.prototype.toString.call(obj).slice(8, -1) :\n        obj;\n}\nvar isProduction = typeof process === 'object' && process.env.NODE_ENV === 'production';\nfunction invariant(condition, message) {\n    if (!condition) {\n        /* istanbul ignore next */\n        if (isProduction) {\n            throw new Error('Invariant failed');\n        }\n        throw new Error(message());\n    }\n}\nexports.invariant = invariant;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar splice = Array.prototype.splice;\nvar toString = Object.prototype.toString;\nfunction type(obj) {\n    return toString.call(obj).slice(8, -1);\n}\nvar assign = Object.assign || /* istanbul ignore next */ (function (target, source) {\n    getAllKeys(source).forEach(function (key) {\n        if (hasOwnProperty.call(source, key)) {\n            target[key] = source[key];\n        }\n    });\n    return target;\n});\nvar getAllKeys = typeof Object.getOwnPropertySymbols === 'function'\n    ? function (obj) { return Object.keys(obj).concat(Object.getOwnPropertySymbols(obj)); }\n    /* istanbul ignore next */\n    : function (obj) { return Object.keys(obj); };\nfunction copy(object) {\n    return Array.isArray(object)\n        ? assign(object.constructor(object.length), object)\n        : (type(object) === 'Map')\n            ? new Map(object)\n            : (type(object) === 'Set')\n                ? new Set(object)\n                : (object && typeof object === 'object')\n                    ? assign(Object.create(Object.getPrototypeOf(object)), object)\n                    /* istanbul ignore next */\n                    : object;\n}\nvar Context = /** @class */ (function () {\n    function Context() {\n        this.commands = assign({}, defaultCommands);\n        this.update = this.update.bind(this);\n        // Deprecated: update.extend, update.isEquals and update.newContext\n        this.update.extend = this.extend = this.extend.bind(this);\n        this.update.isEquals = function (x, y) { return x === y; };\n        this.update.newContext = function () { return new Context().update; };\n    }\n    Object.defineProperty(Context.prototype, \"isEquals\", {\n        get: function () {\n            return this.update.isEquals;\n        },\n        set: function (value) {\n            this.update.isEquals = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Context.prototype.extend = function (directive, fn) {\n        this.commands[directive] = fn;\n    };\n    Context.prototype.update = function (object, $spec) {\n        var _this = this;\n        var spec = (typeof $spec === 'function') ? { $apply: $spec } : $spec;\n        if (!(Array.isArray(object) && Array.isArray(spec))) {\n            invariant(!Array.isArray(spec), function () { return \"update(): You provided an invalid spec to update(). The spec may \" +\n                \"not contain an array except as the value of $set, $push, $unshift, \" +\n                \"$splice or any custom command allowing an array value.\"; });\n        }\n        invariant(typeof spec === 'object' && spec !== null, function () { return \"update(): You provided an invalid spec to update(). The spec and \" +\n            \"every included key path must be plain objects containing one of the \" +\n            (\"following commands: \" + Object.keys(_this.commands).join(', ') + \".\"); });\n        var nextObject = object;\n        getAllKeys(spec).forEach(function (key) {\n            if (hasOwnProperty.call(_this.commands, key)) {\n                var objectWasNextObject = object === nextObject;\n                nextObject = _this.commands[key](spec[key], nextObject, spec, object);\n                if (objectWasNextObject && _this.isEquals(nextObject, object)) {\n                    nextObject = object;\n                }\n            }\n            else {\n                var nextValueForKey = type(object) === 'Map'\n                    ? _this.update(object.get(key), spec[key])\n                    : _this.update(object[key], spec[key]);\n                var nextObjectValue = type(nextObject) === 'Map'\n                    ? nextObject.get(key)\n                    : nextObject[key];\n                if (!_this.isEquals(nextValueForKey, nextObjectValue)\n                    || typeof nextValueForKey === 'undefined'\n                        && !hasOwnProperty.call(object, key)) {\n                    if (nextObject === object) {\n                        nextObject = copy(object);\n                    }\n                    if (type(nextObject) === 'Map') {\n                        nextObject.set(key, nextValueForKey);\n                    }\n                    else {\n                        nextObject[key] = nextValueForKey;\n                    }\n                }\n            }\n        });\n        return nextObject;\n    };\n    return Context;\n}());\nexports.Context = Context;\nvar defaultCommands = {\n    $push: function (value, nextObject, spec) {\n        invariantPushAndUnshift(nextObject, spec, '$push');\n        return value.length ? nextObject.concat(value) : nextObject;\n    },\n    $unshift: function (value, nextObject, spec) {\n        invariantPushAndUnshift(nextObject, spec, '$unshift');\n        return value.length ? value.concat(nextObject) : nextObject;\n    },\n    $splice: function (value, nextObject, spec, originalObject) {\n        invariantSplices(nextObject, spec);\n        value.forEach(function (args) {\n            invariantSplice(args);\n            if (nextObject === originalObject && args.length) {\n                nextObject = copy(originalObject);\n            }\n            splice.apply(nextObject, args);\n        });\n        return nextObject;\n    },\n    $set: function (value, _nextObject, spec) {\n        invariantSet(spec);\n        return value;\n    },\n    $toggle: function (targets, nextObject) {\n        invariantSpecArray(targets, '$toggle');\n        var nextObjectCopy = targets.length ? copy(nextObject) : nextObject;\n        targets.forEach(function (target) {\n            nextObjectCopy[target] = !nextObject[target];\n        });\n        return nextObjectCopy;\n    },\n    $unset: function (value, nextObject, _spec, originalObject) {\n        invariantSpecArray(value, '$unset');\n        value.forEach(function (key) {\n            if (Object.hasOwnProperty.call(nextObject, key)) {\n                if (nextObject === originalObject) {\n                    nextObject = copy(originalObject);\n                }\n                delete nextObject[key];\n            }\n        });\n        return nextObject;\n    },\n    $add: function (values, nextObject, _spec, originalObject) {\n        invariantMapOrSet(nextObject, '$add');\n        invariantSpecArray(values, '$add');\n        if (type(nextObject) === 'Map') {\n            values.forEach(function (_a) {\n                var key = _a[0], value = _a[1];\n                if (nextObject === originalObject && nextObject.get(key) !== value) {\n                    nextObject = copy(originalObject);\n                }\n                nextObject.set(key, value);\n            });\n        }\n        else {\n            values.forEach(function (value) {\n                if (nextObject === originalObject && !nextObject.has(value)) {\n                    nextObject = copy(originalObject);\n                }\n                nextObject.add(value);\n            });\n        }\n        return nextObject;\n    },\n    $remove: function (value, nextObject, _spec, originalObject) {\n        invariantMapOrSet(nextObject, '$remove');\n        invariantSpecArray(value, '$remove');\n        value.forEach(function (key) {\n            if (nextObject === originalObject && nextObject.has(key)) {\n                nextObject = copy(originalObject);\n            }\n            nextObject.delete(key);\n        });\n        return nextObject;\n    },\n    $merge: function (value, nextObject, _spec, originalObject) {\n        invariantMerge(nextObject, value);\n        getAllKeys(value).forEach(function (key) {\n            if (value[key] !== nextObject[key]) {\n                if (nextObject === originalObject) {\n                    nextObject = copy(originalObject);\n                }\n                nextObject[key] = value[key];\n            }\n        });\n        return nextObject;\n    },\n    $apply: function (value, original) {\n        invariantApply(value);\n        return value(original);\n    },\n};\nvar defaultContext = new Context();\nexports.isEquals = defaultContext.update.isEquals;\nexports.extend = defaultContext.extend;\nexports.default = defaultContext.update;\n// @ts-ignore\nexports.default.default = module.exports = assign(exports.default, exports);\n// invariants\nfunction invariantPushAndUnshift(value, spec, command) {\n    invariant(Array.isArray(value), function () { return \"update(): expected target of \" + stringifiable(command) + \" to be an array; got \" + stringifiable(value) + \".\"; });\n    invariantSpecArray(spec[command], command);\n}\nfunction invariantSpecArray(spec, command) {\n    invariant(Array.isArray(spec), function () { return \"update(): expected spec of \" + stringifiable(command) + \" to be an array; got \" + stringifiable(spec) + \". \" +\n        \"Did you forget to wrap your parameter in an array?\"; });\n}\nfunction invariantSplices(value, spec) {\n    invariant(Array.isArray(value), function () { return \"Expected $splice target to be an array; got \" + stringifiable(value); });\n    invariantSplice(spec.$splice);\n}\nfunction invariantSplice(value) {\n    invariant(Array.isArray(value), function () { return \"update(): expected spec of $splice to be an array of arrays; got \" + stringifiable(value) + \". \" +\n        \"Did you forget to wrap your parameters in an array?\"; });\n}\nfunction invariantApply(fn) {\n    invariant(typeof fn === 'function', function () { return \"update(): expected spec of $apply to be a function; got \" + stringifiable(fn) + \".\"; });\n}\nfunction invariantSet(spec) {\n    invariant(Object.keys(spec).length === 1, function () { return \"Cannot have more than one key in an object with $set\"; });\n}\nfunction invariantMerge(target, specValue) {\n    invariant(specValue && typeof specValue === 'object', function () { return \"update(): $merge expects a spec of type 'object'; got \" + stringifiable(specValue); });\n    invariant(target && typeof target === 'object', function () { return \"update(): $merge expects a target of type 'object'; got \" + stringifiable(target); });\n}\nfunction invariantMapOrSet(target, command) {\n    var typeOfTarget = type(target);\n    invariant(typeOfTarget === 'Map' || typeOfTarget === 'Set', function () { return \"update(): \" + stringifiable(command) + \" expects a target of type Set or Map; got \" + stringifiable(typeOfTarget); });\n}\n","var baseSlice = require('./_baseSlice'),\n    toInteger = require('./toInteger');\n\n/**\n * Creates a slice of `array` with `n` elements dropped from the beginning.\n *\n * @static\n * @memberOf _\n * @since 0.5.0\n * @category Array\n * @param {Array} array The array to query.\n * @param {number} [n=1] The number of elements to drop.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Array} Returns the slice of `array`.\n * @example\n *\n * _.drop([1, 2, 3]);\n * // => [2, 3]\n *\n * _.drop([1, 2, 3], 2);\n * // => [3]\n *\n * _.drop([1, 2, 3], 5);\n * // => []\n *\n * _.drop([1, 2, 3], 0);\n * // => [1, 2, 3]\n */\nfunction drop(array, n, guard) {\n  var length = array == null ? 0 : array.length;\n  if (!length) {\n    return [];\n  }\n  n = (guard || n === undefined) ? 1 : toInteger(n);\n  return baseSlice(array, n < 0 ? 0 : n, length);\n}\n\nmodule.exports = drop;\n","var baseSlice = require('./_baseSlice'),\n    toInteger = require('./toInteger');\n\n/**\n * Creates a slice of `array` with `n` elements taken from the beginning.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to query.\n * @param {number} [n=1] The number of elements to take.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Array} Returns the slice of `array`.\n * @example\n *\n * _.take([1, 2, 3]);\n * // => [1]\n *\n * _.take([1, 2, 3], 2);\n * // => [1, 2]\n *\n * _.take([1, 2, 3], 5);\n * // => [1, 2, 3]\n *\n * _.take([1, 2, 3], 0);\n * // => []\n */\nfunction take(array, n, guard) {\n  if (!(array && array.length)) {\n    return [];\n  }\n  n = (guard || n === undefined) ? 1 : toInteger(n);\n  return baseSlice(array, 0, n < 0 ? 0 : n);\n}\n\nmodule.exports = take;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * @license\n * Copyright 2019 Kevin Verdieck, originally developed at Palantir Technologies, Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar Mosaic_1 = require(\"./Mosaic\");\nObject.defineProperty(exports, \"Mosaic\", { enumerable: true, get: function () { return Mosaic_1.Mosaic; } });\nObject.defineProperty(exports, \"MosaicWithoutDragDropContext\", { enumerable: true, get: function () { return Mosaic_1.MosaicWithoutDragDropContext; } });\nvar types_1 = require(\"./types\");\nObject.defineProperty(exports, \"MosaicDragType\", { enumerable: true, get: function () { return types_1.MosaicDragType; } });\nvar contextTypes_1 = require(\"./contextTypes\");\nObject.defineProperty(exports, \"MosaicContext\", { enumerable: true, get: function () { return contextTypes_1.MosaicContext; } });\nObject.defineProperty(exports, \"MosaicWindowContext\", { enumerable: true, get: function () { return contextTypes_1.MosaicWindowContext; } });\nvar mosaicUpdates_1 = require(\"./util/mosaicUpdates\");\nObject.defineProperty(exports, \"buildSpecFromUpdate\", { enumerable: true, get: function () { return mosaicUpdates_1.buildSpecFromUpdate; } });\nObject.defineProperty(exports, \"createDragToUpdates\", { enumerable: true, get: function () { return mosaicUpdates_1.createDragToUpdates; } });\nObject.defineProperty(exports, \"createExpandUpdate\", { enumerable: true, get: function () { return mosaicUpdates_1.createExpandUpdate; } });\nObject.defineProperty(exports, \"createHideUpdate\", { enumerable: true, get: function () { return mosaicUpdates_1.createHideUpdate; } });\nObject.defineProperty(exports, \"createRemoveUpdate\", { enumerable: true, get: function () { return mosaicUpdates_1.createRemoveUpdate; } });\nObject.defineProperty(exports, \"updateTree\", { enumerable: true, get: function () { return mosaicUpdates_1.updateTree; } });\nvar mosaicUtilities_1 = require(\"./util/mosaicUtilities\");\nObject.defineProperty(exports, \"createBalancedTreeFromLeaves\", { enumerable: true, get: function () { return mosaicUtilities_1.createBalancedTreeFromLeaves; } });\nObject.defineProperty(exports, \"Corner\", { enumerable: true, get: function () { return mosaicUtilities_1.Corner; } });\nObject.defineProperty(exports, \"getAndAssertNodeAtPathExists\", { enumerable: true, get: function () { return mosaicUtilities_1.getAndAssertNodeAtPathExists; } });\nObject.defineProperty(exports, \"getLeaves\", { enumerable: true, get: function () { return mosaicUtilities_1.getLeaves; } });\nObject.defineProperty(exports, \"getNodeAtPath\", { enumerable: true, get: function () { return mosaicUtilities_1.getNodeAtPath; } });\nObject.defineProperty(exports, \"getOtherBranch\", { enumerable: true, get: function () { return mosaicUtilities_1.getOtherBranch; } });\nObject.defineProperty(exports, \"getOtherDirection\", { enumerable: true, get: function () { return mosaicUtilities_1.getOtherDirection; } });\nObject.defineProperty(exports, \"getPathToCorner\", { enumerable: true, get: function () { return mosaicUtilities_1.getPathToCorner; } });\nObject.defineProperty(exports, \"isParent\", { enumerable: true, get: function () { return mosaicUtilities_1.isParent; } });\nvar MosaicWindow_1 = require(\"./MosaicWindow\");\nObject.defineProperty(exports, \"MosaicWindow\", { enumerable: true, get: function () { return MosaicWindow_1.MosaicWindow; } });\nvar MosaicButton_1 = require(\"./buttons/MosaicButton\");\nObject.defineProperty(exports, \"createDefaultToolbarButton\", { enumerable: true, get: function () { return MosaicButton_1.createDefaultToolbarButton; } });\nvar MosaicZeroState_1 = require(\"./MosaicZeroState\");\nObject.defineProperty(exports, \"MosaicZeroState\", { enumerable: true, get: function () { return MosaicZeroState_1.MosaicZeroState; } });\nvar Separator_1 = require(\"./buttons/Separator\");\nObject.defineProperty(exports, \"Separator\", { enumerable: true, get: function () { return Separator_1.Separator; } });\nvar ExpandButton_1 = require(\"./buttons/ExpandButton\");\nObject.defineProperty(exports, \"ExpandButton\", { enumerable: true, get: function () { return ExpandButton_1.ExpandButton; } });\nvar ReplaceButton_1 = require(\"./buttons/ReplaceButton\");\nObject.defineProperty(exports, \"ReplaceButton\", { enumerable: true, get: function () { return ReplaceButton_1.ReplaceButton; } });\nvar SplitButton_1 = require(\"./buttons/SplitButton\");\nObject.defineProperty(exports, \"SplitButton\", { enumerable: true, get: function () { return SplitButton_1.SplitButton; } });\nvar RemoveButton_1 = require(\"./buttons/RemoveButton\");\nObject.defineProperty(exports, \"RemoveButton\", { enumerable: true, get: function () { return RemoveButton_1.RemoveButton; } });\nvar defaultToolbarControls_1 = require(\"./buttons/defaultToolbarControls\");\nObject.defineProperty(exports, \"DEFAULT_CONTROLS_WITH_CREATION\", { enumerable: true, get: function () { return defaultToolbarControls_1.DEFAULT_CONTROLS_WITH_CREATION; } });\nObject.defineProperty(exports, \"DEFAULT_CONTROLS_WITHOUT_CREATION\", { enumerable: true, get: function () { return defaultToolbarControls_1.DEFAULT_CONTROLS_WITHOUT_CREATION; } });\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Mosaic = exports.MosaicWithoutDragDropContext = void 0;\nvar classnames_1 = __importDefault(require(\"classnames\"));\nvar countBy_1 = __importDefault(require(\"lodash/countBy\"));\nvar keys_1 = __importDefault(require(\"lodash/keys\"));\nvar pickBy_1 = __importDefault(require(\"lodash/pickBy\"));\nvar react_1 = __importDefault(require(\"react\"));\nvar react_dnd_1 = require(\"react-dnd\");\nvar react_dnd_multi_backend_1 = __importDefault(require(\"react-dnd-multi-backend\"));\nvar HTML5toTouch_1 = __importDefault(require(\"react-dnd-multi-backend/dist/cjs/HTML5toTouch\"));\nvar uuid_1 = require(\"uuid\");\nvar contextTypes_1 = require(\"./contextTypes\");\nvar MosaicRoot_1 = require(\"./MosaicRoot\");\nvar MosaicZeroState_1 = require(\"./MosaicZeroState\");\nvar RootDropTargets_1 = require(\"./RootDropTargets\");\nvar mosaicUpdates_1 = require(\"./util/mosaicUpdates\");\nvar mosaicUtilities_1 = require(\"./util/mosaicUtilities\");\nvar DEFAULT_EXPAND_PERCENTAGE = 70;\nfunction isUncontrolled(props) {\n    return props.initialValue != null;\n}\nvar MosaicWithoutDragDropContext = /** @class */ (function (_super) {\n    __extends(MosaicWithoutDragDropContext, _super);\n    function MosaicWithoutDragDropContext() {\n        var _a;\n        var _this = _super.apply(this, arguments) || this;\n        _this.state = {\n            currentNode: null,\n            lastInitialValue: null,\n            mosaicId: (_a = _this.props.mosaicId) !== null && _a !== void 0 ? _a : uuid_1.v4(),\n        };\n        _this.updateRoot = function (updates, suppressOnRelease) {\n            if (suppressOnRelease === void 0) { suppressOnRelease = false; }\n            var currentNode = _this.getRoot() || {};\n            _this.replaceRoot(mosaicUpdates_1.updateTree(currentNode, updates), suppressOnRelease);\n        };\n        _this.replaceRoot = function (currentNode, suppressOnRelease) {\n            if (suppressOnRelease === void 0) { suppressOnRelease = false; }\n            _this.props.onChange(currentNode);\n            if (!suppressOnRelease && _this.props.onRelease) {\n                _this.props.onRelease(currentNode);\n            }\n            if (isUncontrolled(_this.props)) {\n                _this.setState({ currentNode: currentNode });\n            }\n        };\n        _this.actions = {\n            updateTree: _this.updateRoot,\n            remove: function (path) {\n                if (path.length === 0) {\n                    _this.replaceRoot(null);\n                }\n                else {\n                    _this.updateRoot([mosaicUpdates_1.createRemoveUpdate(_this.getRoot(), path)]);\n                }\n            },\n            expand: function (path, percentage) {\n                if (percentage === void 0) { percentage = DEFAULT_EXPAND_PERCENTAGE; }\n                return _this.updateRoot([mosaicUpdates_1.createExpandUpdate(path, percentage)]);\n            },\n            getRoot: function () { return _this.getRoot(); },\n            hide: function (path) { return _this.updateRoot([mosaicUpdates_1.createHideUpdate(path)]); },\n            replaceWith: function (path, newNode) {\n                return _this.updateRoot([\n                    {\n                        path: path,\n                        spec: {\n                            $set: newNode,\n                        },\n                    },\n                ]);\n            },\n        };\n        _this.childContext = {\n            mosaicActions: _this.actions,\n            mosaicId: _this.state.mosaicId,\n        };\n        return _this;\n    }\n    MosaicWithoutDragDropContext.getDerivedStateFromProps = function (nextProps, prevState) {\n        if (nextProps.mosaicId && prevState.mosaicId !== nextProps.mosaicId && process.env.NODE_ENV !== 'production') {\n            throw new Error('Mosaic does not support updating the mosaicId after instantiation');\n        }\n        if (isUncontrolled(nextProps) && nextProps.initialValue !== prevState.lastInitialValue) {\n            return {\n                lastInitialValue: nextProps.initialValue,\n                currentNode: nextProps.initialValue,\n            };\n        }\n        return null;\n    };\n    MosaicWithoutDragDropContext.prototype.render = function () {\n        var className = this.props.className;\n        return (react_1.default.createElement(contextTypes_1.MosaicContext.Provider, { value: this.childContext },\n            react_1.default.createElement(\"div\", { className: classnames_1.default(className, 'mosaic mosaic-drop-target') },\n                this.renderTree(),\n                react_1.default.createElement(RootDropTargets_1.RootDropTargets, null))));\n    };\n    MosaicWithoutDragDropContext.prototype.getRoot = function () {\n        if (isUncontrolled(this.props)) {\n            return this.state.currentNode;\n        }\n        else {\n            return this.props.value;\n        }\n    };\n    MosaicWithoutDragDropContext.prototype.renderTree = function () {\n        var root = this.getRoot();\n        this.validateTree(root);\n        if (root === null || root === undefined) {\n            return this.props.zeroStateView;\n        }\n        else {\n            var _a = this.props, renderTile = _a.renderTile, resize = _a.resize;\n            return react_1.default.createElement(MosaicRoot_1.MosaicRoot, { root: root, renderTile: renderTile, resize: resize });\n        }\n    };\n    MosaicWithoutDragDropContext.prototype.validateTree = function (node) {\n        if (process.env.NODE_ENV !== 'production') {\n            var duplicates = keys_1.default(pickBy_1.default(countBy_1.default(mosaicUtilities_1.getLeaves(node)), function (n) { return n > 1; }));\n            if (duplicates.length > 0) {\n                throw new Error(\"Duplicate IDs [\" + duplicates.join(', ') + \"] detected. Mosaic does not support leaves with the same ID\");\n            }\n        }\n    };\n    MosaicWithoutDragDropContext.defaultProps = {\n        onChange: function () { return void 0; },\n        zeroStateView: react_1.default.createElement(MosaicZeroState_1.MosaicZeroState, null),\n        className: 'mosaic-blueprint-theme',\n    };\n    return MosaicWithoutDragDropContext;\n}(react_1.default.PureComponent));\nexports.MosaicWithoutDragDropContext = MosaicWithoutDragDropContext;\nvar Mosaic = /** @class */ (function (_super) {\n    __extends(Mosaic, _super);\n    function Mosaic() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Mosaic.prototype.render = function () {\n        return (react_1.default.createElement(react_dnd_1.DndProvider, { backend: react_dnd_multi_backend_1.default, options: HTML5toTouch_1.default },\n            react_1.default.createElement(MosaicWithoutDragDropContext, __assign({}, this.props))));\n    };\n    return Mosaic;\n}(react_1.default.PureComponent));\nexports.Mosaic = Mosaic;\n//# sourceMappingURL=Mosaic.js.map","var baseAssignValue = require('./_baseAssignValue'),\n    createAggregator = require('./_createAggregator');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an object composed of keys generated from the results of running\n * each element of `collection` thru `iteratee`. The corresponding value of\n * each key is the number of times the key was returned by `iteratee`. The\n * iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 0.5.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n * @returns {Object} Returns the composed aggregate object.\n * @example\n *\n * _.countBy([6.1, 4.2, 6.3], Math.floor);\n * // => { '4': 1, '6': 2 }\n *\n * // The `_.property` iteratee shorthand.\n * _.countBy(['one', 'two', 'three'], 'length');\n * // => { '3': 2, '5': 1 }\n */\nvar countBy = createAggregator(function(result, value, key) {\n  if (hasOwnProperty.call(result, key)) {\n    ++result[key];\n  } else {\n    baseAssignValue(result, key, 1);\n  }\n});\n\nmodule.exports = countBy;\n","var arrayMap = require('./_arrayMap'),\n    baseIteratee = require('./_baseIteratee'),\n    basePickBy = require('./_basePickBy'),\n    getAllKeysIn = require('./_getAllKeysIn');\n\n/**\n * Creates an object composed of the `object` properties `predicate` returns\n * truthy for. The predicate is invoked with two arguments: (value, key).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The source object.\n * @param {Function} [predicate=_.identity] The function invoked per property.\n * @returns {Object} Returns the new object.\n * @example\n *\n * var object = { 'a': 1, 'b': '2', 'c': 3 };\n *\n * _.pickBy(object, _.isNumber);\n * // => { 'a': 1, 'c': 3 }\n */\nfunction pickBy(object, predicate) {\n  if (object == null) {\n    return {};\n  }\n  var props = arrayMap(getAllKeysIn(object), function(prop) {\n    return [prop];\n  });\n  predicate = baseIteratee(predicate);\n  return basePickBy(object, props, function(value, path) {\n    return predicate(value, path[0]);\n  });\n}\n\nmodule.exports = pickBy;\n","var baseGet = require('./_baseGet'),\n    baseSet = require('./_baseSet'),\n    castPath = require('./_castPath');\n\n/**\n * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} paths The property paths to pick.\n * @param {Function} predicate The function invoked per property.\n * @returns {Object} Returns the new object.\n */\nfunction basePickBy(object, paths, predicate) {\n  var index = -1,\n      length = paths.length,\n      result = {};\n\n  while (++index < length) {\n    var path = paths[index],\n        value = baseGet(object, path);\n\n    if (predicate(value, path)) {\n      baseSet(result, castPath(path, object), value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = basePickBy;\n","var v1 = require('./v1');\nvar v4 = require('./v4');\n\nvar uuid = v4;\nuuid.v1 = v1;\nuuid.v4 = v4;\n\nmodule.exports = uuid;\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\nvar _clockseq;\n\n// Previous uuid creation time\nvar _lastMSecs = 0;\nvar _lastNSecs = 0;\n\n// See https://github.com/uuidjs/uuid for API details\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;\n\n  // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n  if (node == null || clockseq == null) {\n    var seedBytes = rng();\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [\n        seedBytes[0] | 0x01,\n        seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]\n      ];\n    }\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  }\n\n  // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();\n\n  // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;\n\n  // Time since last uuid creation (in msecs)\n  var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n\n  // Per 4.2.1.2, Bump clockseq on clock regression\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  }\n\n  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  }\n\n  // Per 4.2.1.2 Throw error if too many uuids are requested\n  if (nsecs >= 10000) {\n    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq;\n\n  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n  msecs += 12219292800000;\n\n  // `time_low`\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff;\n\n  // `time_mid`\n  var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff;\n\n  // `time_high_and_version`\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n  b[i++] = tmh >>> 16 & 0xff;\n\n  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n  b[i++] = clockseq >>> 8 | 0x80;\n\n  // `clock_seq_low`\n  b[i++] = clockseq & 0xff;\n\n  // `node`\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : bytesToUuid(b);\n}\n\nmodule.exports = v1;\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MosaicRoot = void 0;\nvar flatten_1 = __importDefault(require(\"lodash/flatten\"));\nvar react_1 = __importDefault(require(\"react\"));\nvar contextTypes_1 = require(\"./contextTypes\");\nvar Split_1 = require(\"./Split\");\nvar BoundingBox_1 = require(\"./util/BoundingBox\");\nvar mosaicUtilities_1 = require(\"./util/mosaicUtilities\");\nvar MosaicRoot = /** @class */ (function (_super) {\n    __extends(MosaicRoot, _super);\n    function MosaicRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.onResize = function (percentage, path, suppressOnRelease) {\n            _this.context.mosaicActions.updateTree([\n                {\n                    path: path,\n                    spec: {\n                        splitPercentage: {\n                            $set: percentage,\n                        },\n                    },\n                },\n            ], suppressOnRelease);\n        };\n        return _this;\n    }\n    MosaicRoot.prototype.render = function () {\n        var root = this.props.root;\n        return react_1.default.createElement(\"div\", { className: \"mosaic-root\" }, this.renderRecursively(root, BoundingBox_1.BoundingBox.empty(), []));\n    };\n    MosaicRoot.prototype.renderRecursively = function (node, boundingBox, path) {\n        if (mosaicUtilities_1.isParent(node)) {\n            var splitPercentage = node.splitPercentage == null ? 50 : node.splitPercentage;\n            var _a = BoundingBox_1.BoundingBox.split(boundingBox, splitPercentage, node.direction), first = _a.first, second = _a.second;\n            return flatten_1.default([\n                this.renderRecursively(node.first, first, path.concat('first')),\n                this.renderSplit(node.direction, boundingBox, splitPercentage, path),\n                this.renderRecursively(node.second, second, path.concat('second')),\n            ].filter(nonNullElement));\n        }\n        else {\n            return (react_1.default.createElement(\"div\", { key: node, className: \"mosaic-tile\", style: __assign({}, BoundingBox_1.BoundingBox.asStyles(boundingBox)) }, this.props.renderTile(node, path)));\n        }\n    };\n    MosaicRoot.prototype.renderSplit = function (direction, boundingBox, splitPercentage, path) {\n        var _this = this;\n        var resize = this.props.resize;\n        if (resize !== 'DISABLED') {\n            return (react_1.default.createElement(Split_1.Split, __assign({ key: path.join(',') + 'splitter' }, resize, { boundingBox: boundingBox, splitPercentage: splitPercentage, direction: direction, onChange: function (percentage) { return _this.onResize(percentage, path, true); }, onRelease: function (percentage) { return _this.onResize(percentage, path, false); } })));\n        }\n        else {\n            return null;\n        }\n    };\n    MosaicRoot.contextType = contextTypes_1.MosaicContext;\n    return MosaicRoot;\n}(react_1.default.PureComponent));\nexports.MosaicRoot = MosaicRoot;\nfunction nonNullElement(x) {\n    return x !== null;\n}\n//# sourceMappingURL=MosaicRoot.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Split = void 0;\nvar classnames_1 = __importDefault(require(\"classnames\"));\nvar clamp_1 = __importDefault(require(\"lodash/clamp\"));\nvar throttle_1 = __importDefault(require(\"lodash/throttle\"));\nvar react_1 = __importDefault(require(\"react\"));\nvar BoundingBox_1 = require(\"./util/BoundingBox\");\nvar RESIZE_THROTTLE_MS = 1000 / 30; // 30 fps\nvar TOUCH_EVENT_OPTIONS = {\n    capture: true,\n    passive: false,\n};\nvar Split = /** @class */ (function (_super) {\n    __extends(Split, _super);\n    function Split() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.rootElement = react_1.default.createRef();\n        _this.listenersBound = false;\n        _this.onMouseDown = function (event) {\n            if (!isTouchEvent(event)) {\n                if (event.button !== 0) {\n                    return;\n                }\n            }\n            event.preventDefault();\n            _this.bindListeners();\n        };\n        _this.onMouseUp = function (event) {\n            _this.unbindListeners();\n            var percentage = _this.calculateRelativePercentage(event);\n            _this.props.onRelease(percentage);\n        };\n        _this.onMouseMove = function (event) {\n            event.preventDefault();\n            event.stopPropagation();\n            _this.throttledUpdatePercentage(event);\n        };\n        _this.throttledUpdatePercentage = throttle_1.default(function (event) {\n            var percentage = _this.calculateRelativePercentage(event);\n            if (percentage !== _this.props.splitPercentage) {\n                _this.props.onChange(percentage);\n            }\n        }, RESIZE_THROTTLE_MS);\n        return _this;\n    }\n    Split.prototype.render = function () {\n        var direction = this.props.direction;\n        return (react_1.default.createElement(\"div\", { className: classnames_1.default('mosaic-split', {\n                '-row': direction === 'row',\n                '-column': direction === 'column',\n            }), ref: this.rootElement, onMouseDown: this.onMouseDown, style: this.computeStyle() },\n            react_1.default.createElement(\"div\", { className: \"mosaic-split-line\" })));\n    };\n    Split.prototype.componentDidMount = function () {\n        this.rootElement.current.addEventListener('touchstart', this.onMouseDown, TOUCH_EVENT_OPTIONS);\n    };\n    Split.prototype.componentWillUnmount = function () {\n        this.unbindListeners();\n        if (this.rootElement.current) {\n            this.rootElement.current.ownerDocument.removeEventListener('touchstart', this.onMouseDown, TOUCH_EVENT_OPTIONS);\n        }\n    };\n    Split.prototype.bindListeners = function () {\n        if (!this.listenersBound) {\n            this.rootElement.current.ownerDocument.addEventListener('mousemove', this.onMouseMove, true);\n            this.rootElement.current.ownerDocument.addEventListener('touchmove', this.onMouseMove, TOUCH_EVENT_OPTIONS);\n            this.rootElement.current.ownerDocument.addEventListener('mouseup', this.onMouseUp, true);\n            this.rootElement.current.ownerDocument.addEventListener('touchend', this.onMouseUp, true);\n            this.listenersBound = true;\n        }\n    };\n    Split.prototype.unbindListeners = function () {\n        if (this.rootElement.current) {\n            this.rootElement.current.ownerDocument.removeEventListener('mousemove', this.onMouseMove, true);\n            this.rootElement.current.ownerDocument.removeEventListener('touchmove', this.onMouseMove, TOUCH_EVENT_OPTIONS);\n            this.rootElement.current.ownerDocument.removeEventListener('mouseup', this.onMouseUp, true);\n            this.rootElement.current.ownerDocument.removeEventListener('touchend', this.onMouseUp, true);\n            this.listenersBound = false;\n        }\n    };\n    Split.prototype.computeStyle = function () {\n        var _a;\n        var _b = this.props, boundingBox = _b.boundingBox, direction = _b.direction, splitPercentage = _b.splitPercentage;\n        var positionStyle = direction === 'column' ? 'top' : 'left';\n        var absolutePercentage = BoundingBox_1.BoundingBox.getAbsoluteSplitPercentage(boundingBox, splitPercentage, direction);\n        return __assign(__assign({}, BoundingBox_1.BoundingBox.asStyles(boundingBox)), (_a = {}, _a[positionStyle] = absolutePercentage + \"%\", _a));\n    };\n    Split.prototype.calculateRelativePercentage = function (event) {\n        var _a = this.props, minimumPaneSizePercentage = _a.minimumPaneSizePercentage, direction = _a.direction, boundingBox = _a.boundingBox;\n        var parentBBox = this.rootElement.current.parentElement.getBoundingClientRect();\n        var location = isTouchEvent(event) ? event.changedTouches[0] : event;\n        var absolutePercentage;\n        if (direction === 'column') {\n            absolutePercentage = ((location.clientY - parentBBox.top) / parentBBox.height) * 100.0;\n        }\n        else {\n            absolutePercentage = ((location.clientX - parentBBox.left) / parentBBox.width) * 100.0;\n        }\n        var relativePercentage = BoundingBox_1.BoundingBox.getRelativeSplitPercentage(boundingBox, absolutePercentage, direction);\n        return clamp_1.default(relativePercentage, minimumPaneSizePercentage, 100 - minimumPaneSizePercentage);\n    };\n    Split.defaultProps = {\n        onChange: function () { return void 0; },\n        onRelease: function () { return void 0; },\n        minimumPaneSizePercentage: 20,\n    };\n    return Split;\n}(react_1.default.PureComponent));\nexports.Split = Split;\nfunction isTouchEvent(event) {\n    return event.changedTouches != null;\n}\n//# sourceMappingURL=Split.js.map","var baseClamp = require('./_baseClamp'),\n    toNumber = require('./toNumber');\n\n/**\n * Clamps `number` within the inclusive `lower` and `upper` bounds.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Number\n * @param {number} number The number to clamp.\n * @param {number} [lower] The lower bound.\n * @param {number} upper The upper bound.\n * @returns {number} Returns the clamped number.\n * @example\n *\n * _.clamp(-10, -5, 5);\n * // => -5\n *\n * _.clamp(10, -5, 5);\n * // => 5\n */\nfunction clamp(number, lower, upper) {\n  if (upper === undefined) {\n    upper = lower;\n    lower = undefined;\n  }\n  if (upper !== undefined) {\n    upper = toNumber(upper);\n    upper = upper === upper ? upper : 0;\n  }\n  if (lower !== undefined) {\n    lower = toNumber(lower);\n    lower = lower === lower ? lower : 0;\n  }\n  return baseClamp(toNumber(number), lower, upper);\n}\n\nmodule.exports = clamp;\n","/**\n * The base implementation of `_.clamp` which doesn't coerce arguments.\n *\n * @private\n * @param {number} number The number to clamp.\n * @param {number} [lower] The lower bound.\n * @param {number} upper The upper bound.\n * @returns {number} Returns the clamped number.\n */\nfunction baseClamp(number, lower, upper) {\n  if (number === number) {\n    if (upper !== undefined) {\n      number = number <= upper ? number : upper;\n    }\n    if (lower !== undefined) {\n      number = number >= lower ? number : lower;\n    }\n  }\n  return number;\n}\n\nmodule.exports = baseClamp;\n","var debounce = require('./debounce'),\n    isObject = require('./isObject');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\nmodule.exports = throttle;\n"],"sourceRoot":""}